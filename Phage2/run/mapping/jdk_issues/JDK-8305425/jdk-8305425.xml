<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:15:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305425] Thread.isAlive0 doesn&apos;t need to call into the VM</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305425</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We have the strange situation where calling t.isAlive() on a java.lang.Thread t, will call into the VM (via alive() then isAlive0()) where the VM then examines the eetop field of t to extract its JavaThread pointer and compare it to null. We can simply read eetop directly in Thread.alive():&lt;br/&gt;
&lt;br/&gt;
synchronized boolean alive() {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;return eetop != 0;&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
Why the VM call was ever performed is lost in history. In JDK 1.1 the code was completely different. In JDK 1.2 we have essentially the same code as today.&lt;br/&gt;
&lt;br/&gt;
The synchronized is needed to ensure thread terminations Happens-before isAlive() returns false. And it also guards against the field check being hoisted in a loop like: while (t.isAlive() ...&lt;br/&gt;
&lt;br/&gt;
EDIT: The actual fix used a volatile eetop rather than synchronized in isAlive. The VM also treats eetop like a volatile and does the necessary `release` operation to create the required happens-before ordering.</description>
                <environment></environment>
        <key id="5097722">JDK-8305425</key>
            <summary>Thread.isAlive0 doesn&apos;t need to call into the VM</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dholmes">David Holmes</assignee>
                                    <reporter username="dholmes">David Holmes</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>cleanup</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>threads</label>
                    </labels>
                <created>Sun, 2 Apr 2023 22:38:15 -0700</created>
                <updated>Thu, 16 Nov 2023 05:26:03 -0800</updated>
                            <resolved>Wed, 5 Apr 2023 14:57:55 -0700</resolved>
                                    <version>17</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14591695" author="shade" created="Fri, 23 Jun 2023 08:23:27 -0700"  >Fix Request (17u)&lt;br/&gt;
&lt;br/&gt;
Optimizes the (surprisingly frequent) Thread.isAlive check. Does not apply cleanly due to contextual differences with Loom, but conflicts are easy to resolve. See JDK 17u PR. Testing passes.</comment>
                            <comment id="14589077" author="roboduke" created="Tue, 13 Jun 2023 12:14:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1425&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1425&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-13 09:02:28 +0000</comment>
                            <comment id="14584524" author="shade" created="Thu, 25 May 2023 06:53:35 -0700"  >Turns out, there are plenty of Thread.isAlive calls in our service profiles, so this is actually a good improvement!</comment>
                            <comment id="14572101" author="dukebot" created="Wed, 5 Apr 2023 14:57:53 -0700"  >Changeset: 35cb303a&lt;br/&gt;
Author:    David Holmes &amp;lt;&lt;a href=&apos;mailto:dholmes@openjdk.org&apos;&gt;dholmes@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-05 21:54:38 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/35cb303a2c0c8b32de257c02e012a1928a6b4594&quot;&gt;https://git.openjdk.org/jdk/commit/35cb303a2c0c8b32de257c02e012a1928a6b4594&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14571173" author="roboduke" created="Mon, 3 Apr 2023 00:23:27 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13287&quot;&gt;https://git.openjdk.org/jdk/pull/13287&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-03 07:17:59 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5103473">JDK-8310270</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5103541">JDK-8310325</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5104314">JDK-8311036</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5098908">JDK-8306452</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5112081">JDK-8317834</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30zhn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>