<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:47:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8319651] Several network tests ignore vm flags when start java process</title>
                <link>https://bugs.openjdk.org/browse/JDK-8319651</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Few tests&lt;br/&gt;
java/net/InetAddress/ptr/Lookup.java &lt;br/&gt;
java/net/ServerSocket/AcceptCauseFileDescriptorLeak.java &lt;br/&gt;
java/net/ServerSocket/AcceptInheritHandle.java &lt;br/&gt;
java/net/URLClassLoader/getresourceasstream/TestDriver.java &lt;br/&gt;
java/net/URLClassLoader/sealing/CheckSealedTest.java &lt;br/&gt;
java/net/URLConnection/6212146/TestDriver.java &lt;br/&gt;
java/net/URLConnection/ContentHandlers/ContentHandlersTest.java &lt;br/&gt;
java/net/httpclient/security/Driver.java &lt;br/&gt;
java/net/spi/URLStreamHandlerProvider/Basic.java &lt;br/&gt;
javax/net/ssl/DTLS/DTLSWontNegotiateV10.java &lt;br/&gt;
javax/net/ssl/ciphersuites/TLSWontNegotiateDisabledCipherAlgos.java#Client &lt;br/&gt;
javax/net/ssl/ciphersuites/TLSWontNegotiateDisabledCipherAlgos.java#Server &lt;br/&gt;
sun/net/www/protocol/jar/GetContentTypeTest.java &lt;br/&gt;
sun/net/www/protocol/jar/jarbug/TestDriver.java &lt;br/&gt;
sun/net/www/protocol/jrt/OtherResourcesTest.java &lt;br/&gt;
&lt;br/&gt;
ignore vm flags. Need to update them to accept flags.</description>
                <environment></environment>
        <key id="5114240">JDK-8319651</key>
            <summary>Several network tests ignore vm flags when start java process</summary>
                <type id="5" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14716&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="5114148">JDK-8319566</parent>
                                    <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dclarke">Darragh Clarke</assignee>
                                    <reporter username="lmesnik">Leonid Mesnik</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>testbug</label>
                    </labels>
                <created>Tue, 7 Nov 2023 09:53:03 -0800</created>
                <updated>Fri, 25 Oct 2024 01:03:21 -0700</updated>
                            <resolved>Tue, 20 Feb 2024 08:03:03 -0800</resolved>
                                    <version>22</version>
                                    <fixVersion>23</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14715774" author="roboduke" created="Tue, 22 Oct 2024 05:41:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2985&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2985&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-22 12:34:58 +0000</comment>
                            <comment id="14715772" author="goetz" created="Tue, 22 Oct 2024 05:35:58 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.14-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Resolved Copyright, probably clean.&lt;br/&gt;
Tests pass.  SAP nightly testing passed.</comment>
                            <comment id="14659863" author="roboduke" created="Sat, 23 Mar 2024 12:59:40 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/400&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/400&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-23 19:56:08 +0000</comment>
                            <comment id="14659862" author="goetz" created="Sat, 23 Mar 2024 12:56:39 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.4-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Tests pass. SAP nightly testing passed.</comment>
                            <comment id="14650845" author="dukebot" created="Tue, 20 Feb 2024 08:03:02 -0800"  >Changeset: 9538f5d3&lt;br/&gt;
Author:    Darragh Clarke &amp;lt;&lt;a href=&apos;mailto:dclarke@openjdk.org&apos;&gt;dclarke@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-02-20 16:00:09 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/9538f5d317972bbb82f7f2575819d35d2a5f8b91&quot;&gt;https://git.openjdk.org/jdk/commit/9538f5d317972bbb82f7f2575819d35d2a5f8b91&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14647918" author="roboduke" created="Fri, 9 Feb 2024 03:42:40 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17787&quot;&gt;https://git.openjdk.org/jdk/pull/17787&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-09 11:38:07 +0000</comment>
                            <comment id="14624738" author="lmesnik" created="Tue, 7 Nov 2023 22:12:42 -0800"  >Sorry, I mistyped affectional -&amp;gt; &amp;#39;additional&amp;#39;.&lt;br/&gt;
The &lt;br/&gt;
@requires vm.flagless&lt;br/&gt;
means that test ignores or incompatible with any additional options provided to jtreg and shouldn&amp;#39;t be executed in this case.&lt;br/&gt;
It will be executed in tier2, because it is executed with no additional flags. But will be skipped if anyone run this test if something like  ZGC or -Xcomp enabled or jtreg VM options.</comment>
                            <comment id="14624728" author="lmesnik" created="Tue, 7 Nov 2023 21:44:58 -0800"  >Hi,&lt;br/&gt;
You could &lt;br/&gt;
1) Update test to start the process using ProcessTools API:&lt;br/&gt;
ProcessTools.createTestJavaProcessBuilder(&amp;quot;-Djava.net.preferIPv4Stack=true&amp;quot;, testClz);&lt;br/&gt;
2) Add tag&lt;br/&gt;
* @requires vm.flagless&lt;br/&gt;
to mark test so it is skipped when and affectional vm flag is set.&lt;br/&gt;
3) Manually read properties  &amp;quot;test.vm.opts&amp;quot; , &amp;quot;test.java.opts&amp;quot; and add them to the command-line. I prefer to don&amp;#39;t use it. </comment>
                            <comment id="14624715" author="jpai" created="Tue, 7 Nov 2023 20:50:48 -0800"  >Hello Leonid, I had a look at the umbrella JBS issue related to this sub task. It isn&amp;#39;t completely clear to me what kind of changes/review is expected to be done of these test cases. &lt;br/&gt;
&lt;br/&gt;
For example, in the list of test cases that have been listed in this issue, there is java/net/InetAddress/ptr/Lookup.java. This test doesn&amp;#39;t use ProcessTools from the test library to launch processes. Instead it just launches a java process as follows:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String java = JDKToolFinder.getTestJDKTool(&amp;quot;java&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String testClz = Lookup.class.getName();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;List&amp;lt;String&amp;gt; cmd = List.of(java, &amp;quot;-Djava.net.preferIPv4Stack=true&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;-cp&amp;quot;, CLASS_PATH, testClz);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(&amp;quot;Executing: &amp;quot; + cmd);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return new OutputAnalyzer(new ProcessBuilder(cmd).start()).getOutput();&lt;br/&gt;
&lt;br/&gt;
What kind of changes are expected of this test and what VM options are expected to be passed to the process being launched?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5125020">JDK-8328850</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5125158">JDK-8328974</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5142011">JDK-8342652</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5142463">JDK-8343052</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33s9f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="193"><![CDATA[java.net]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>