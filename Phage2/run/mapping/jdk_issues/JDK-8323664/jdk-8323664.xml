<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:21:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8323664] java/awt/font/JNICheck/FreeTypeScalerJNICheck.java still fails with JNI warning on some Windows configurations</title>
                <link>https://bugs.openjdk.org/browse/JDK-8323664</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Test java/awt/font/JNICheck/FreeTypeScalerJNICheck.java introduced with &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8269223&quot; title=&quot;-Xcheck:jni WARNINGs working with fonts on Linux&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8269223&quot;&gt;&lt;strike&gt;JDK-8269223&lt;/strike&gt;&lt;/a&gt; still shows the JNI warning below on some of our Windows server 2019 configurations.&lt;br/&gt;
&lt;br/&gt;
A fix was attempted with &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8276809&quot; title=&quot;java/awt/font/JNICheck/FreeTypeScalerJNICheck.java shows JNI warning on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8276809&quot;&gt;&lt;strike&gt;JDK-8276809&lt;/strike&gt;&lt;/a&gt; but after integration it was deemed premature and had to be backouted under &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8323330&quot; title=&quot;[BACKOUT] JDK-8276809: java/awt/font/JNICheck/FreeTypeScalerJNICheck.java shows JNI warning on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8323330&quot;&gt;&lt;strike&gt;JDK-8323330&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
:stdErr:&lt;br/&gt;
Thu Oct 28 01:27:10 CEST 2021&lt;br/&gt;
stdout: [WARNING in native method: JNI call made without checking exceptions when required to from CallStaticVoidMethodV&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at sun.awt.Win32GraphicsEnvironment.initDisplay(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/Native Method)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at sun.awt.Win32GraphicsEnvironment.initDisplayWrapper(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/Win32GraphicsEnvironment.java:95)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at sun.awt.Win32GraphicsEnvironment.&amp;lt;clinit&amp;gt;(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/Win32GraphicsEnvironment.java:63)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at sun.awt.PlatformGraphicsInfo.createGE(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/PlatformGraphicsInfo.java:34)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.awt.GraphicsEnvironment$LocalGE.createGE(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/GraphicsEnvironment.java:93)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.awt.GraphicsEnvironment$LocalGE.&amp;lt;clinit&amp;gt;(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/GraphicsEnvironment.java:84)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(&lt;a href=&apos;mailto:java.desktop@18.0.0.1-internal&apos;&gt;java.desktop@18.0.0.1-internal&lt;/a&gt;/GraphicsEnvironment.java:106)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at FreeTypeScalerJNICheck.runTest(FreeTypeScalerJNICheck.java:53)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at FreeTypeScalerJNICheck.main(FreeTypeScalerJNICheck.java:44)&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5118840">JDK-8323664</key>
            <summary>java/awt/font/JNICheck/FreeTypeScalerJNICheck.java still fails with JNI warning on some Windows configurations</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clanger">Christoph Langer</assignee>
                                    <reporter username="clanger">Christoph Langer</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                    </labels>
                <created>Fri, 12 Jan 2024 04:26:10 -0800</created>
                <updated>Tue, 27 Feb 2024 01:53:08 -0800</updated>
                            <resolved>Thu, 15 Feb 2024 14:38:35 -0800</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14651859" author="roboduke" created="Fri, 23 Feb 2024 03:22:58 -0800"  >[jdk21u-fix-request] Approval Request from Christoph Langer&lt;br/&gt;
This hardens the awt debug build against JNI warnings during assertions. The risk is low as only debug &amp;amp; test code is affected. Testing: GHA and SAP nightlies.</comment>
                            <comment id="14651858" author="roboduke" created="Fri, 23 Feb 2024 03:22:46 -0800"  >[jdk22u-fix-request] Approval Request from Christoph Langer&lt;br/&gt;
This hardens the awt debug build against JNI warnings during assertions. The risk is low as only debug &amp;amp; test code is affected.</comment>
                            <comment id="14651832" author="roboduke" created="Fri, 23 Feb 2024 01:53:47 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/285&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/285&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-23 09:48:08 +0000</comment>
                            <comment id="14651829" author="roboduke" created="Fri, 23 Feb 2024 01:45:17 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/67&quot;&gt;https://git.openjdk.org/jdk22u/pull/67&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-23 09:41:16 +0000</comment>
                            <comment id="14649823" author="dukebot" created="Thu, 15 Feb 2024 14:38:34 -0800"  >Changeset: 99c9ae12&lt;br/&gt;
Author:    Christoph Langer &amp;lt;&lt;a href=&apos;mailto:clanger@openjdk.org&apos;&gt;clanger@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-02-15 22:36:54 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/99c9ae127c0a3b8c4fc6ede87079ff7c693a2905&quot;&gt;https://git.openjdk.org/jdk/commit/99c9ae127c0a3b8c4fc6ede87079ff7c693a2905&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14643511" author="clanger" created="Wed, 24 Jan 2024 08:41:49 -0800"  >We just figured out that the JNI warning is an effect of hitting the assertion reported in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8185862&quot; title=&quot;AWT Assertion Failure in ::GetDIBits(hBMDC, hBM, 0, 1, 0, gpBitmapInfo, 0) &amp;#39;awt_Win32GraphicsDevice.cpp&amp;#39;, at line 185&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8185862&quot;&gt;&lt;strike&gt;JDK-8185862&lt;/strike&gt;&lt;/a&gt; in our test configuration. While the assertion should be addressed in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8185862&quot; title=&quot;AWT Assertion Failure in ::GetDIBits(hBMDC, hBM, 0, 1, 0, gpBitmapInfo, 0) &amp;#39;awt_Win32GraphicsDevice.cpp&amp;#39;, at line 185&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8185862&quot;&gt;&lt;strike&gt;JDK-8185862&lt;/strike&gt;&lt;/a&gt;, I think the coding could still be improved to avoid the JNI warning. And maybe FreeTypeScalerJNICheck should also bail out on assertions in the test JVM output, independently from JNI warnings. I added a comment to the PR.</comment>
                            <comment id="14639925" author="roboduke" created="Fri, 12 Jan 2024 09:51:58 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17404&quot;&gt;https://git.openjdk.org/jdk/pull/17404&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-12 17:47:23 +0000</comment>
                            <comment id="14639840" author="mdoerr" created="Fri, 12 Jan 2024 06:23:56 -0800"  >I guess that &amp;quot;dwmCompositionChanged&amp;quot; only exists because there were enhancement ideas: &lt;a href=&quot;https://github.com/openjdk/jdk/blame/e22ab10991d9e82aad56cbfa89d5b82fd48fc8c3/src/java.desktop/windows/classes/sun/awt/Win32GraphicsEnvironment.java#L257&quot;&gt;https://github.com/openjdk/jdk/blame/e22ab10991d9e82aad56cbfa89d5b82fd48fc8c3/src/java.desktop/windows/classes/sun/awt/Win32GraphicsEnvironment.java#L257&lt;/a&gt;&lt;br/&gt;
Is this 16 year old comment still valid? Otherwise we could remove &amp;quot;dwmCompositionChanged&amp;quot; and use JNI SetStaticBooleanField() instead.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5122533">JDK-8326769</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122535">JDK-8326771</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4937217">JDK-8185862</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5052488">JDK-8269223</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5062207">JDK-8276809</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118461">JDK-8323330</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34jrn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="197"><![CDATA[2d]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>