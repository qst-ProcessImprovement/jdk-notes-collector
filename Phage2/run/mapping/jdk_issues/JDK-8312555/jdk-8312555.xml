<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:42:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8312555] Ideographic characters aren&apos;t stretched by AffineTransform.scale(2, 1)</title>
                <link>https://bugs.openjdk.org/browse/JDK-8312555</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>If you apply an affine transform to a font, for example AffineTransform.scale(2, 1), the characters aren&amp;#39;t horizontally stretched in JDK 11 and above. It works in correctly in previous versions of Java.&lt;br/&gt;
&lt;br/&gt;
JDK10 or earlier: Characters are stretched horizontally by the specified scale.&lt;br/&gt;
JDK11 or later: Spacing between characters is increased instead of stretching the characters horizontally.</description>
                <environment></environment>
        <key id="5106047">JDK-8312555</key>
            <summary>Ideographic characters aren&apos;t stretched by AffineTransform.scale(2, 1)</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aivanov">Alexey Ivanov</assignee>
                                    <reporter username="shadowbug">Shadow Bug</reporter>
                        <labels>
                            <label>11bpr-critical-approved</label>
                            <label>8-na</label>
                            <label>CPU23_10-critical-SQE-OK</label>
                            <label>CPU23_10-critical-approved</label>
                            <label>bugdb_35633451</label>
                            <label>cssn23_07_02</label>
                            <label>cssn23_08_01</label>
                            <label>cssn23_08_02</label>
                            <label>jdk11u-critical-request</label>
                            <label>jdk11u-critical-yes</label>
                            <label>jdk17u-critical-request</label>
                            <label>jdk17u-critical-yes</label>
                            <label>jdk21u-fix-SQE-ok</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>regression</label>
                            <label>sustaining</label>
                    </labels>
                <created>Sun, 23 Jul 2023 21:31:16 -0700</created>
                <updated>Wed, 20 Sep 2023 06:48:13 -0700</updated>
                            <resolved>Wed, 23 Aug 2023 04:49:35 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>22</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14611399" author="goetz" created="Thu, 14 Sep 2023 23:45:45 -0700"  >Critical request [11u, 17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 11.0.21/17.0.9-oracle.&lt;br/&gt;
As the risk is low I would like to bring this to the October update.&lt;br/&gt;
The risk is low, it is a quite simple change in font code.&lt;br/&gt;
I had to resolve copyrights and adapt the test to Java 11.&lt;br/&gt;
The test fails without the fix, and passes with the fix applied. SAP nightly testing passed.&lt;br/&gt;
</comment>
                            <comment id="14610426" author="roboduke" created="Tue, 12 Sep 2023 08:05:19 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u/pull/83&quot;&gt;https://git.openjdk.org/jdk11u/pull/83&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-12 14:56:39 +0000</comment>
                            <comment id="14610407" author="roboduke" created="Tue, 12 Sep 2023 06:48:27 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u/pull/380&quot;&gt;https://git.openjdk.org/jdk17u/pull/380&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-12 13:38:01 +0000</comment>
                            <comment id="14606104" author="roboduke" created="Wed, 23 Aug 2023 05:02:30 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/90&quot;&gt;https://git.openjdk.org/jdk21u/pull/90&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-23 11:55:59 +0000</comment>
                            <comment id="14606103" author="aivanov" created="Wed, 23 Aug 2023 05:00:33 -0700"  >Fix request (21u)&lt;br/&gt;
&lt;br/&gt;
Clean backport. It is a fix to a regression introduced in Java 11 with the switch to FreeType font scaler.&lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk21u/pull/90&quot;&gt;https://github.com/openjdk/jdk21u/pull/90&lt;/a&gt;</comment>
                            <comment id="14606101" author="dukebot" created="Wed, 23 Aug 2023 04:49:34 -0700"  >Changeset: 62610203&lt;br/&gt;
Author:    Alexey Ivanov &amp;lt;&lt;a href=&apos;mailto:aivanov@openjdk.org&apos;&gt;aivanov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-08-23 11:48:22 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/62610203f18095cbd25b456f0622bad033a65a5d&quot;&gt;https://git.openjdk.org/jdk/commit/62610203f18095cbd25b456f0622bad033a65a5d&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14604809" author="roboduke" created="Thu, 17 Aug 2023 13:49:49 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15335&quot;&gt;https://git.openjdk.org/jdk/pull/15335&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-17 20:43:59 +0000</comment>
                            <comment id="14604805" author="aivanov" created="Thu, 17 Aug 2023 13:38:37 -0700"  >Fix:&lt;br/&gt;
Disable using embedded bitmaps if horizontal transform is different from the vertical one.&lt;br/&gt;
It&amp;#39;s similar to &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8204929&quot; title=&quot;Fonts with embedded bitmaps are not always rotated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8204929&quot;&gt;&lt;strike&gt;JDK-8204929&lt;/strike&gt;&lt;/a&gt; and &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8255387&quot; title=&quot;Japanese characters were printed upside down on AIX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8255387&quot;&gt;&lt;strike&gt;JDK-8255387&lt;/strike&gt;&lt;/a&gt;.</comment>
                            <comment id="14604777" author="aivanov" created="Thu, 17 Aug 2023 11:44:04 -0700"  >I updated the attached app, ScaledFont.java. I added Japanese and Chinese hieroglyphs to the text rendered: &#26481;&#20140; (Tokyo) and &#21271;&#20140; (Beijing); I modified the list of fonts.&lt;br/&gt;
&lt;br/&gt;
I also updated the screenshot of JDK 11 running the updated version of the ScaledFont.java test case on a Japanese version of Windows.&lt;br/&gt;
&lt;br/&gt;
With the hieroglyphs in the text, the issue is reproducible on an English version of Windows.&lt;br/&gt;
&lt;br/&gt;
I couldn&amp;#39;t reproduce the problem on macOS or Linux.&lt;br/&gt;
&lt;br/&gt;
To compile the test case, you need to specify the encoding:&lt;br/&gt;
javac -encoding UTF-8 ScaledFont.java</comment>
                            <comment id="14603497" author="aivanov" created="Fri, 11 Aug 2023 12:03:02 -0700"  >Root cause:&lt;br/&gt;
Bitmaps embedded in the font are used to render the characters; the bitmaps aren&amp;#39;t transformed, so white-space is seen which fills the requested horizontal size.</comment>
                            <comment id="14603495" author="aivanov" created="Fri, 11 Aug 2023 11:59:14 -0700"  >The problem is also reproducible in English version of Windows, you just need to display hieroglyphs instead of English characters.&lt;br/&gt;
&lt;br/&gt;
The issue is more prominent in Japanese version of Windows because &amp;quot;MS Gothic&amp;quot; font is used for English characters too.</comment>
                            <comment id="14601455" author="aivanov" created="Wed, 2 Aug 2023 13:25:54 -0700"  >The problem is reproducible in Japanese version of Windows with Java 11 and 17. Only Monospaced logical font is affected.&lt;br/&gt;
&lt;br/&gt;
In Java 20, the problem isn&amp;#39;t reproducible, &amp;#39;Courier New&amp;#39; seems to be used. Yet it may not be capable of displaying Japanese hieroglyphs.</comment>
                            <comment id="14600756" author="prr" created="Tue, 1 Aug 2023 14:52:46 -0700"  >So it isn&amp;#39;t reproducible ?&lt;br/&gt;
I was taking it at face value that the person was reporting this because it was true.&lt;br/&gt;
I assumed it wasn&amp;#39;t reproducible on mac because that never used T2K in the first place.&lt;br/&gt;
</comment>
                            <comment id="14600754" author="aivanov" created="Tue, 1 Aug 2023 14:37:36 -0700"  >[~prr] I&amp;#39;ve attached an image, &amp;quot;10 vs 11.png&amp;quot;, which compares Java 10 and Java 11, top and bottom correspondingly.&lt;br/&gt;
&lt;br/&gt;
The bounding rectangle:&lt;br/&gt;
&lt;br/&gt;
10: 1329&amp;#xD7;26&lt;br/&gt;
11: 1332&amp;#xD7;26&lt;br/&gt;
&lt;br/&gt;
There are subtle differences in the widths of some characters and spaces between them. Yet none of these differences seems to look like a bug.&lt;br/&gt;
&lt;br/&gt;
I tested on Windows, macOS and Linux. All produce similar images, 10 and 11 have subtle differences, later versions produce the same rendering.&lt;br/&gt;
&lt;br/&gt;
I used ScaledFont.java as the test case:&lt;br/&gt;
1. In the first line, it displays the text rendered using the font derived by an affine transform;&lt;br/&gt;
2. In the second line, it displays the text by applying the same affine transform to the Graphics object;&lt;br/&gt;
3. In the third line, it displays the text without applying any transforms.</comment>
                            <comment id="14600397" author="aivanov" created="Mon, 31 Jul 2023 13:10:08 -0700"  >I see a subtle difference between 10 and 11 but I see the letters are stretched as expected. It doesn&amp;#39;t look as if the text is stretched by increasing the spacing between the characters.</comment>
                            <comment id="14600283" author="prr" created="Mon, 31 Jul 2023 09:10:37 -0700"  >Clearly a regression due to removing T2K from Oracle JDK and relying on freetype.&lt;br/&gt;
Not reproducible on macOS. Is it on both Windows and Linux ?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5108780">JDK-8314941</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5108815">JDK-8314969</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5108876">JDK-8315027</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5109735">JDK-8315775</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5109736">JDK-8315776</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5110397">JDK-8316353</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5110398">JDK-8316354</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5110682">JDK-8316597</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5110683">JDK-8316598</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5109606">JDK-8315660</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4963931">JDK-8204929</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5033141">JDK-8255387</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5110229">JDK-8316206</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="104928" name="10 vs 11.png" size="4827" author="aivanov" created="Tue, 1 Aug 2023 14:29:41 -0700"/>
                            <attachment id="105154" name="11-japanese.png" size="23663" author="aivanov" created="Thu, 17 Aug 2023 11:36:18 -0700"/>
                            <attachment id="104714" name="Graph.java" size="985" author="tongwan" created="Mon, 24 Jul 2023 02:59:34 -0700"/>
                            <attachment id="105153" name="ScaledFont.java" size="6503" author="aivanov" created="Thu, 17 Aug 2023 11:35:52 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="18723">11</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32e8z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17349"><![CDATA[b12]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="197"><![CDATA[2d]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>