<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 08:44:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8292157] Incorrect error: &quot;block element not allowed within inline element &lt;a&gt;&quot;</title>
                <link>https://bugs.openjdk.org/browse/JDK-8292157</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
For example when a p tag is nested within an a tag, Javadoc incorrectly gives this error.&lt;br/&gt;
The content model of the a tag is &amp;quot;transparent&amp;quot; (with some specific restrictions, see [1]).&lt;br/&gt;
I don&amp;#39;t know whether Javadoc fully implements all the content models [2] and their rules, but it should err on the side of caution and not give errors on valid HTML5 content.&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element&quot;&gt;https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element&lt;/a&gt;&lt;br/&gt;
[2] &lt;a href=&quot;https://html.spec.whatwg.org/multipage/dom.html#content-models&quot;&gt;https://html.spec.whatwg.org/multipage/dom.html#content-models&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :&lt;br/&gt;
Create `Foo.java` as below and run `javadoc Foo.java`.&lt;br/&gt;
&lt;br/&gt;
EXPECTED VERSUS ACTUAL BEHAVIOR :&lt;br/&gt;
EXPECTED -&lt;br/&gt;
No errors&lt;br/&gt;
ACTUAL -&lt;br/&gt;
Foo.java:5: error: block element not allowed within inline element &amp;lt;a&amp;gt;: p&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;p&amp;gt;A whole paragraph&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;^&lt;br/&gt;
&lt;br/&gt;
---------- BEGIN SOURCE ----------&lt;br/&gt;
/**&lt;br/&gt;
Sentence.&lt;br/&gt;
&lt;br/&gt;
&amp;lt;a href=&amp;quot;&lt;a href=&quot;https://foo.bar&quot;&gt;https://foo.bar&lt;/a&gt;&amp;quot;&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;p&amp;gt;A whole paragraph&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;that is clickable.&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;/a&amp;gt;&lt;br/&gt;
&amp;nbsp;*/&lt;br/&gt;
public class Foo {}&lt;br/&gt;
&lt;br/&gt;
---------- END SOURCE ----------&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5081257">JDK-8292157</key>
            <summary>Incorrect error: &quot;block element not allowed within inline element &lt;a&gt;&quot;</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hannesw">Hannes Wallnoefer</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>20ea</label>
                            <label>dcsad</label>
                            <label>reproducer-yes</label>
                            <label>webbug</label>
                    </labels>
                <created>Tue, 9 Aug 2022 09:12:27 -0700</created>
                <updated>Mon, 12 Jun 2023 20:50:02 -0700</updated>
                            <resolved>Tue, 6 Jun 2023 12:36:40 -0700</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14587449" author="dukebot" created="Tue, 6 Jun 2023 12:36:33 -0700"  >Changeset: 0a4f9ad6&lt;br/&gt;
Author:    Hannes Walln&amp;#xF6;fer &amp;lt;&lt;a href=&apos;mailto:hannesw@openjdk.org&apos;&gt;hannesw@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-06 19:33:35 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/0a4f9ad637df2f602e47940d039bb12e316fb62a&quot;&gt;https://git.openjdk.org/jdk/commit/0a4f9ad637df2f602e47940d039bb12e316fb62a&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14581584" author="roboduke" created="Mon, 15 May 2023 07:49:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13990&quot;&gt;https://git.openjdk.org/jdk/pull/13990&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-15 14:43:15 +0000</comment>
                            <comment id="14581235" author="hannesw" created="Fri, 12 May 2023 07:52:45 -0700"  >I decided to only make the change from error to warning for links. In contrast to most other inline elements, links are commonly used both with inline and block style as their purpose is not layout-related.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://html5doctor.com/block-level-links-in-html-5/&quot;&gt;http://html5doctor.com/block-level-links-in-html-5/&lt;/a&gt;</comment>
                            <comment id="14580933" author="hannesw" created="Thu, 11 May 2023 06:14:56 -0700"  >Here is another relevant section of the HTML spec: &lt;a href=&quot;https://html.spec.whatwg.org/#restrictions-on-content-models-and-on-attribute-values&quot;&gt;https://html.spec.whatwg.org/#restrictions-on-content-models-and-on-attribute-values&lt;/a&gt; (subsection &amp;quot;Cases where the default styles are likely to lead to confusion&amp;quot;).&lt;br/&gt;
&lt;br/&gt;
This suggests that whether above case is valid depends on the CSS applied to the elements involved. The default dispay style for anchor elements is `inline`, but it could of course be `block` or any other valid value for the `display` property. Since we cannot know the CSS for an HTML element in a doc comment we are processing, I think this strengthens the case for turning this check from an error to a warning.</comment>
                            <comment id="14567179" author="hannesw" created="Wed, 15 Mar 2023 09:58:23 -0700"  >I don&amp;#39;t think the conclusions are as clear-cut as the bug report suggests. HTML5 replaces block and inline elements with flow and phrasing content respectively, so we should probably update our messages. But I think it still at least discourages the use of `a` spanning or containing multiple paragraphs. &lt;br/&gt;
&lt;br/&gt;
It&amp;#39;s true that the content model of the `a` element is transparent, which means it is derived from its parent element (or the parent&amp;#39;s parent if the parent has transparent content model as well).&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://html.spec.whatwg.org/multipage/dom.html#transparent-content-models&quot;&gt;https://html.spec.whatwg.org/multipage/dom.html#transparent-content-models&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
But the definition of the `a` element also states that it is intended to be used as phrasing content, which is text at the intra-paragraph level (thus excluding flow-content elements `p` and `div`).&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element&quot;&gt;https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://html.spec.whatwg.org/multipage/dom.html#phrasing-content&quot;&gt;https://html.spec.whatwg.org/multipage/dom.html#phrasing-content&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
The fact that most doc comments end up inside `div` elements does not necessarily mean they are to not to be considered paragraphs/phrasing content. The HTML5 spec makes it clear that the `p` element is not the only way to define a paragraph, and content may be considered a paragraph even if it is contained by an element with flow content model such as `div` or `section`. I do think main descriptions in JavaDoc comments should functionally be considered paragraphs/phrasing content.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://html.spec.whatwg.org/multipage/dom.html#paragraphs&quot;&gt;https://html.spec.whatwg.org/multipage/dom.html#paragraphs&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
All this considered I think we should definitely update the language of our messages to HTML5 terminology, and maybe downgrade this and similar cases from error to warning.</comment>
                            <comment id="14556673" author="jjg" created="Wed, 1 Feb 2023 11:46:12 -0800"  >&amp;gt; but it should err on the side of caution and not give errors on valid HTML5 content.&lt;br/&gt;
&lt;br/&gt;
Yes.</comment>
                            <comment id="14556672" author="jjg" created="Wed, 1 Feb 2023 11:45:31 -0800"  >Cool; didn&amp;#39;t know about &amp;quot;transparent&amp;quot; content.</comment>
                            <comment id="14516864" author="adev" created="Tue, 9 Aug 2022 21:04:51 -0700"  >In HTML 4.x (and earlier) and XHTML 1.x &amp;lt;a&amp;gt; elements may not contain &amp;lt;p&amp;gt; elements. In HTML 5, &amp;lt;a&amp;gt; elements may contain &amp;lt;p&amp;gt; elements, but browsers are not very good at it.&lt;br/&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2y7c3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="224"><![CDATA[javadoc(tool)]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>