<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 16:32:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8301793] AlgorithmId should not encode a missing parameters field as NULL unless hardcoded</title>
                <link>https://bugs.openjdk.org/browse/JDK-8301793</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>When an AlgorithmId object with no parameters is encoded, sometimes we put an ASN.1 NULL there, sometimes we do not emit the parameters field at all. Currently, we maintain a hardcoded list for the latter cases inside JDK. If an OID does not fall into that list, we add a NULL.&lt;br/&gt;
&lt;br/&gt;
Recently defined object identifiers all claim that parameters MUST be absent if there is none. This means every time such an OID is introduced we will need to update the list. It is quite likely that we forget about one of them, especially if the OID is first supported by a 3rd party security provider.&lt;br/&gt;
&lt;br/&gt;
I suggest we inverse the check and maintain a hardcoded list for those OIDs that requires a NULL. According to RFC 8017, all RSA related key and signature algorithms require NULL. MessageDigest algorithms like SHA-1 and SHA-256 are not required (or even recommended) to add a NULL but traditionally vendors add a NULL there. These are the 2 families of OIDs that will be included in the current list.&lt;br/&gt;
&lt;br/&gt;
For all other OIDs, when there is no parameters, we will not encode it at all. This will be a behavior change for those that were not in the current do-not-encode list. Most documents and specifications would either require the parameters to be absent or require an implementation to accept both present and absent parameters. Existing tests have not revealed any interoperability issue.</description>
                <environment></environment>
        <key id="5093353">JDK-8301793</key>
            <summary>AlgorithmId should not encode a missing parameters field as NULL unless hardcoded</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="weijun">Weijun Wang</assignee>
                                    <reporter username="weijun">Weijun Wang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Feb 2023 08:50:06 -0800</created>
                <updated>Fri, 27 Jun 2025 01:03:00 -0700</updated>
                            <resolved>Mon, 6 Mar 2023 08:22:50 -0800</resolved>
                                                    <fixVersion>21</fixVersion>
                                    <component>security-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14785493" author="roboduke" created="Mon, 2 Jun 2025 04:50:53 -0700"  >[jdk17u-fix-request] Approval Request from Varada M&lt;br/&gt;
the backport fix where the AlgorithmId should omit the parameters field when it is not required, rather than encoding it as NULL, unless the algorithm explicitly mandates. JTREG testing successful for sun/security</comment>
                            <comment id="14785489" author="roboduke" created="Mon, 2 Jun 2025 04:41:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3615&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3615&lt;/a&gt;&lt;br/&gt;
Date: 2025-06-02 11:36:33 +0000</comment>
                            <comment id="14597009" author="mullan" created="Tue, 18 Jul 2023 13:13:28 -0700"  >See &lt;a href=&quot;https://github.com/pyca/cryptography/issues/9253&quot;&gt;https://github.com/pyca/cryptography/issues/9253&lt;/a&gt; for a related issue. This came up as an issue in pyca (Python crypto library), because previous JDK versions are encoding DSA algorithm parameters as NULL when they should omit them. &lt;br/&gt;
&lt;br/&gt;
RFC 5758 Section 3.1 states:&lt;br/&gt;
&lt;br/&gt;
&amp;quot;When the id-dsa-with-sha224 or id-dsa-with-sha256 algorithm identifier appears in the algorithm field as an AlgorithmIdentifier, the encoding SHALL omit the parameters field&amp;quot;&lt;br/&gt;
&lt;br/&gt;
This issue fixes that incorrect encoding, and now omits the parameters field.&lt;br/&gt;
</comment>
                            <comment id="14564697" author="dukebot" created="Mon, 6 Mar 2023 08:22:49 -0800"  >Changeset: a97271e3&lt;br/&gt;
Author:    Weijun Wang &amp;lt;&lt;a href=&apos;mailto:weijun@openjdk.org&apos;&gt;weijun@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-06 16:20:14 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/a97271e3b5d5a08fc503a11cd3e253974fb77ce6&quot;&gt;https://git.openjdk.org/jdk/commit/a97271e3b5d5a08fc503a11cd3e253974fb77ce6&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14559256" author="weijun" created="Fri, 10 Feb 2023 14:41:26 -0800"  >Various RFCs:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;RFC 3279&lt;br/&gt;
&lt;br/&gt;
md2WithRSAEncryption&lt;br/&gt;
md5WithRSAEncryption&lt;br/&gt;
sha-1WithRSAEncryption&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;SHALL be the ASN.1 type NULL. 2.2.1&lt;br/&gt;
&lt;br/&gt;
sha224WithRSAEncryption&lt;br/&gt;
sha256WithRSAEncryption&lt;br/&gt;
sha384WithRSAEncryption&lt;br/&gt;
sha512WithRSAEncryption&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;parameters MUST be NULL. 5&lt;br/&gt;
&lt;br/&gt;
id-dsa-with-sha1&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;SHALL omit the parameters field. 2.2.2&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
ecdsa-with-SHA1&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;MUST omit the parameters field. 2.2.3&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
rsaEncryption&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;MUST have ASN.1 type NULL. 2.3.1&lt;br/&gt;
&lt;br/&gt;
id-RSASSA-PSS&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;if present, the parameters field MUST contain RSASSA-PSS-param. 1.2&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sha1Identifier  AlgorithmIdentifier  ::=  { id-sha1, NULL }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sha224Identifier  AlgorithmIdentifier  ::=  { id-sha224, NULL }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sha256Identifier  AlgorithmIdentifier  ::=  { id-sha256, NULL }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sha384Identifier  AlgorithmIdentifier  ::=  { id-sha384, NULL }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sha512Identifier  AlgorithmIdentifier  ::=  { id-sha512, NULL }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;MUST be present when used in the algorithm identifier associated with a signature value. 3.1&lt;br/&gt;
&lt;br/&gt;
id-RSAES-OAEP&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;if present, the parameters field MUST contain RSAES-OAEP-params. 1.2&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
id-dsa&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;MUST be omitted entirely (if not provided). 2.3.2&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
dhpublicnumber&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;have the ASN.1 type DomainParameters for this algorithm. 2.3.2&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
id-ecPublicKey&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;require use of certain parameters with the public key. 2.3.5&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;implicitlyCA  NULL&lt;br/&gt;
</comment>
                            <comment id="14557238" author="roboduke" created="Fri, 3 Feb 2023 09:44:44 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12412&quot;&gt;https://git.openjdk.org/jdk/pull/12412&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-03 17:35:45 +0000</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i308tf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="195"><![CDATA[java.security]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>