<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:59:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298947] compiler/codecache/MHIntrinsicAllocFailureTest.java fails intermittently</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298947</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Happens intermittently on all platforms. The stacktrace:&lt;br/&gt;
&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM warning: CodeHeap &amp;#39;non-profiled nmethods&amp;#39; is full. Compiler has been disabled.&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM warning: Try increasing the code heap size using -XX:NonProfiledCodeHeapSize=&lt;br/&gt;
java.lang.NullPointerException: Cannot invoke &amp;quot;java.lang.management.MemoryPoolMXBean.getUsage()&amp;quot; because &amp;quot;&amp;lt;local1&amp;gt;&amp;quot; is null&lt;br/&gt;
	at compiler.codecache.MHIntrinsicAllocFailureTest.fillCodeCacheSegment(MHIntrinsicAllocFailureTest.java:61)&lt;br/&gt;
	at compiler.codecache.MHIntrinsicAllocFailureTest.main(MHIntrinsicAllocFailureTest.java:71)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
&lt;br/&gt;
Slightly modified code snippet:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;// type is a BlobType.MethodProfiled&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;MemoryPoolMXBean bean = type.getMemoryPool();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;int size = (int) (bean.getUsage().getMax() &amp;gt;&amp;gt; 7);&lt;br/&gt;
&lt;br/&gt;
No usage object initialised for the said MemoryPool?</description>
                <environment></environment>
        <key id="5089931">JDK-8298947</key>
            <summary>compiler/codecache/MHIntrinsicAllocFailureTest.java fails intermittently</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mdoerr">Martin Doerr</assignee>
                                    <reporter username="enikitin">Evgeny Nikitin</reporter>
                        <labels>
                            <label>atr</label>
                            <label>intermittent</label>
                            <label>noreg-self</label>
                            <label>oracle-triage-21</label>
                            <label>regression</label>
                            <label>testbug</label>
                    </labels>
                <created>Fri, 16 Dec 2022 05:12:06 -0800</created>
                <updated>Wed, 9 Oct 2024 23:38:04 -0700</updated>
                            <resolved>Tue, 20 Dec 2022 14:05:12 -0800</resolved>
                                    <version>17</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>20</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14548012" author="mdoerr" created="Sat, 31 Dec 2022 03:55:46 -0800"  >Fix Request&lt;br/&gt;
Backported as part of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8295724&quot; title=&quot;VirtualMachineError: Out of space in CodeCache for method handle intrinsic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8295724&quot;&gt;&lt;strike&gt;JDK-8295724&lt;/strike&gt;&lt;/a&gt; (review and approval is there).</comment>
                            <comment id="14547035" author="thartmann" created="Tue, 20 Dec 2022 22:16:47 -0800"  >Thanks for quickly fixing, [~mdoerr]. Just FYI, the `testbug` label is deprecated, `noreg-self` should be used:&lt;br/&gt;
&amp;quot;The labels test, test-only, and testbug are deprecated and should no longer be used. Use noreg-self to indicate that an issue is a bug in test code.&amp;quot;&lt;br/&gt;
&lt;a href=&quot;https://openjdk.org/guide/&quot;&gt;https://openjdk.org/guide/&lt;/a&gt;</comment>
                            <comment id="14546987" author="roboduke" created="Tue, 20 Dec 2022 14:39:11 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/951&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/951&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-13 11:58:23 +0000</comment>
                            <comment id="14546983" author="dukebot" created="Tue, 20 Dec 2022 14:05:11 -0800"  >Changeset: 3d4d9fd6&lt;br/&gt;
Author:    Martin Doerr &amp;lt;&lt;a href=&apos;mailto:mdoerr@openjdk.org&apos;&gt;mdoerr@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-20 22:02:34 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk20/commit/3d4d9fd6e6de037950f94482d4e33f178eb15daa&quot;&gt;https://git.openjdk.org/jdk20/commit/3d4d9fd6e6de037950f94482d4e33f178eb15daa&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14546452" author="roboduke" created="Mon, 19 Dec 2022 08:23:40 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/55&quot;&gt;https://git.openjdk.org/jdk20/pull/55&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-19 16:17:34 +0000</comment>
                            <comment id="14546450" author="mdoerr" created="Mon, 19 Dec 2022 08:21:42 -0800"  >Thanks for reporting and the investigation. I think we should fix it in JDK 20. PR is created.</comment>
                            <comment id="14546092" author="thartmann" created="Fri, 16 Dec 2022 06:10:48 -0800"  >ILW = Test fails (probably test bug), intermittent with single test and TieredStopAtLevel=1, no workaround = MLH = P4</comment>
                            <comment id="14546091" author="thartmann" created="Fri, 16 Dec 2022 06:06:04 -0800"  >Looks similar to the issue that Vladimir already reported in the PR but was subsequently fixed by disabling the test when TieredCompilation is off:&lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/pull/10933#issuecomment-1338608466&quot;&gt;https://github.com/openjdk/jdk/pull/10933#issuecomment-1338608466&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
In the failing cases, the test is executed with -XX:TieredStopAtLevel=1. That&amp;#39;s probably the issue. I think a &amp;quot;&amp;amp; (vm.opt.TieredStopAtLevel == null | vm.opt.TieredStopAtLevel==4)&amp;quot; is missing.</comment>
                            <comment id="14546089" author="thartmann" created="Fri, 16 Dec 2022 05:57:04 -0800"  >[~mdoerr], could you please have a look?</comment>
                            <comment id="14546087" author="thartmann" created="Fri, 16 Dec 2022 05:54:29 -0800"  >That looks like a regression / test bug from &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8295724&quot; title=&quot;VirtualMachineError: Out of space in CodeCache for method handle intrinsic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8295724&quot;&gt;&lt;strike&gt;JDK-8295724&lt;/strike&gt;&lt;/a&gt; which introduced that test.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5090277">JDK-8299247</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5090497">JDK-8299428</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5090588">JDK-8299516</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5085835">JDK-8295724</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2znsj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17413"><![CDATA[b29]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>