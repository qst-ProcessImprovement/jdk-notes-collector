<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:51:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8320365] IPPPrintService.getAttributes() causes blanket re-initialisation</title>
                <link>https://bugs.openjdk.org/browse/JDK-8320365</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Calling this sets to false a variable used to track whether attributes have&lt;br/&gt;
been initialised.&lt;br/&gt;
It does this to get current status of the printer, whether accepting jobs etc.&lt;br/&gt;
But it triggers wholesale re-initialisation of everything, including if the prrinter supports color, the media available etc - in fact creating a new instance of CUPSPrinter every time if it is a CUPSPrinter.&lt;br/&gt;
&lt;br/&gt;
This is way too much work and is responsible for the problems described in &lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-7001133&quot; title=&quot;OutOfMemoryError by CustomMediaSizeName implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-7001133&quot;&gt;&lt;strike&gt;JDK-7001133&lt;/strike&gt;&lt;/a&gt;: OutOfMemoryError by CustomMediaSizeName implementation&lt;br/&gt;
&lt;br/&gt;
A specific fix for that may still be merited, but I&amp;#39;d like to address the bigger problem too.</description>
                <environment></environment>
        <key id="5115027">JDK-8320365</key>
            <summary>IPPPrintService.getAttributes() causes blanket re-initialisation</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prr">Philip Race</assignee>
                                    <reporter username="prr">Philip Race</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>sn_157</label>
                            <label>sn_158</label>
                    </labels>
                <created>Fri, 17 Nov 2023 17:13:41 -0800</created>
                <updated>Wed, 27 Mar 2024 15:56:13 -0700</updated>
                            <resolved>Wed, 6 Dec 2023 14:01:27 -0800</resolved>
                                                    <fixVersion>22</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14656574" author="alexsch" created="Tue, 12 Mar 2024 01:01:47 -0700"  >[jdk21u-fix-request]  The fix avoids blanket re-initialisation each time when IPPPrintService.getAttributes() is called.&lt;br/&gt;
This is useful when a lot of printers are installed on the system.&lt;br/&gt;
&lt;br/&gt;
&amp;quot;test/jdk/java/awt/print&amp;quot; and &amp;quot;test/jdk/javax/print&amp;quot; automated tests have been run on Ubuntu and MacOS to check the fix.&lt;br/&gt;
All 63 automated tests passed on Ubuntu with the fix.&lt;br/&gt;
There are 2 failed by timeout tests on MacOS &amp;quot;java/awt/print/PaintSetEnabledDeadlock/PaintSetEnabledDeadlock.java&amp;quot; and &amp;quot;java/awt/print/PrinterJob/Margins.java&amp;quot; and these tests fail without fix as well.&lt;br/&gt;
&amp;nbsp;</comment>
                            <comment id="14656555" author="roboduke" created="Tue, 12 Mar 2024 00:14:09 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/348&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/348&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-12 07:10:07 +0000</comment>
                            <comment id="14632218" author="dukebot" created="Wed, 6 Dec 2023 14:01:26 -0800"  >Changeset: 91ffdfb1&lt;br/&gt;
Author:    Phil Race &amp;lt;&lt;a href=&apos;mailto:prr@openjdk.org&apos;&gt;prr@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-12-06 21:59:23 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/91ffdfb1fcacbb95b93491d412e506695198946e&quot;&gt;https://git.openjdk.org/jdk/commit/91ffdfb1fcacbb95b93491d412e506695198946e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14627765" author="roboduke" created="Mon, 20 Nov 2023 16:05:25 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16752&quot;&gt;https://git.openjdk.org/jdk/pull/16752&lt;/a&gt;&lt;br/&gt;
Date: 2023-11-20 23:58:30 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5124630">JDK-8328526</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33x4b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17419"><![CDATA[b27]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>