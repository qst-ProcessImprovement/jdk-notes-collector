<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 16:58:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8302819] Remove JAR Index</title>
                <link>https://bugs.openjdk.org/browse/JDK-8302819</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>JAR Index is a legacy optimization from early JDK releases to allow downloading of JAR files to be postponed when loading applets or other classes over the network. It is specified in the JAR file spec. JAR Index doesn&amp;#39;t interact well with other features and has several long standing issues. Some examples:&lt;br/&gt;
&lt;br/&gt;
- The JAR index file (META-INF/INDEX.LIST) is ignored in modular JARs. &lt;br/&gt;
&lt;br/&gt;
- The JAR index is not reliable when be used with Multi-Release JAR files, e.g. when the versioned section has classes/resources in &amp;quot;new packages&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
- URLClassLoader::findResources does not locate resources in more than one JAR file when a JAR index is present.&lt;br/&gt;
&lt;br/&gt;
- JarInputStream::getManifest can not return the Manifest because the index is stored as the first entry in the JAR file.&lt;br/&gt;
&lt;br/&gt;
We had hoped to deprecate or remove JAR Index in Java 9 but didn&amp;#39;t get to it. In JDK 18, the support at runtime to ignore JAR index files by default with a system property to re-enable if needed. There has been no feedback on this change.&lt;br/&gt;
&lt;br/&gt;
It is time to remove the JAR Index feature. Removing this feature means:&lt;br/&gt;
&lt;br/&gt;
- Removing the JAR Index section from the JAR file spec or changing it document it as a historical feature.&lt;br/&gt;
&lt;br/&gt;
- The jar -i (--generate-index=FILE) option can continue to generate the JAR index or the option can be changed to just emit a warning.&lt;br/&gt;
&lt;br/&gt;
- The system property jdk.net.URLClassPath.enableJarIndex can be removed.</description>
                <environment></environment>
        <key id="5094552">JDK-8302819</key>
            <summary>Remove JAR Index</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eirbjo">Eirik Bj&#248;rsn&#248;s</assignee>
                                    <reporter username="alanb">Alan Bateman</reporter>
                        <labels>
                            <label>release-note=yes</label>
                    </labels>
                <created>Sun, 19 Feb 2023 00:22:29 -0800</created>
                <updated>Thu, 11 Apr 2024 23:05:13 -0700</updated>
                            <resolved>Mon, 10 Apr 2023 04:25:20 -0700</resolved>
                                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                                                            <comments>
                            <comment id="14572688" author="dukebot" created="Mon, 10 Apr 2023 04:25:19 -0700"  >Changeset: 0d45a524&lt;br/&gt;
Author:    Eirik Bjorsnos &amp;lt;&lt;a href=&apos;mailto:eirbjo@gmail.com&apos;&gt;eirbjo@gmail.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Lance Andersen &amp;lt;&lt;a href=&apos;mailto:lancea@openjdk.org&apos;&gt;lancea@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-10 11:23:21 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/0d45a524b3d29fd57a4d468d7b5af0f588db7409&quot;&gt;https://git.openjdk.org/jdk/commit/0d45a524b3d29fd57a4d468d7b5af0f588db7409&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14570125" author="roboduke" created="Tue, 28 Mar 2023 10:56:19 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13158&quot;&gt;https://git.openjdk.org/jdk/pull/13158&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-23 12:05:50 +0000</comment>
                            <comment id="14569329" author="JIRAUSER20720" created="Fri, 24 Mar 2023 04:21:28 -0700"  >Thanks Alan, for your guidance. Let&amp;#39;s agree to deal with &amp;#39;jar -i&amp;#39; separately. </comment>
                            <comment id="14569324" author="alanb" created="Fri, 24 Mar 2023 03:59:52 -0700"  >There are several options for &amp;quot;jar -i&amp;quot;. It can be left unchanged, augmented to print a warning, or changed to do nothing except print a warning.  It&amp;#39;s okay to do this with a separate PR.</comment>
                            <comment id="14569306" author="JIRAUSER20720" created="Fri, 24 Mar 2023 03:05:59 -0700"  >Further work on the PR is pending guidance from [~alanb] whether the deprecation warning of &amp;#39;jar -i&amp;#39; should be included in the PR or handled by a seperate PR/CSR etc.</comment>
                            <comment id="14569303" author="JIRAUSER20720" created="Fri, 24 Mar 2023 03:03:08 -0700"  >Following some great feedback from Jaikiran, the PR now includes a cleanup of the moved JarIndex class such that only methods used by the implementation of &amp;#39;jar -i&amp;#39; are left behind.&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/pull/13158&quot;&gt;https://github.com/openjdk/jdk/pull/13158&lt;/a&gt;</comment>
                            <comment id="14569065" author="JIRAUSER20720" created="Thu, 23 Mar 2023 05:13:05 -0700"  >Here&amp;#39;s a draft PR for the removal of the &amp;#39;JAR index&amp;#39; feature:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/pull/13158&quot;&gt;https://github.com/openjdk/jdk/pull/13158&lt;/a&gt;</comment>
                            <comment id="14569043" author="JIRAUSER20720" created="Thu, 23 Mar 2023 02:57:41 -0700"  >Investigating the history of the current implementation of JarInputStream, I notice that &amp;#39;doVerify&amp;#39; and &amp;#39;tryManifest&amp;#39; were introduced by JDK-6544278.&lt;br/&gt;
&lt;br/&gt;
I was hoping to learn more by looking into this issue, however it is inaccessible to me, perhaps because the issue originally had some security implications?</comment>
                            <comment id="14569036" author="JIRAUSER20720" created="Thu, 23 Mar 2023 02:47:50 -0700"  >Thanks for that clarification. Seems &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8215788&quot; title=&quot;Clarify JarInputStream Manifest access&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8215788&quot;&gt;&lt;strike&gt;JDK-8215788&lt;/strike&gt;&lt;/a&gt; added documentation for this in the ZipInputStream specification.</comment>
                            <comment id="14569034" author="alanb" created="Thu, 23 Mar 2023 02:40:54 -0700"  >The only API that depends on ordering is JarInputStream.</comment>
                            <comment id="14569016" author="JIRAUSER20720" created="Thu, 23 Mar 2023 01:59:17 -0700"  >An observation not necessarily relevant for this task/PR:&lt;br/&gt;
&lt;br/&gt;
The JAR File Specification does not seem to mandate any encounter-order of specified entries such as META-INF/, META-INF/MANIFEST.MF, META-INF/INDEX.LIST and signature-related files in META-INF.&lt;br/&gt;
&lt;br/&gt;
Several JAR-related implementation classes do however seem to assume or require that META-INF/MANIFEST.MF is either first of preceded only by META-INF/.&lt;br/&gt;
&lt;br/&gt;
Is this underspecification by design, an oversight, or something else?</comment>
                            <comment id="14568999" author="JIRAUSER20720" created="Thu, 23 Mar 2023 01:31:11 -0700"  >Looking at a first rough pass of this removal indicates that we would reduce the complexity significantly if the removal of jar -i / --generate-index could be handled in a separate PR. So I would prefer the option of just emitting a warning (or even not doing anything in this PR and handle it sepearately instead)</comment>
                            <comment id="14568996" author="JIRAUSER20720" created="Thu, 23 Mar 2023 01:19:18 -0700"  >No worries, Alan. (I was actually wondering were to find the sources since it didn&amp;#39;t seem to be in the jdk repo)</comment>
                            <comment id="14568992" author="alanb" created="Thu, 23 Mar 2023 01:09:41 -0700"  >[~eirbjo] I can&amp;#39;t do anything about that so we&amp;#39;ll just need to agree the changes to the JAR file spec in the PR and coordinate the changes.</comment>
                            <comment id="14568987" author="JIRAUSER20720" created="Thu, 23 Mar 2023 00:51:22 -0700"  >[~alanb] Is the source code of the JAR File spec Oracle-internal?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10400">
                    <name>CSR</name>
                                            <outwardlinks description="csr for">
                                        <issuelink>
            <issuekey id="5097903">JDK-8305597</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5044617">JDK-8263650</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5058056">JDK-8273401</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4221577">JDK-6957241</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5098107">JDK-8305758</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5097912">JDK-8305603</subtask>
                                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30g7v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17354"><![CDATA[b18]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="231"><![CDATA[java.util.jar]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>