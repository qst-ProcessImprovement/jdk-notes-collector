<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:43:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8241293] CompressedClassSpaceSizeInJmapHeap.java time out after 8 minutes</title>
                <link>https://bugs.openjdk.org/browse/JDK-8241293</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>[Note: if you are getting a test task timeout, usually after 4 hours, please file under &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298073&quot; title=&quot;gc/metaspace/CompressedClassSpaceSizeInJmapHeap.java causes test task timeout on macosx&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298073&quot;&gt;&lt;strike&gt;JDK-8298073&lt;/strike&gt;&lt;/a&gt;. This CR is for the test timing out, usually after about 8 minutes, but the test log saying that it also passed.]&lt;br/&gt;
&lt;br/&gt;
The following test failed in the JDK15 CI:&lt;br/&gt;
&lt;br/&gt;
gc/metaspace/CompressedClassSpaceSizeInJmapHeap.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log:&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(7/536)----------&lt;br/&gt;
command: main -XX:+IgnoreUnrecognizedVMOptions -XX:CompressedClassSpaceSize=50m gc.metaspace.CompressedClassSpaceSizeInJmapHeap&lt;br/&gt;
reason: User specified action: run main/othervm -XX:+IgnoreUnrecognizedVMOptions -XX:CompressedClassSpaceSize=50m gc.metaspace.CompressedClassSpaceSizeInJmapHeap &lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Additional options from @modules: --add-modules java.base,java.management --add-exports java.base/jdk.internal.misc=ALL-UNNAMED&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
elapsed time (seconds): 492.208&lt;br/&gt;
----------configuration:(4/111)----------&lt;br/&gt;
Boot Layer&lt;br/&gt;
&amp;nbsp;&amp;nbsp;add modules: java.base java.management   &lt;br/&gt;
&amp;nbsp;&amp;nbsp;add exports: java.base/jdk.internal.misc ALL-UNNAMED&lt;br/&gt;
&lt;br/&gt;
----------System.out:(2/62)----------&lt;br/&gt;
Adding &amp;#39;sudo -E -n&amp;#39; to the command.&lt;br/&gt;
Timeout refired 480 times&lt;br/&gt;
----------System.err:(1/15)----------&lt;br/&gt;
STATUS:Passed.&lt;br/&gt;
----------rerun:(36/5829)*----------&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
result: Error. Program `/mesos/work_dir/jib-master/install/jdk-15+15-620/macosx-x64-debug.jdk/jdk-15/fastdebug/bin/java&amp;#39; timed out (timeout set to 480000ms, elapsed time including timeout handling was 492199ms).&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
test result: Error. Program `/mesos/work_dir/jib-master/install/jdk-15+15-620/macosx-x64-debug.jdk/jdk-15/fastdebug/bin/java&amp;#39; timed out (timeout set to 480000ms, elapsed time including timeout handling was 492199ms).&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Please notice that the test passed during timeout handling:&lt;br/&gt;
&lt;br/&gt;
&amp;gt; STATUS:Passed.&lt;br/&gt;
&lt;br/&gt;
This test run is executing with debug bits. Perhaps this test&lt;br/&gt;
needs a slightly longer timeout value instead of the default&lt;br/&gt;
2 minutes/120 seconds. With the default timeout factor of 4,&lt;br/&gt;
that gives us a total timeout value of 8 minutes/480 seconds.&lt;br/&gt;
&lt;br/&gt;
Bumping the timeout values to 180 will get us to a total timeout&lt;br/&gt;
value of 12 minutes/720 seconds.</description>
                <environment></environment>
        <key id="5013756">JDK-8241293</key>
            <summary>CompressedClassSpaceSizeInJmapHeap.java time out after 8 minutes</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cjplummer">Chris Plummer</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>noreg-self</label>
                            <label>problemlist</label>
                            <label>tier4</label>
                    </labels>
                <created>Thu, 19 Mar 2020 07:40:41 -0700</created>
                <updated>Wed, 8 Feb 2023 08:10:48 -0800</updated>
                            <resolved>Fri, 9 Dec 2022 10:44:32 -0800</resolved>
                                    <version>11.0.19-oracle</version>
                    <version>15</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-svc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                                                            <comments>
                            <comment id="14557458" author="roboduke" created="Mon, 6 Feb 2023 03:54:25 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1146&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1146&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-06 11:46:31 +0000</comment>
                            <comment id="14554050" author="roboduke" created="Tue, 24 Jan 2023 06:49:38 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/1684&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/1684&lt;/a&gt;&lt;br/&gt;
Date: 2023-01-24 14:39:30 +0000</comment>
                            <comment id="14544302" author="dukebot" created="Fri, 9 Dec 2022 10:44:31 -0800"  >Changeset: 99a6c478&lt;br/&gt;
Author:    Chris Plummer &amp;lt;&lt;a href=&apos;mailto:cjplummer@openjdk.org&apos;&gt;cjplummer@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-09 18:42:35 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/99a6c47855ad82e81a80726cf3aa4522c547716d&quot;&gt;https://git.openjdk.org/jdk/commit/99a6c47855ad82e81a80726cf3aa4522c547716d&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14543718" author="roboduke" created="Wed, 7 Dec 2022 19:16:52 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11576&quot;&gt;https://git.openjdk.org/jdk/pull/11576&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-08 03:06:31 +0000</comment>
                            <comment id="14543340" author="cjplummer" created="Tue, 6 Dec 2022 18:44:30 -0800"  >We have two issues here:&lt;br/&gt;
&lt;br/&gt;
1. This CR as originally presented, which has the test printing that it passed, but before it passes a timeout triggers (after 8 minutes) and the test completes shortly after that. The end result is the test failing (even though it prints out that is passed) due to the timeout. We will continue to use this CR for this failure mode. I&amp;#39;ll also update its synopsis.&lt;br/&gt;
&lt;br/&gt;
2. &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298073&quot; title=&quot;gc/metaspace/CompressedClassSpaceSizeInJmapHeap.java causes test task timeout on macosx&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298073&quot;&gt;&lt;strike&gt;JDK-8298073&lt;/strike&gt;&lt;/a&gt;, which is the test task going off the deep end and eventually resulting in a test task timeout, usually after 4 hours, but for some special test tasks it is 2d or 3d. &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298073&quot; title=&quot;gc/metaspace/CompressedClassSpaceSizeInJmapHeap.java causes test task timeout on macosx&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298073&quot;&gt;&lt;strike&gt;JDK-8298073&lt;/strike&gt;&lt;/a&gt; will continue to cover this failure mode. I&amp;#39;ll update the synopsis.&lt;br/&gt;
</comment>
                            <comment id="14326891" author="cjplummer" created="Thu, 26 Mar 2020 13:21:13 -0700"  >I just wanted to add that the original problem as reported was not on was on 10.13.6, not 10.15, and was a test timeout after about 8 minutes, not a test task timeout after 4 hours. So far we&amp;#39;ve seen 8 failures due to the test timeout, all on 10.13.6. Maybe it&amp;#39;s the same issue as the test task timeout, and for some reason on 10.15 it manifests differently.</comment>
                            <comment id="14326890" author="cjplummer" created="Thu, 26 Mar 2020 13:15:28 -0700"  >I first verified that the :hotspot_gc task fails as reported here on 10.5 (or at least it&amp;#39;s appears that it&amp;#39;s going to fail since the task has been running for 2 hours now), and it passes with CompressedClassSpaceSizeInJmapHeap.java excluded. This is with both debug and product builds, although I didn&amp;#39;t sign the product build (it would be skipped if it was signed).&lt;br/&gt;
&lt;br/&gt;
I also verified that serviceability/sa tests all pass on 10.5, so whatever the issue is it is unique to this test.&lt;br/&gt;
&lt;br/&gt;
I will problem list the test now.</comment>
                            <comment id="14325216" author="cjplummer" created="Thu, 19 Mar 2020 12:42:25 -0700"  >Hmm. 300 runs and it hasn&amp;#39;t reproduced. I think I&amp;#39;ll hold off on problem listing and wait and see how often it reproduces.</comment>
                            <comment id="14325174" author="cjplummer" created="Thu, 19 Mar 2020 09:54:57 -0700"  >Looks like UseCompressedOops is always true and the test runs fine locally for me, and does so very quickly. Same seems to be true of most mach5 runs except for the 3 I see failing. Kind of odd that it has passed, yet times out, and there&amp;#39;s no indication of a hung java process in processes.html.</comment>
                            <comment id="14325169" author="cjplummer" created="Thu, 19 Mar 2020 09:36:56 -0700"  >This is another SA test that was recently enabled on OSX by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8238268&quot; title=&quot;Many SA tests are not running on OSX because they do not attempt to use sudo when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8238268&quot;&gt;&lt;strike&gt;JDK-8238268&lt;/strike&gt;&lt;/a&gt;. I don&amp;#39;t think it&amp;#39;s a time factor issue. I see 3 recent failures, one of which uses a 10x timeout (the reported case used 4x), and it still timed out, and also still has the PASSED message in the log. So it appears to be some sort of test shutdown issue.&lt;br/&gt;
&lt;br/&gt;
This test only runs only runs if UseCompressedOops is enabled, so that is probably  why it never failed in my testing. I&amp;#39;ll see try it out with UseCompressedOops and see if it reproduces and try to figure out why. I&amp;#39;ll problem list list if it can&amp;#39;t be fixed quickly.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5089523">JDK-8298633</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5093166">JDK-8301634</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5093673">JDK-8302081</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5093674">JDK-8302082</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5014531">JDK-8241696</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5088866">JDK-8298073</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5014531">JDK-8241696</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="20306">15</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2msv7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17317"><![CDATA[b02]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="368"><![CDATA[tools]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>