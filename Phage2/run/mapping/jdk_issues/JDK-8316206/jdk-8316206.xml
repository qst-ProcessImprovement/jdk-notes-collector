<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:21:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8316206] Test StretchedFontTest.java fails for Baekmuk font</title>
                <link>https://bugs.openjdk.org/browse/JDK-8316206</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We see test java/awt/font/FontScaling/StretchedFontTest.java failing since it was introduced in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8312555&quot; title=&quot;Ideographic characters aren&amp;#39;t stretched by AffineTransform.scale(2, 1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8312555&quot;&gt;&lt;strike&gt;JDK-8312555&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
It is failing on several SLES machines that have this font installed by default. It is not failing on RHEL machines.&lt;br/&gt;
&lt;br/&gt;
From the .jtr file:&lt;br/&gt;
&lt;br/&gt;
Font: Baekmuk Headline, Hint: off, Color: 0xff000000&lt;br/&gt;
Font: Baekmuk Headline, Hint: off, Color: 0x7f000000&lt;br/&gt;
Font: Baekmuk Headline, Hint: on, Color: 0xff000000&lt;br/&gt;
Font: Baekmuk Headline, Hint: on, Color: 0x7f000000&lt;br/&gt;
Font: Baekmuk Headline, Hint: lcd, Color: 0xff000000&lt;br/&gt;
Font: Baekmuk Headline, Hint: lcd, Color: 0x7f000000&lt;br/&gt;
java.lang.Error: 6 failure(s) found; the first one: Font: Baekmuk Headline, Hint: off, Color: 0xff000000&lt;br/&gt;
	at StretchedFontTest.main(StretchedFontTest.java:81)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1570)</description>
                <environment></environment>
        <key id="5110229">JDK-8316206</key>
            <summary>Test StretchedFontTest.java fails for Baekmuk font</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aivanov">Alexey Ivanov</assignee>
                                    <reporter username="goetz">Goetz Lindenmaier</reporter>
                        <labels>
                            <label>cssn23_09_02</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sustaining</label>
                    </labels>
                <created>Wed, 13 Sep 2023 08:20:12 -0700</created>
                <updated>Mon, 2 Oct 2023 23:39:51 -0700</updated>
                            <resolved>Fri, 22 Sep 2023 05:50:00 -0700</resolved>
                                    <version>11.0.21</version>
                    <version>11.0.21-oracle</version>
                    <version>17.0.9</version>
                    <version>17.0.9-oracle</version>
                    <version>21.0.1</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14613970" author="roboduke" created="Tue, 26 Sep 2023 00:13:07 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1790&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1790&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-26 07:05:25 +0000</comment>
                            <comment id="14613969" author="roboduke" created="Tue, 26 Sep 2023 00:11:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2147&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2147&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-26 07:05:15 +0000</comment>
                            <comment id="14613964" author="goetz" created="Mon, 25 Sep 2023 23:59:21 -0700"  >&lt;br/&gt;
Fix request [11u,17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 11.0.22-oracle,17.0.10-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.</comment>
                            <comment id="14613214" author="aivanov" created="Fri, 22 Sep 2023 08:05:55 -0700"  >Fix request (21u)&lt;br/&gt;
&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test stabilisation to ignore broken fonts, the &amp;quot;Baekmuk Headline&amp;quot; font in particular.&lt;br/&gt;
Low risk, test-only change.</comment>
                            <comment id="14613213" author="roboduke" created="Fri, 22 Sep 2023 08:04:58 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/196&quot;&gt;https://git.openjdk.org/jdk21u/pull/196&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-22 14:58:27 +0000</comment>
                            <comment id="14613181" author="dukebot" created="Fri, 22 Sep 2023 05:49:59 -0700"  >Changeset: 00f585bd&lt;br/&gt;
Author:    Alexey Ivanov &amp;lt;&lt;a href=&apos;mailto:aivanov@openjdk.org&apos;&gt;aivanov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-09-22 12:47:01 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/00f585bd22f527eca0107a9b4ed366f25754f0be&quot;&gt;https://git.openjdk.org/jdk/commit/00f585bd22f527eca0107a9b4ed366f25754f0be&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14613179" author="goetz" created="Fri, 22 Sep 2023 05:43:13 -0700"  >Yes, our testing grabbed the latest update and is still green.</comment>
                            <comment id="14613178" author="aivanov" created="Fri, 22 Sep 2023 05:34:08 -0700"  >[~goetz] No problem!&lt;br/&gt;
&lt;br/&gt;
Does the latest update still work? Just in case.&lt;br/&gt;
&lt;br/&gt;
Would you like to approve the fix for the test?</comment>
                            <comment id="14612444" author="goetz" created="Wed, 20 Sep 2023 00:03:07 -0700"  >Alexey, thanks for addressing this right away!&lt;br/&gt;
&lt;br/&gt;
I verified that the proposed fix works in our scenario.</comment>
                            <comment id="14612228" author="roboduke" created="Tue, 19 Sep 2023 06:51:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15818&quot;&gt;https://git.openjdk.org/jdk/pull/15818&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-19 13:41:27 +0000</comment>
                            <comment id="14612211" author="aivanov" created="Tue, 19 Sep 2023 06:18:39 -0700"  >This &amp;quot;Baekmuk Headline&amp;quot; font seems to have many glyphs mapped to &#8216;clear glyph&#8217;. Yesterday I run an outdated version of ScaledFont.java (it&amp;#39;s attached to &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8312555&quot; title=&quot;Ideographic characters aren&amp;#39;t stretched by AffineTransform.scale(2, 1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8312555&quot;&gt;&lt;strike&gt;JDK-8312555&lt;/strike&gt;&lt;/a&gt;; the screenshot &amp;quot;Baekmuk Headline in ScaledFont.png&amp;quot;), and it rendered the Japanese characters &#12354;&#12426;&#12364;&#12392;&#12358; (&#8216;thank you&#8217;) but the Chinese characters &#35613;&#35613; (&#8216;thank you&#8217;) weren&amp;#39;t rendered.&lt;br/&gt;
&lt;br/&gt;
The updated version uses &#26481;&#20140; and &#21271;&#20140; (&#8216;Tokyo&#8217; and &#8216;Beijing&#8217; correspondingly), none of the characters are rendered as you can see on the screenshot &amp;quot;Baekmuk Headline in updated ScaledFont.png&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
&amp;gt; I used &#28450; in the test. I can&amp;#39;t remember how I chose this particular hieroglyph.&lt;br/&gt;
&lt;br/&gt;
Initially I wanted to count the percentage of white vs black pixels, so I looked for a glyph with a darker appearance. But this approach proved to be unreliable, searching for black pixels in the right half of the image is much simpler.</comment>
                            <comment id="14611854" author="aivanov" created="Mon, 18 Sep 2023 11:50:13 -0700"  >Indeed, the glyph isn&amp;#39;t rendered in &amp;quot;Baekmuk Headline&amp;quot; even though the font reports the code point is supported.&lt;br/&gt;
&lt;br/&gt;
I used &#28450; in the test. I can&amp;#39;t remember how I chose this particular hieroglyph.&lt;br/&gt;
&lt;br/&gt;
There are two ways:&lt;br/&gt;
1) choose a different hieroglyph;&lt;br/&gt;
2) verify the left side contains black pixels before verifying the right side.</comment>
                            <comment id="14611848" author="prr" created="Mon, 18 Sep 2023 11:36:53 -0700"  >I found Baekmuk Headline (hline.ttf) for download, and had a look at it.&lt;br/&gt;
It maps \u6f22 to glyph id 16950 .. but that glyph has zero length .. so do a load of adjacent ones.&lt;br/&gt;
So I&amp;#39;m not sure why anyone would want to include that font in their OS.&lt;br/&gt;
&lt;br/&gt;
The test can be updated to check if the outline is empty and it it is then skip the (buggy) font.&lt;br/&gt;
</comment>
                            <comment id="14611822" author="aivanov" created="Mon, 18 Sep 2023 09:54:11 -0700"  >So, it looks the font lies that it can display the character &#8212; it displays nothing.</comment>
                            <comment id="14611814" author="azvegint" created="Mon, 18 Sep 2023 09:28:39 -0700"  >Images for failed font are blank(attached).</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5111036">JDK-8316904</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5111050">JDK-8316916</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5111051">JDK-8316917</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5111171">JDK-8317030</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5111172">JDK-8317031</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5106047">JDK-8312555</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="106455" name="Baekmuk Headline in ScaledFont.png" size="43605" author="aivanov" created="Mon, 18 Sep 2023 11:42:19 -0700"/>
                            <attachment id="106463" name="Baekmuk Headline in updated ScaledFont.png" size="44652" author="aivanov" created="Tue, 19 Sep 2023 06:03:01 -0700"/>
                            <attachment id="106452" name="failure_images.zip" size="1860" author="azvegint" created="Mon, 18 Sep 2023 09:27:08 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10003" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Introduced In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17458"><![CDATA[b12]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="23031">22</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i333xv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="197"><![CDATA[2d]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>