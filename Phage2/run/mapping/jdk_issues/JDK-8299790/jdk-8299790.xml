<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:25:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8299790] os::print_hex_dump is racy</title>
                <link>https://bugs.openjdk.org/browse/JDK-8299790</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>It uses os::is_readable_pointer for readibility check before printing, but that information may be stale once we get to the printing. It would be better to use SafeFetch directly to access the dumped memory location. &lt;br/&gt;
</description>
                <environment></environment>
        <key id="5090923">JDK-8299790</key>
            <summary>os::print_hex_dump is racy</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuefe">Thomas Stuefe</assignee>
                                    <reporter username="stuefe">Thomas Stuefe</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>os</label>
                    </labels>
                <created>Sun, 8 Jan 2023 23:55:28 -0800</created>
                <updated>Thu, 18 Jul 2024 22:52:40 -0700</updated>
                            <resolved>Thu, 10 Aug 2023 00:24:51 -0700</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14690816" author="clanger" created="Wed, 17 Jul 2024 23:45:09 -0700"  >[~tstuefe] Since I received no feedback whether you intend to do &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8314163&quot; title=&quot;os::print_hex_dump prints incorrectly for big endian platforms and unit sizes larger than 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8314163&quot;&gt;&lt;strike&gt;JDK-8314163&lt;/strike&gt;&lt;/a&gt; inline or as a separate PR, I&amp;#39;m removing the fix-request label now. Please feel free to re-add when you&amp;#39;ve made up your mind. Should you want to keep them separate it&amp;#39;s imperative to do the follow immediately afterwards, which I want to make sure.</comment>
                            <comment id="14688993" author="clanger" created="Thu, 11 Jul 2024 00:50:09 -0700"  >Hi Thomas,&lt;br/&gt;
maybe you want to do the follow-up fix inline since it only affects the new code?</comment>
                            <comment id="14688975" author="roboduke" created="Thu, 11 Jul 2024 00:02:09 -0700"  >[jdk21u-fix-request] Approval Request from Thomas Stuefe&lt;br/&gt;
I would like to downport this fix since this is a bug (admittedly, with limited consequences: printing potentially unreadable sections is only done during hs-err printing, so all it would do is mess up hs-err files). But it is also a prerequisite for downporting &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8334738&quot; title=&quot;os::print_hex_dump should optionally print ASCII&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8334738&quot;&gt;&lt;strike&gt;JDK-8334738&lt;/strike&gt;&lt;/a&gt;, which would be very useful to have, e.g. in the context of dealing with reproducible builds and CDS dumps. &lt;br/&gt;
&lt;br/&gt;
The fix itself is risk-free, but it introduced a test error for big-endian platforms, which was fixed subsequently with  &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8314163&quot;&gt;https://bugs.openjdk.org/browse/JDK-8314163&lt;/a&gt;. I will backport that one without delay once this patch is pushed.</comment>
                            <comment id="14688973" author="roboduke" created="Wed, 10 Jul 2024 23:59:34 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/824&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/824&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-04 18:23:43 +0000</comment>
                            <comment id="14603453" author="stuefe" created="Fri, 11 Aug 2023 06:59:24 -0700"  >#+*!$ big endian</comment>
                            <comment id="14603435" author="mbaesken" created="Fri, 11 Aug 2023 04:29:57 -0700"  >On AIX, we start today seeing failures , is this maybe related ?&lt;br/&gt;
Test  gtest/NMTGtests.java#nmt-off&lt;br/&gt;
java.lang.AssertionError: gtest execution failed; exit code = 2. the failed tests: [os::test_print_hex_dump_vm, os::test_print_hex_dump_vm, os::test_print_hex_dump_vm, os::test_print_hex_dump_vm, os::test_print_hex_dump_vm, os::test_print_hex_dump_vm]&lt;br/&gt;
	at GTestWrapper.main(GTestWrapper.java:98)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1570)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
stdout contains :&lt;br/&gt;
test/hotspot/gtest/runtime/test_os.cpp:174: Failure&lt;br/&gt;
Value of: buf&lt;br/&gt;
Expected: has substring &amp;quot;0001 0203 0405 0607 0809 0a0b 0c0d 0e0f&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Actual: &amp;quot;0x0000000115739c70:   0000 0102 0304 0506 0008 090a 0b0c 0d0e\n0x0000000115739c80:   0010 1112 1314 1516 0018 191a 1b1c 1d1e\n0x0000000115739c90:   0020 2122 2324 2526 0028 292a 2b2c 2d2e\n0x0000000115739ca0:   0030 3132 3334 3536 0038 393a 3b3c 3d3e\n0x00000&amp;quot;&lt;br/&gt;
test/hotspot/gtest/runtime/test_os.cpp:174: Failure&lt;br/&gt;
Value of: buf&lt;br/&gt;
Expected: has substring &amp;quot;00010203 04050607 08090a0b 0c0d0e0f&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Actual: &amp;quot;0x0000000115739c70:   00000000 01020304 00000008 090a0b0c\n0x0000000115739c80:   00000010 11121314 00000018 191a1b1c\n0x0000000115739c90:   00000020 21222324 00000028 292a2b2c\n0x0000000115739ca0:   00000030 31323334 00000038 393a3b3c\n0x0000000115739cb0:   0&amp;quot;&lt;br/&gt;
test/hotspot/gtest/runtime/test_os.cpp:174: Failure&lt;br/&gt;
Value of: buf&lt;br/&gt;
Expected: has substring &amp;quot;0001020304050607 08090a0b0c0d0e0f&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Actual: &amp;quot;0x0000000115739c70:   0000000000000000 0000000000000008\n0x0000000115739c80:   0000000000000010 0000000000000018\n0x0000000115739c90:   0000000000000020 0000000000000028\n0x0000000115739ca0:   0000000000000030 0000000000000038\n0x0000000115739cb0:   000000000&amp;quot;&lt;br/&gt;
test/hotspot/gtest/runtime/test_os.cpp:174: Failure&lt;br/&gt;
Value of: buf&lt;br/&gt;
Expected: has substring &amp;quot;0001 0203 0405 0607 0809 0a0b 0c0d 0e0f&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Actual: &amp;quot;0x0000000115739c70:   0000 0102 0304 0506 0008 090a 0b0c 0d0e\n0x0000000115739c80:   0010 1112 1314 1516 0018 191a 1b1c 1d1e\n0x0000000115739c90:   0020 2122 2324 2526 0028 292a 2b2c 2d2e\n0x0000000115739ca0:   0030 3132 3334 3536 0038 393a 3b3c 3d3e\n0x00000&amp;quot;&lt;br/&gt;
test/hotspot/gtest/runtime/test_os.cpp:174: Failure&lt;br/&gt;
Value of: buf&lt;br/&gt;
Expected: has substring &amp;quot;00010203 04050607 08090a0b 0c0d0e0f&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Actual: &amp;quot;0x0000000115739c70:   00000000 01020304 00000008 090a0b0c\n0x0000000115739c80:   00000010 11121314 00000018 191a1b1c\n0x0000000115739c90:   00000020 21222324 00000028 292a2b2c\n0x0000000115739ca0:   00000030 31323334 00000038 393a3b3c\n0x0000000115739cb0:   0&amp;quot;&lt;br/&gt;
test/hotspot/gtest/runtime/test_os.cpp:174: Failure&lt;br/&gt;
Value of: buf&lt;br/&gt;
Expected: has substring &amp;quot;0001020304050607 08090a0b0c0d0e0f&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Actual: &amp;quot;0x0000000115739c70:   0000000000000000 0000000000000008\n0x0000000115739c80:   0000000000000010 0000000000000018\n0x0000000115739c90:   0000000000000020 0000000000000028\n0x0000000115739ca0:   0000000000000030 0000000000000038\n0x0000000115739cb0:   000000000&amp;quot;&lt;br/&gt;
[  FAILED  ] os.test_print_hex_dump_vm (4 ms)</comment>
                            <comment id="14603123" author="dukebot" created="Thu, 10 Aug 2023 00:24:50 -0700"  >Changeset: 8f28809a&lt;br/&gt;
Author:    Thomas Stuefe &amp;lt;&lt;a href=&apos;mailto:stuefe@openjdk.org&apos;&gt;stuefe@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-08-10 07:21:47 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8f28809aa87b1026cdbdd1ea88da3c7f0c994697&quot;&gt;https://git.openjdk.org/jdk/commit/8f28809aa87b1026cdbdd1ea88da3c7f0c994697&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14596412" author="roboduke" created="Sun, 16 Jul 2023 12:52:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14895&quot;&gt;https://git.openjdk.org/jdk/pull/14895&lt;/a&gt;&lt;br/&gt;
Date: 2023-07-16 09:55:43 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5134714">JDK-8336801</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5107885">JDK-8314163</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zttn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>