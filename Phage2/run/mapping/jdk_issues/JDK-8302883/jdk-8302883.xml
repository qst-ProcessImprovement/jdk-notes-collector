<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 17:02:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8302883] JFR: Improve periodic events</title>
                <link>https://bugs.openjdk.org/browse/JDK-8302883</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The RequestEngine class has several shortcomings.&lt;br/&gt;
&lt;br/&gt;
Events with periods that are multiples of each other, for example, events with a period of &amp;quot;1 s&amp;quot; and &amp;quot;5 s&amp;quot;, are not run at the same time. This results in the periodic task thread sleeping and waking up an unnecessary number of times, but perhaps more problematic, it makes it harder to correlate measurements, or cache data between events.&lt;br/&gt;
&amp;nbsp;&lt;br/&gt;
Insertion/removal of N periodic events require O(N^2) time. Every time a new event is added an array list is copied. To find the event to remove, a list has to be iterated. A workaround for the JVM events have been implemented, but it makes the code harder to analyze from a vulnerability perspective. Insertion and removal can be done in O(1), but it requires special handling of hashCode and equals if ordering of events is to be preserved. IdentityHashMap will not work.&lt;br/&gt;
&lt;br/&gt;
It&amp;#39;s also hard to follow how thread safety is ensured. Events for beginChunk and endChunk don&amp;#39;t happen in the same thread as events emitted at an interval.&lt;br/&gt;
&lt;br/&gt;
Furthermore, the RequestEngine.java file has a rather large inner class because it didn&amp;#39;t seem appropriate to fill up jdk.jfr.internal package with another class related to periodic events. Suggestion is to move all the logic to a separate package, split up the implementation into smaller classes and change the behavior so events are emitted in batches.</description>
                <environment></environment>
        <key id="5094620">JDK-8302883</key>
            <summary>JFR: Improve periodic events</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="egahlin">Erik Gahlin</assignee>
                                    <reporter username="egahlin">Erik Gahlin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Feb 2023 07:01:39 -0800</created>
                <updated>Mon, 14 Aug 2023 04:00:19 -0700</updated>
                            <resolved>Thu, 23 Feb 2023 09:22:36 -0800</resolved>
                                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14562490" author="dukebot" created="Thu, 23 Feb 2023 09:22:32 -0800"  >Changeset: 4b6acad0&lt;br/&gt;
Author:    Erik Gahlin &amp;lt;&lt;a href=&apos;mailto:egahlin@openjdk.org&apos;&gt;egahlin@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-23 17:20:53 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/4b6acad0bd7729c39e807cd35c40b0fe4a14783c&quot;&gt;https://git.openjdk.org/jdk/commit/4b6acad0bd7729c39e807cd35c40b0fe4a14783c&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14561468" author="roboduke" created="Mon, 20 Feb 2023 08:43:51 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12668&quot;&gt;https://git.openjdk.org/jdk/pull/12668&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-20 15:06:04 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5104562">JDK-8311245</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30gmz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17349"><![CDATA[b12]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="374"><![CDATA[jfr]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>