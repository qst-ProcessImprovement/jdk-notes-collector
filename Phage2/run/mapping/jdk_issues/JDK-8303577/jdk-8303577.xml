<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 17:26:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8303577] [JVMCI] OOME causes crash while translating exceptions</title>
                <link>https://bugs.openjdk.org/browse/JDK-8303577</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8297431&quot; title=&quot;[JVMCI] HotSpotJVMCIRuntime.encodeThrowable should not throw an exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8297431&quot;&gt;&lt;strike&gt;JDK-8297431&lt;/strike&gt;&lt;/a&gt; added code for special handling of OutOfMemoryError when translating an exception between libjvmci and HotSpot[1]. &lt;br/&gt;
Unfortunately, this code was deleted in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298099&quot; title=&quot;[JVMCI] decouple libgraal from JVMCI module at runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298099&quot;&gt;&lt;strike&gt;JDK-8298099&lt;/strike&gt;&lt;/a&gt; when moving the exception translation mechanism to VMSupport[2].&lt;br/&gt;
This causes the VM to crash when an OOME occurs while translating an exception from HotSpot to libjvmci:&lt;br/&gt;
&lt;br/&gt;
#&lt;br/&gt;
# A fatal error has been detected by the Java Runtime Environment:&lt;br/&gt;
#&lt;br/&gt;
#  SIGSEGV (0xb) at pc=0x00000001198b925c, pid=86445, tid=41987&lt;br/&gt;
#&lt;br/&gt;
# JRE version: Java(TM) SE Runtime Environment GraalVM LIBGRAAL_EE 23.0.0-dev (20.0.1+6) (fastdebug build 20.0.1+6-jvmci-23.0-b08)&lt;br/&gt;
# Java VM: Java HotSpot(TM) 64-Bit Server VM GraalVM LIBGRAAL_EE 23.0.0-dev (fastdebug 20.0.1+6-jvmci-23.0-b08, mixed mode, tiered, jvmci, jvmci compiler, compressed oops, compressed class ptrs, g1 gc, bsd-aarch64)&lt;br/&gt;
# Problematic frame:&lt;br/&gt;
# C  [libjvmcicompiler.dylib+0x18b925c]  VMSupport_decodeAndThrowThrowable_6e5efc69ed24721573d80c8bd9388a70726b05d9+0x1c&lt;br/&gt;
#&lt;br/&gt;
&lt;br/&gt;
Current CompileTask:&lt;br/&gt;
JVMCI-native:    625  218       4       java.lang.String::coder (15 bytes)&lt;br/&gt;
&lt;br/&gt;
Stack: [0x00000001716a8000,0x0000000171aab000],  sp=0x0000000171aa9ff0,  free space=4103k&lt;br/&gt;
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)&lt;br/&gt;
C  [libjvmcicompiler.dylib+0x18b925c]  VMSupport_decodeAndThrowThrowable_6e5efc69ed24721573d80c8bd9388a70726b05d9+0x1c&lt;br/&gt;
C  [libjvmcicompiler.dylib+0x157788c]  JNIJavaCallWrapperHolder_invoke_J_J_7350c0c1adfe87c35c2f17614c6f7ac562e74345+0x7c&lt;br/&gt;
C  [libjvmcicompiler.dylib+0x10b3a34]  JNIJavaCallVariantWrapperHolder_invokeJJIJ_J_VA_LIST_8a718de8224c87c5013a17d7fcef8924c81685f8+0xd4&lt;br/&gt;
V  [libjvm.dylib+0xa44470]  JNIEnv_::CallStaticVoidMethod(_jclass*, _jmethodID*, ...)+0x24&lt;br/&gt;
V  [libjvm.dylib+0xa61568]  HotSpotToSharedLibraryExceptionTranslation::decode(JavaThread*, Klass*, long)+0x90&lt;br/&gt;
V  [libjvm.dylib+0xa450d8]  ExceptionTranslation::doit(JavaThread*)+0x300&lt;br/&gt;
V  [libjvm.dylib+0xa45338]  JVMCIEnv::transfer_pending_exception_to_jni(JavaThread*, JVMCIEnv*, JVMCIEnv*)+0x14c&lt;br/&gt;
V  [libjvm.dylib+0xaa4344]  JVMCIRuntime::initialize(JVMCIEnv*)+0x72c&lt;br/&gt;
V  [libjvm.dylib+0xaa92a4]  JVMCIRuntime::compile_method(JVMCIEnv*, JVMCICompiler*, methodHandle const&amp;amp;, int)+0x144&lt;br/&gt;
V  [libjvm.dylib+0x4edb4c]  CompileBroker::invoke_compiler_on_method(CompileTask*)+0x76c&lt;br/&gt;
V  [libjvm.dylib+0x4ed20c]  CompileBroker::compiler_thread_loop()+0x288&lt;br/&gt;
V  [libjvm.dylib+0x898700]  JavaThread::thread_main_inner()+0x2a0&lt;br/&gt;
V  [libjvm.dylib+0xfd1c30]  Thread::call_run()+0x220&lt;br/&gt;
V  [libjvm.dylib+0xd9bbf0]  thread_native_entry(Thread*)+0x160&lt;br/&gt;
C  [libsystem_pthread.dylib+0x7878]  _pthread_start+0x140&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;https://github.com/openjdk/jdk/commit/952e10055135613e8ea2b818a4f35842936f5633#diff-4d3a3b7e7e12e1d5b4cf3e4677d9e0de5e9df3bbf1bbfa0d8d43d12098d67dc4R222-R234&quot;&gt;https://github.com/openjdk/jdk/commit/952e10055135613e8ea2b818a4f35842936f5633#diff-4d3a3b7e7e12e1d5b4cf3e4677d9e0de5e9df3bbf1bbfa0d8d43d12098d67dc4R222-R234&lt;/a&gt;&lt;br/&gt;
[2] &lt;a href=&quot;https://github.com/openjdk/jdk/commit/8b69a2e434ad2fa3369079622b57afb973d5bd9a#diff-7292551772c27b7152a3333f03cbbad90a897c5e37c6a97d4026be835e6d8fe1R121-R125&quot;&gt;https://github.com/openjdk/jdk/commit/8b69a2e434ad2fa3369079622b57afb973d5bd9a#diff-7292551772c27b7152a3333f03cbbad90a897c5e37c6a97d4026be835e6d8fe1R121-R125&lt;/a&gt;</description>
                <environment></environment>
        <key id="5095470">JDK-8303577</key>
            <summary>[JVMCI] OOME causes crash while translating exceptions</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dnsimon">Douglas Simon</assignee>
                                    <reporter username="dnsimon">Douglas Simon</reporter>
                        <labels>
                            <label>jvmci</label>
                            <label>oracle-triage-11</label>
                            <label>oracle-triage-17</label>
                            <label>oracle-triage-21</label>
                    </labels>
                <created>Fri, 3 Mar 2023 05:31:19 -0800</created>
                <updated>Mon, 19 Aug 2024 23:22:34 -0700</updated>
                            <resolved>Mon, 6 Mar 2023 08:12:42 -0800</resolved>
                                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14565000" author="thartmann" created="Tue, 7 Mar 2023 01:16:13 -0800"  >ILW = Crash during JVMCI compilation on OOME, with JVMVI when OOME occurs during translation of exceptions, no workaround but disable JVMCI compilation = HLM = P3</comment>
                            <comment id="14564694" author="dukebot" created="Mon, 6 Mar 2023 08:12:39 -0800"  >Changeset: cac81ddc&lt;br/&gt;
Author:    Doug Simon &amp;lt;&lt;a href=&apos;mailto:dnsimon@openjdk.org&apos;&gt;dnsimon@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-06 16:10:02 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/cac81ddc9259168a5b12c290ae2ce7db25a729fc&quot;&gt;https://git.openjdk.org/jdk/commit/cac81ddc9259168a5b12c290ae2ce7db25a729fc&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14564417" author="roboduke" created="Fri, 3 Mar 2023 10:01:37 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12857&quot;&gt;https://git.openjdk.org/jdk/pull/12857&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-03 15:40:01 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5088897">JDK-8298099</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="22023">20</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30lvv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>