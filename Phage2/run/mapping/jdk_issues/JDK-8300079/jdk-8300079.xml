<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 15:36:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8300079] SIGSEGV in LibraryCallKit::inline_string_copy due to constant NULL src argument</title>
                <link>https://bugs.openjdk.org/browse/JDK-8300079</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Test crashes with Xcomp:&lt;br/&gt;
#&lt;br/&gt;
# A fatal error has been detected by the Java Runtime Environment:&lt;br/&gt;
#&lt;br/&gt;
#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffa45ed537d, pid=47852, tid=3212&lt;br/&gt;
#&lt;br/&gt;
# JRE version: Java(TM) SE Runtime Environment (20.0+27) (build 20-ea+27-2213)&lt;br/&gt;
# Java VM: Java HotSpot(TM) 64-Bit Server VM (20-ea+27-2213, compiled mode, sharing, compressed oops, compressed class ptrs, parallel gc, windows-amd64)&lt;br/&gt;
# Problematic frame:&lt;br/&gt;
# V  [jvm.dll+0x5b537d]  LibraryCallKit::inline_string_copy+0xdd&lt;br/&gt;
#&lt;br/&gt;
# Core dump will be written. Default location: C:\sb\prod\1670707063\testoutput\test-support\jtreg_closed_test_hotspot_jtreg_applications_runthese_RunThese30M_java\scratch\0\hs_err_pid47852.mdmp&lt;br/&gt;
#&lt;br/&gt;
# If you would like to submit a bug report, please visit:&lt;br/&gt;
#   &lt;a href=&quot;https://bugreport.java.com/bugreport/crash.jsp&quot;&gt;https://bugreport.java.com/bugreport/crash.jsp&lt;/a&gt;&lt;br/&gt;
#&lt;br/&gt;
&lt;br/&gt;
---------------  S U M M A R Y ------------&lt;br/&gt;
&lt;br/&gt;
Command Line: -Xbootclasspath/a:C:\sb\prod\1670707063\testoutput\test-support\jtreg_closed_test_hotspot_jtreg_applications_runthese_RunThese30M_java\scratch\0\wb.jar -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI -Djava.security.manager=allow -XX:MaxRAMPercentage=4.16667 -Dtest.boot.jdk=c:\ade\mesos\work_dir\jib-master\install\jdk\19\36\bundles\windows-x64\jdk-19_windows-x64_bin.zip\jdk-19 -Djava.io.tmpdir=c:\sb\prod\1670707063\testoutput\test-support\jtreg_closed_test_hotspot_jtreg_applications_runthese_RunThese30M_java\tmp -XX:+CreateCoredumpOnCrash -XX:+UseParallelGC -Xcomp -XX:-TieredCompilation -XX:MaxRAMPercentage=50 -Djava.net.preferIPv6Addresses=false -XX:+DisplayVMOutputToStderr -Xlog:gc*,gc+heap=debug:gc.log:uptime,timemillis,level,tags -XX:+DisableExplicitGC -XX:+StartAttachListener -Xlog:monitorinflation=info:file=../monitorinflation.log::filesize=500m -Djava.io.tmpdir=C:\sb\prod\1670707063\testoutput\test-support\jtreg_closed_test_hotspot_jtreg_applications_runthese_RunThese30M_java\scratch\0/java.io.tmpdir -Duser.home=C:\sb\prod\1670707063\testoutput\test-support\jtreg_closed_test_hotspot_jtreg_applications_runthese_RunThese30M_java\scratch\0/user.home -agentpath:c:\ade\mesos\work_dir\jib-master\install\jdk-20+27-2213\windows-x64.test\hotspot\jtreg\native\JvmtiStressModule.dll -XX:NativeMemoryTracking=detail -Djdk.test.lib.random.seed=-6686853612947720509 applications.kitchensink.process.stress.Main C:\sb\prod\1670707063\testoutput\test-support\jtreg_closed_test_hotspot_jtreg_applications_runthese_RunThese30M_java\scratch\0\kitchensink.final.properties&lt;br/&gt;
&lt;br/&gt;
Host: AMD EPYC 7J13 64-Core Processor                , 12 cores, 23G,  Windows Server 2022 , 64 bit Build 20348 (10.0.20348.740)&lt;br/&gt;
Time: Sat Dec 10 21:54:47 2022 Etc elapsed time: 1411.367917 seconds (0d 0h 23m 31s)&lt;br/&gt;
&lt;br/&gt;
---------------  T H R E A D  ---------------&lt;br/&gt;
&lt;br/&gt;
Current thread (0x000001f678bf9840):  JavaThread &amp;quot;C2 CompilerThread3&amp;quot; daemon [_thread_in_native, id=3212, stack(0x000000a604300000,0x000000a604400000)]&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Current CompileTask:&lt;br/&gt;
C2:1411367 516956   !b        javasoft.sqe.tests.api.java.lang.String.CopyValueOfTests::String0039 (32 bytes)&lt;br/&gt;
&lt;br/&gt;
Stack: [0x000000a604300000,0x000000a604400000],  sp=0x000000a6043fc260,  free space=1008k&lt;br/&gt;
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)&lt;br/&gt;
V  [jvm.dll+0x5b537d]  LibraryCallKit::inline_string_copy+0xdd  (library_call.cpp:1366)&lt;br/&gt;
V  [jvm.dll+0x5bb4bd]  LibraryCallKit::try_to_inline+0x64d  (library_call.cpp:316)&lt;br/&gt;
V  [jvm.dll+0x5a6e63]  LibraryIntrinsic::generate+0x93  (library_call.cpp:114)&lt;br/&gt;
V  [jvm.dll+0x2f56fc]  Parse::do_call+0x53c  (doCall.cpp:662)&lt;br/&gt;
V  [jvm.dll+0x6d4d22]  Parse::do_one_bytecode+0x2f62  (parse2.cpp:2705)&lt;br/&gt;
V  [jvm.dll+0x6ccda6]  Parse::do_one_block+0x176  (parse1.cpp:1560)&lt;br/&gt;
V  [jvm.dll+0x6cc3f1]  Parse::do_all_blocks+0x341  (parse1.cpp:710)&lt;br/&gt;
V  [jvm.dll+0x6ca5f4]  Parse::Parse+0x7c4  (parse1.cpp:616)&lt;br/&gt;
V  [jvm.dll+0x1d1cec]  ParseGenerator::generate+0x8c  (callGenerator.cpp:103)&lt;br/&gt;
V  [jvm.dll+0x2f56fc]  Parse::do_call+0x53c  (doCall.cpp:662)&lt;br/&gt;
V  [jvm.dll+0x6d4d22]  Parse::do_one_bytecode+0x2f62  (parse2.cpp:2705)&lt;br/&gt;
V  [jvm.dll+0x6ccda6]  Parse::do_one_block+0x176  (parse1.cpp:1560)&lt;br/&gt;
V  [jvm.dll+0x6cc3f1]  Parse::do_all_blocks+0x341  (parse1.cpp:710)&lt;br/&gt;
V  [jvm.dll+0x6ca5f4]  Parse::Parse+0x7c4  (parse1.cpp:616)&lt;br/&gt;
V  [jvm.dll+0x1d1cec]  ParseGenerator::generate+0x8c  (callGenerator.cpp:103)&lt;br/&gt;
V  [jvm.dll+0x2f56fc]  Parse::do_call+0x53c  (doCall.cpp:662)&lt;br/&gt;
V  [jvm.dll+0x6d4d22]  Parse::do_one_bytecode+0x2f62  (parse2.cpp:2705)&lt;br/&gt;
V  [jvm.dll+0x6ccda6]  Parse::do_one_block+0x176  (parse1.cpp:1560)&lt;br/&gt;
V  [jvm.dll+0x6cc3f1]  Parse::do_all_blocks+0x341  (parse1.cpp:710)&lt;br/&gt;
V  [jvm.dll+0x6ca5f4]  Parse::Parse+0x7c4  (parse1.cpp:616)&lt;br/&gt;
V  [jvm.dll+0x1d1cec]  ParseGenerator::generate+0x8c  (callGenerator.cpp:103)&lt;br/&gt;
V  [jvm.dll+0x2f56fc]  Parse::do_call+0x53c  (doCall.cpp:662)&lt;br/&gt;
V  [jvm.dll+0x6d4d22]  Parse::do_one_bytecode+0x2f62  (parse2.cpp:2705)&lt;br/&gt;
V  [jvm.dll+0x6ccda6]  Parse::do_one_block+0x176  (parse1.cpp:1560)&lt;br/&gt;
V  [jvm.dll+0x6cc3f1]  Parse::do_all_blocks+0x341  (parse1.cpp:710)&lt;br/&gt;
V  [jvm.dll+0x6ca5f4]  Parse::Parse+0x7c4  (parse1.cpp:616)&lt;br/&gt;
V  [jvm.dll+0x1d1cec]  ParseGenerator::generate+0x8c  (callGenerator.cpp:103)&lt;br/&gt;
V  [jvm.dll+0x2f56fc]  Parse::do_call+0x53c  (doCall.cpp:662)&lt;br/&gt;
V  [jvm.dll+0x6d4d22]  Parse::do_one_bytecode+0x2f62  (parse2.cpp:2705)&lt;br/&gt;
V  [jvm.dll+0x6ccda6]  Parse::do_one_block+0x176  (parse1.cpp:1560)&lt;br/&gt;
V  [jvm.dll+0x6cc3f1]  Parse::do_all_blocks+0x341  (parse1.cpp:710)&lt;br/&gt;
V  [jvm.dll+0x6ca5f4]  Parse::Parse+0x7c4  (parse1.cpp:616)&lt;br/&gt;
V  [jvm.dll+0x1d1cec]  ParseGenerator::generate+0x8c  (callGenerator.cpp:103)&lt;br/&gt;
V  [jvm.dll+0x24a8a3]  Compile::Compile+0x9e3  (compile.cpp:760)&lt;br/&gt;
V  [jvm.dll+0x1ceae1]  C2Compiler::compile_method+0xc1  (c2compiler.cpp:116)&lt;br/&gt;
V  [jvm.dll+0x25a4bb]  CompileBroker::invoke_compiler_on_method+0x73b  (compileBroker.cpp:2240)&lt;br/&gt;
V  [jvm.dll+0x258b90]  CompileBroker::compiler_thread_loop+0x250  (compileBroker.cpp:1917)&lt;br/&gt;
V  [jvm.dll+0x3f35e5]  JavaThread::run+0x105  (javaThread.cpp:694)&lt;br/&gt;
V  [jvm.dll+0x7f57c6]  Thread::call_run+0xc6  (thread.cpp:234)&lt;br/&gt;
V  [jvm.dll+0x6bb6cb]  thread_native_entry+0x7b  (os_windows.cpp:547)&lt;br/&gt;
C  [ucrtbase.dll+0x26b4c]&lt;br/&gt;
C  [KERNEL32.DLL+0x14ed0]&lt;br/&gt;
C  [ntdll.dll+0x7e39b]&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5091314">JDK-8300079</key>
            <summary>SIGSEGV in LibraryCallKit::inline_string_copy due to constant NULL src argument</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thartmann">Tobias Hartmann</assignee>
                                    <reporter username="lmesnik">Leonid Mesnik</reporter>
                        <labels>
                            <label>atr</label>
                            <label>c2</label>
                            <label>c2-intrinsic</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk20u-fix-SQE-ok-next</label>
                            <label>jdk20u-fix-request</label>
                            <label>jdk20u-fix-yes</label>
                            <label>oracle-triage-21</label>
                    </labels>
                <created>Thu, 12 Jan 2023 11:45:49 -0800</created>
                <updated>Sun, 9 Jul 2023 22:02:28 -0700</updated>
                            <resolved>Sun, 22 Jan 2023 22:10:18 -0800</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>19</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14585404" author="roboduke" created="Mon, 29 May 2023 12:47:37 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/1911&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/1911&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-29 19:41:57 +0000</comment>
                            <comment id="14585403" author="goetz" created="Mon, 29 May 2023 12:43:22 -0700"  >&lt;br/&gt;
Fix request [11u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 11.0.20-oracle. Backport based on change of jdk17&lt;br/&gt;
Typical risk of a C2 change, but issue well reproducible&lt;br/&gt;
I had to do trivial resolve and apation.&lt;br/&gt;
Test fails without the fix and passes with it. SAP nighlty testing passed.</comment>
                            <comment id="14576918" author="roboduke" created="Wed, 26 Apr 2023 00:55:07 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1297&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1297&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-26 07:47:56 +0000</comment>
                            <comment id="14576917" author="goetz" created="Wed, 26 Apr 2023 00:49:20 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.8-oracle.&lt;br/&gt;
Low risk, just adding a check for NULL.&lt;br/&gt;
Not clean, basically a new implementation of a trivial but larger change.&lt;br/&gt;
Test passes and fails without the fix&lt;br/&gt;
SAP nightly testing passed.</comment>
                            <comment id="14570344" author="roboduke" created="Wed, 29 Mar 2023 04:14:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20u/pull/32&quot;&gt;https://git.openjdk.org/jdk20u/pull/32&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-29 11:06:45 +0000</comment>
                            <comment id="14570334" author="thartmann" created="Wed, 29 Mar 2023 04:07:33 -0700"  >Fix Request (JDK 20u)&lt;br/&gt;
Resolves an issue with a SIGSEGV during C2 compilation. The fix is low risk, was already backported to Oracle JDK 17u / 11u and tested in the JDK 21 and 17u / 11u CIs. The backport applies cleanly.</comment>
                            <comment id="14553363" author="dukebot" created="Sun, 22 Jan 2023 22:10:17 -0800"  >Changeset: 45e4e009&lt;br/&gt;
Author:    Tobias Hartmann &amp;lt;&lt;a href=&apos;mailto:thartmann@openjdk.org&apos;&gt;thartmann@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-01-23 06:06:32 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/45e4e00981ef8b4bf143afce0889698319273c1d&quot;&gt;https://git.openjdk.org/jdk/commit/45e4e00981ef8b4bf143afce0889698319273c1d&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14553042" author="roboduke" created="Fri, 20 Jan 2023 04:06:18 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12112&quot;&gt;https://git.openjdk.org/jdk/pull/12112&lt;/a&gt;&lt;br/&gt;
Date: 2023-01-20 11:57:45 +0000</comment>
                            <comment id="14550986" author="thartmann" created="Fri, 13 Jan 2023 03:26:31 -0800"  >It&amp;#39;s an old issue. Attached Test.java reproduces the crash even with JDK 11u.&lt;br/&gt;
&lt;br/&gt;
-XX:CompileCommand=compileonly,Test::test -XX:CompileCommand=quiet -XX:-TieredCompilation -Xcomp -XX:CompileCommand=dontinline,java.lang.String::rangeCheck Test.java</comment>
                            <comment id="14550976" author="thartmann" created="Fri, 13 Jan 2023 02:05:45 -0800"  >I can reproduce this on Linux x64 with the attached replay file and the JCK 20 test classes:&lt;br/&gt;
&lt;br/&gt;
# A fatal error has been detected by the Java Runtime Environment:&lt;br/&gt;
#&lt;br/&gt;
#  SIGSEGV (0xb) at pc=0x00007f9d9e2b7c5e, pid=275047, tid=275060&lt;br/&gt;
#&lt;br/&gt;
# JRE version: Java(TM) SE Runtime Environment (20.0+28) (fastdebug build 20-ea+28-2221)&lt;br/&gt;
# Java VM: Java HotSpot(TM) 64-Bit Server VM (fastdebug 20-ea+28-2221, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)&lt;br/&gt;
# Problematic frame:&lt;br/&gt;
# V  [libjvm.so+0x1404c5e]  LibraryCallKit::inline_string_copy(bool)+0xde&lt;br/&gt;
&lt;br/&gt;
(rr) print src-&amp;gt;dump(1)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;0  Root  === 0  [[ 0 1 3 22 23 24 25 36 37 38 102 105 107 110 111 120 128 148 149 151 153 154 155 157 158 161 ]] &lt;br/&gt;
&amp;nbsp;&amp;nbsp;23  ConP  === 0  [[ 21 21 27 33 35 40 40 48 59 59 35 61 66 68 68 80 69 69 69 69 69 80 80 83 83 85 90 92 94 126 135 126 138 144 146 164 164 164 164 164 172 183 183 146 ]]  #NULL&lt;br/&gt;
&lt;br/&gt;
I can also reproduce this with JDK &amp;lt; 20.</comment>
                            <comment id="14550900" author="dlong" created="Thu, 12 Jan 2023 19:47:35 -0800"  >ILW = null pointer crash; seen in stress test with -Xcomp, windows only; no workaround = MMH = P3 </comment>
                            <comment id="14550899" author="dlong" created="Thu, 12 Jan 2023 19:46:05 -0800"  >Based on the disassembly of the crash site, we seem to be hitting a null pointer here:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;BasicType src_elem = src_type-&amp;gt;isa_aryptr()-&amp;gt;elem()-&amp;gt;array_element_basic_type();&lt;br/&gt;
&lt;br/&gt;
because isa_aryptr() returned NULL.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5093522">JDK-8301949</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5093526">JDK-8301953</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5097854">JDK-8305549</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5099613">JDK-8306991</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5099652">JDK-8307028</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5102083">JDK-8309092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="102301" name="Test.java" size="1618" author="thartmann" created="Fri, 13 Jan 2023 03:24:57 -0800"/>
                            <attachment id="102296" name="replay_pid47852.log" size="1135896" author="thartmann" created="Fri, 13 Jan 2023 02:05:12 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zw8j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17335"><![CDATA[b07]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>