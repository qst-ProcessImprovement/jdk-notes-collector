<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 19:11:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8307403] java/util/zip/DeInflate.java timed out</title>
                <link>https://bugs.openjdk.org/browse/JDK-8307403</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test timed out in the JDK21 CI:&lt;br/&gt;
&lt;br/&gt;
java/util/zip/DeInflate.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(10/299)----------&lt;br/&gt;
command: main DeInflate&lt;br/&gt;
reason: Assumed action based on file name: run main DeInflate &lt;br/&gt;
started: Wed May 03 20:37:19 UTC 2023&lt;br/&gt;
Mode: agentvm&lt;br/&gt;
Agent id: 44&lt;br/&gt;
Timeout refired 480 times&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Wed May 03 20:45:58 UTC 2023&lt;br/&gt;
elapsed time (seconds): 519.222&lt;br/&gt;
----------configuration:(12/1402)----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
result: Error. Agent error: java.lang.Exception: Agent 44 timed out with a timeout of 480 seconds; check console log for any additional details&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5100073">JDK-8307403</key>
            <summary>java/util/zip/DeInflate.java timed out</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jpai">Jaikiran Pai</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sbr</label>
                            <label>tier1</label>
                            <label>tier5</label>
                            <label>tier6</label>
                    </labels>
                <created>Wed, 3 May 2023 14:34:06 -0700</created>
                <updated>Fri, 6 Oct 2023 00:07:41 -0700</updated>
                            <resolved>Mon, 15 May 2023 22:08:16 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14615823" author="roboduke" created="Wed, 4 Oct 2023 06:31:01 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1835&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1835&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-04 13:21:25 +0000</comment>
                            <comment id="14615817" author="goetz" created="Wed, 4 Oct 2023 06:19:55 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.10-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed. </comment>
                            <comment id="14581777" author="dukebot" created="Mon, 15 May 2023 22:08:15 -0700"  >Changeset: d22bcc81&lt;br/&gt;
Author:    Jaikiran Pai &amp;lt;&lt;a href=&apos;mailto:jpai@openjdk.org&apos;&gt;jpai@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-05-16 05:06:46 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/d22bcc813eea719b817d3d541a843594675c0ca9&quot;&gt;https://git.openjdk.org/jdk/commit/d22bcc813eea719b817d3d541a843594675c0ca9&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14581205" author="roboduke" created="Fri, 12 May 2023 05:54:34 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13955&quot;&gt;https://git.openjdk.org/jdk/pull/13955&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-12 12:47:28 +0000</comment>
                            <comment id="14581202" author="jpai" created="Fri, 12 May 2023 05:38:39 -0700"  >What this test does in this specific check() method is that it takes an array of input and then uses a Deflater to deflate the content until the deflater is &amp;quot;finished&amp;quot;. Previously, before &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8299748,&quot;&gt;https://bugs.openjdk.org/browse/JDK-8299748,&lt;/a&gt; the test was using a fixed size output array to deflate the content. But on AIX, where apparently, there&amp;#39;s a different implementation of zlib, the size of the output array that was defined in this test wasn&amp;#39;t enough. So the test was modified to not use a fixed output array size and let it grow as needed.&lt;br/&gt;
&lt;br/&gt;
Before deflating, the deflater is fed with the input array and the size of the input being fed changes &amp;quot;randomly&amp;quot;. A &amp;quot;new Random().nextInt(dataIn.length)&amp;quot; decides how much of the input needs to be deflated. Unfortunately, due to an oversight, the change to this test in that previous commit introduced a bug, where this random size was also used as the size of the temporary output buffer which is passed to def.deflate(tempBuffer). So what that meant was, this loop:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;while (!def.finished()) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;int temp_counter = def.deflate(tempBuffer); &amp;lt;--- this tempBuffer is of length 0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;m += temp_counter;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;baos.write(tempBuffer, 0, temp_counter);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
will never finish since the deflater will never be able to deflate into a tempBuffer of length 0.&lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t have logs to prove that this is what is causing the timeouts, but looking at the code, I believe this is what is happening. I&amp;#39;ve verified that the infinite loop does indeed happen, by intentionally changing the value returned by &amp;quot;new Random().nextInt(dataIn.length)&amp;quot;  to be 0, so I do think this is what is happening.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ll open a PR to fix this shortly.&lt;br/&gt;
</comment>
                            <comment id="14579958" author="dcubed" created="Mon, 8 May 2023 13:42:55 -0700"  >And the Mach5 demi-gods have answered [~jpai]&amp;#39;s prayer and we now have a Tier1 sighting.&lt;br/&gt;
Here&amp;#39;s a log file snippet (but it doesn&amp;#39;t help):&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(10/299)----------&lt;br/&gt;
command: main DeInflate&lt;br/&gt;
reason: Assumed action based on file name: run main DeInflate &lt;br/&gt;
started: Mon May 08 08:22:00 UTC 2023&lt;br/&gt;
Mode: agentvm&lt;br/&gt;
Agent id: 24&lt;br/&gt;
Timeout refired 480 times&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Mon May 08 08:30:44 UTC 2023&lt;br/&gt;
elapsed time (seconds): 524.503&lt;br/&gt;
----------configuration:(12/1416)----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
result: Error. Agent error: java.lang.Exception: Agent 24 timed out with a timeout of 480 seconds; check console log for any additional details</comment>
                            <comment id="14578946" author="alanb" created="Wed, 3 May 2023 22:35:06 -0700"  >The &amp;quot;main&amp;quot; thread seems to be spinning here, the changes in test update &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8299748&quot; title=&quot;java/util/zip/Deinflate.java failing on s390x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8299748&quot;&gt;&lt;strike&gt;JDK-8299748&lt;/strike&gt;&lt;/a&gt; need closer examination.&lt;br/&gt;
&lt;br/&gt;
&amp;quot;AgentVMThread&amp;quot; #22 [318386] prio=5 os_prio=0 cpu=478087.37ms elapsed=485.15s allocated=1008M defined_classes=29 tid=0x0000ffff904b8410 nid=318386 runnable  [0x0000ffff5a5ad000]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;java.lang.Thread.State: RUNNABLE&lt;br/&gt;
	at DeInflate.check(DeInflate.java:148)&lt;br/&gt;
	at DeInflate.main(DeInflate.java:319)&lt;br/&gt;
	at java.lang.invoke.LambdaForm$DMH/0x00000001000c0000.invokeStatic(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/LambdaForm$DMH)&lt;br/&gt;
	at java.lang.invoke.LambdaForm$MH/0x000000010017a000.invoke(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/LambdaForm$MH)&lt;br/&gt;
	at java.lang.invoke.Invokers$Holder.invokeExact_MT(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Invokers$Holder)&lt;br/&gt;
	at jdk.internal.reflect.DirectMethodHandleAccessor.invokeImpl(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/DirectMethodHandleAccessor.java:154)&lt;br/&gt;
	at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.lang.Thread.runWith(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Thread.java:1605)&lt;br/&gt;
	at java.lang.Thread.run(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Thread.java:1592)</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5106956">JDK-8313371</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5111870">JDK-8317648</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    <customfieldvalue key="19300"><![CDATA[aarch64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31dkb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17433"><![CDATA[b23]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="231"><![CDATA[java.util.jar]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>