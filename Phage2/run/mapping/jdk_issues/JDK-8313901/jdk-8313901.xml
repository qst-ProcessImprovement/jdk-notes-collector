<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:49:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8313901] [TESTBUG] test/hotspot/jtreg/compiler/codecache/CodeCacheFullCountTest.java fails with java.lang.VirtualMachineError</title>
                <link>https://bugs.openjdk.org/browse/JDK-8313901</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We observed test/hotspot/jtreg/compiler/codecache/CodeCacheFullCountTest.java failures sometimes due to `java.lang.VirtualMachineError: Out of space in CodeCache for adapters`. The stdout contains ` full_count=1` (test expects non-zero full_count):&lt;br/&gt;
&lt;br/&gt;
stdout: [[0.195s][warning][codecache] CodeCache is full. Compiler has been disabled.&lt;br/&gt;
[0.195s][warning][codecache] Try increasing the code cache size using -XX:ReservedCodeCacheSize=&lt;br/&gt;
CodeCache: size=2496Kb used=2495Kb max_used=2495Kb free=0Kb&lt;br/&gt;
&amp;nbsp;bounds [0x00007f122c413000, 0x00007f122c683000, 0x00007f122c683000]&lt;br/&gt;
&amp;nbsp;total_blobs=765 nmethods=25 adapters=654&lt;br/&gt;
&amp;nbsp;compilation: disabled (not enough contiguous free space left)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;stopped_count=0, restarted_count=0&lt;br/&gt;
&amp;nbsp;full_count=1&lt;br/&gt;
];&lt;br/&gt;
&amp;nbsp;stderr: [OpenJDK 64-Bit Server VM warning: CodeCache is full. Compiler has been disabled.&lt;br/&gt;
OpenJDK 64-Bit Server VM warning: Try increasing the code cache size using -XX:ReservedCodeCacheSize=&lt;br/&gt;
Exception in thread &amp;quot;main&amp;quot; java.lang.VirtualMachineError: Out of space in CodeCache for adapters&lt;br/&gt;
&lt;br/&gt;
Exception: java.lang.VirtualMachineError thrown from the UncaughtExceptionHandler in thread &amp;quot;main&amp;quot;&lt;br/&gt;
]&lt;br/&gt;
&amp;nbsp;exitValue = 1&lt;br/&gt;
&lt;br/&gt;
java.lang.RuntimeException: Expected to get exit value of [0], exit value is: [1]&lt;br/&gt;
	at jdk.test.lib.process.OutputAnalyzer.shouldHaveExitValue(OutputAnalyzer.java:490)&lt;br/&gt;
	at CodeCacheFullCountTest.runTest(CodeCacheFullCountTest.java:60)&lt;br/&gt;
	at CodeCacheFullCountTest.main(CodeCacheFullCountTest.java:43)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1570)</description>
                <environment></environment>
        <key id="5107582">JDK-8313901</key>
            <summary>[TESTBUG] test/hotspot/jtreg/compiler/codecache/CodeCacheFullCountTest.java fails with java.lang.VirtualMachineError</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myano">Masanori Yano</assignee>
                                    <reporter username="jiangli">Jiangli Zhou</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>oracle-triage-22</label>
                    </labels>
                <created>Mon, 7 Aug 2023 16:02:16 -0700</created>
                <updated>Wed, 9 Oct 2024 22:46:14 -0700</updated>
                            <resolved>Tue, 22 Aug 2023 23:07:30 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14696851" author="roboduke" created="Thu, 8 Aug 2024 01:08:14 -0700"  >[jdk17u-fix-request] Approval Request from Amos&lt;br/&gt;
&amp;quot;Backporting for parity with 17.0.13-oracle. No risk, test fix. Clean backport. Test passes and SAP nightlies pass on 2024-08-07&#8221;</comment>
                            <comment id="14695229" author="roboduke" created="Thu, 1 Aug 2024 14:05:09 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2769&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2769&lt;/a&gt;&lt;br/&gt;
Date: 2024-08-01 20:58:25 +0000</comment>
                            <comment id="14606291" author="shade" created="Wed, 23 Aug 2023 23:40:47 -0700"  >Fix Request (21u)&lt;br/&gt;
&lt;br/&gt;
Stabilizes the test. Applies cleanly. Multiple iterations of test pass.</comment>
                            <comment id="14605997" author="roboduke" created="Tue, 22 Aug 2023 23:29:35 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/84&quot;&gt;https://git.openjdk.org/jdk21u/pull/84&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-23 06:21:39 +0000</comment>
                            <comment id="14605991" author="dukebot" created="Tue, 22 Aug 2023 23:07:29 -0700"  >Changeset: d1de3d08&lt;br/&gt;
Author:    Kimura Yukihiro &amp;lt;&lt;a href=&apos;mailto:kimura.yukihiro@jp.fujitsu.com&apos;&gt;kimura.yukihiro@jp.fujitsu.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Aleksey Shipilev &amp;lt;&lt;a href=&apos;mailto:shade@openjdk.org&apos;&gt;shade@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-08-23 06:04:28 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/d1de3d082ef9b83aaa68664e653ab09feb8bad87&quot;&gt;https://git.openjdk.org/jdk/commit/d1de3d082ef9b83aaa68664e653ab09feb8bad87&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14604653" author="roboduke" created="Thu, 17 Aug 2023 03:54:43 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15329&quot;&gt;https://git.openjdk.org/jdk/pull/15329&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-17 10:48:49 +0000</comment>
                            <comment id="14604628" author="thartmann" created="Thu, 17 Aug 2023 01:42:40 -0700"  >Thanks for the update, that sounds good to me.</comment>
                            <comment id="14604607" author="JIRAUSER20003" created="Thu, 17 Aug 2023 00:39:22 -0700"  >I would like to fix this issue.&lt;br/&gt;
As in the comments, I&amp;#39;m going to add a assert statement to warn creation failure of adapters.&lt;br/&gt;
I discussed this point with myano who added the test,&lt;br/&gt;
and we concluded that this fix was the best, as it is difficult to control the test avoiding running out of adapters all the time.&lt;br/&gt;
I would appreciate it if you could let me know if you have any questions or concerns.</comment>
                            <comment id="14602697" author="jiangli" created="Tue, 8 Aug 2023 11:17:05 -0700"  >+1 on changing the test to handle the exit value != 0 case. Thanks for looking into this.</comment>
                            <comment id="14602489" author="thartmann" created="Mon, 7 Aug 2023 23:54:15 -0700"  >This is intermittent because the creation of adapters depends on class loading which depends on other factors like java agents or Graal running. I think the test should simply handle the exit value != 0 case and assert that we failed to create adapters.&lt;br/&gt;
&lt;br/&gt;
[~myano], you added the test with &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8277042&quot; title=&quot;add test for 8276036 to compiler/codecache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8277042&quot;&gt;&lt;strike&gt;JDK-8277042&lt;/strike&gt;&lt;/a&gt;, could you please have a look?</comment>
                            <comment id="14602483" author="thartmann" created="Mon, 7 Aug 2023 23:43:28 -0700"  >ILW = Test fails because it does not correctly handle OOMEs in the code cache, intermittent with single test, no workaround = MLH = P4</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5108784">JDK-8314945</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131370">JDK-8333834</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131775">JDK-8334198</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5136496">JDK-8338130</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5062543">JDK-8277042</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32nlv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17349"><![CDATA[b12]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>