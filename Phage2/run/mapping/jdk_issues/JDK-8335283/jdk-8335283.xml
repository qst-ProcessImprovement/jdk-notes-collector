<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:14:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8335283] Build failure due to &apos;no_sanitize&apos; attribute directive ignored</title>
                <link>https://bugs.openjdk.org/browse/JDK-8335283</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>JDK 21 fastdebug generic linux build with gcc 7  fails due to &amp;#39;no_sanitize&amp;#39; attribute directive ignored [-Werror=attributes]&lt;br/&gt;
&lt;br/&gt;
see full log below: &lt;br/&gt;
&lt;br/&gt;
installers/linux/universal/tar/corretto-build/buildRoot/src/hotspot/share/utilities/vmError.cpp:2068:44: error: &amp;#39;no_sanitize&amp;#39; attribute directive ignored [-Werror=attributes]&lt;br/&gt;
&amp;nbsp;static void ALWAYSINLINE crash_with_sigfpe() {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;^&lt;br/&gt;
Compiling up to 16 files for jdk.security.jgss&lt;br/&gt;
Compiling up to 30 files for jdk.security.auth&lt;br/&gt;
Compiling up to 139 files for jdk.jdeps&lt;br/&gt;
cc1plus: all warnings being treated as errors&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5132995">JDK-8335283</key>
            <summary>Build failure due to &apos;no_sanitize&apos; attribute directive ignored</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbaesken">Matthias Baesken</assignee>
                                    <reporter username="easlan">Elif Aslan</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk23u-fix-SQE-ok-next</label>
                            <label>jdk23u-fix-request</label>
                            <label>jdk23u-fix-yes</label>
                    </labels>
                <created>Thu, 27 Jun 2024 14:25:25 -0700</created>
                <updated>Tue, 30 Jul 2024 01:33:59 -0700</updated>
                            <resolved>Sun, 30 Jun 2024 23:39:13 -0700</resolved>
                                    <version>21</version>
                    <version>24</version>
                                    <fixVersion>24</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14691943" author="roboduke" created="Tue, 23 Jul 2024 03:25:42 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/865&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/865&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-23 10:16:44 +0000</comment>
                            <comment id="14691942" author="roboduke" created="Tue, 23 Jul 2024 03:22:10 -0700"  >[jdk21u-fix-request] Approval Request from luwang1103&lt;br/&gt;
The code applies cleanly. Low risk: It is a corner case which is not triggered by the current code. In order to avoid bugs in the future, it is good to backport it.</comment>
                            <comment id="14691832" author="roboduke" created="Mon, 22 Jul 2024 23:34:12 -0700"  >[jdk23u-fix-request] Approval Request from luwang1103&lt;br/&gt;
The code applies cleanly. Low risk: It is a corner case which is not triggered by the current code. In order to avoid bugs in the future, it is good to backport it.</comment>
                            <comment id="14691827" author="roboduke" created="Mon, 22 Jul 2024 23:26:20 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk23u/pull/31&quot;&gt;https://git.openjdk.org/jdk23u/pull/31&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-23 06:20:23 +0000</comment>
                            <comment id="14687656" author="roboduke" created="Mon, 8 Jul 2024 00:18:33 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/828&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/828&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-08 06:55:03 +0000</comment>
                            <comment id="14685918" author="dukebot" created="Sun, 30 Jun 2024 23:39:11 -0700"  >Changeset: 53242cdf&lt;br/&gt;
Author:    Matthias Baesken &amp;lt;&lt;a href=&apos;mailto:mbaesken@openjdk.org&apos;&gt;mbaesken@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-07-01 06:37:09 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/53242cdf9ef17c502ebd541e84370e7c158639c1&quot;&gt;https://git.openjdk.org/jdk/commit/53242cdf9ef17c502ebd541e84370e7c158639c1&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14685684" author="shade" created="Fri, 28 Jun 2024 04:29:05 -0700"  >I just built the mainline on AL2 EC2 instance, which has:&lt;br/&gt;
&lt;br/&gt;
* Toolchain:      gcc (GNU Compiler Collection)&lt;br/&gt;
* C Compiler:     Version 7.3.1 (at /usr/bin/gcc)&lt;br/&gt;
* C++ Compiler:   Version 7.3.1 (at /usr/bin/g++)&lt;br/&gt;
&lt;br/&gt;
Current mainline build fails with default warnings enabled:&lt;br/&gt;
&lt;br/&gt;
* For target hotspot_variant-server_libjvm_objs_archiveHeapLoader.o:&lt;br/&gt;
/home/shipilev/shipilev-jdk/src/hotspot/share/cds/archiveHeapLoader.cpp:66:114: error: &#8216;no_sanitize&#8217; attribute directive ignored [-Werror=attributes]&lt;br/&gt;
&amp;nbsp;void ArchiveHeapLoader::init_mapped_heap_info(address mapped_heap_bottom, ptrdiff_t delta, int dumptime_oop_shift) {&lt;br/&gt;
&lt;br/&gt;
Applied &lt;a href=&quot;https://github.com/openjdk/jdk/pull/19937.diff,&quot;&gt;https://github.com/openjdk/jdk/pull/19937.diff,&lt;/a&gt; and the build now passes.&lt;br/&gt;
</comment>
                            <comment id="14685678" author="mbaesken" created="Fri, 28 Jun 2024 04:21:08 -0700"  >Elif/Aleksey could you please test this and confirm that it fixes the issue ?&lt;br/&gt;
And would be good to have the exact gcc version where the failure was seen documented in the bug.</comment>
                            <comment id="14685676" author="roboduke" created="Fri, 28 Jun 2024 04:11:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/19937&quot;&gt;https://git.openjdk.org/jdk/pull/19937&lt;/a&gt;&lt;br/&gt;
Date: 2024-06-28 11:04:16 +0000</comment>
                            <comment id="14685672" author="mbaesken" created="Fri, 28 Jun 2024 03:46:53 -0700"  >&amp;gt; I believe the failure is with GCC 7.3.1. Maybe the compiler does not know about this attribute?&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://gcc.gnu.org/bugzilla/show_bug.cgi?id=78204&quot;&gt;https://gcc.gnu.org/bugzilla/show_bug.cgi?id=78204&lt;/a&gt;  says :&lt;br/&gt;
&amp;quot;It looks like GCC does not support this feature in any compilers (GCC 4 through 7).&amp;quot;&lt;br/&gt;
So I will introduce an empty macro as long as ubsan is not enabled; means you would run into errors on older gcc&amp;#39;s with --enable-ubsan  (but you run into errors with this anyway at the moment).</comment>
                            <comment id="14685642" author="shade" created="Fri, 28 Jun 2024 02:30:26 -0700"  >I believe the failure is with GCC 7.3.1. Maybe the compiler does not know about this attribute?</comment>
                            <comment id="14685601" author="mbaesken" created="Fri, 28 Jun 2024 00:07:30 -0700"  >I could set an empty ATTRIBUTE_NO_UBSAN if ubsan is not enabled, like it is done for asan-sanitizer in&lt;br/&gt;
src/hotspot/share/sanitizers/address.hpp :&lt;br/&gt;
&lt;br/&gt;
#ifdef ADDRESS_SANITIZER&lt;br/&gt;
#if defined(TARGET_COMPILER_gcc)&lt;br/&gt;
// GCC-like, including Clang.&lt;br/&gt;
#define ATTRIBUTE_NO_ASAN __attribute__((no_sanitize_address))&lt;br/&gt;
#elif defined(TARGET_COMPILER_visCPP)&lt;br/&gt;
// Microsoft Visual C++&lt;br/&gt;
#define ATTRIBUTE_NO_ASAN __declspec(no_sanitize_address)&lt;br/&gt;
#endif&lt;br/&gt;
#endif&lt;br/&gt;
&lt;br/&gt;
#ifndef ATTRIBUTE_NO_ASAN&lt;br/&gt;
#define ATTRIBUTE_NO_ASAN&lt;br/&gt;
#endif&lt;br/&gt;
&lt;br/&gt;
See the empty macro definition at the end in the last 3 lines.&lt;br/&gt;
But on the other hand the warning looks a bit strange to me in any case.</comment>
                            <comment id="14685595" author="mbaesken" created="Thu, 27 Jun 2024 23:43:27 -0700"  >We run fastdebug builds every night on Linux and no errors are seen (using gcc 11.3.0 devkit).&lt;br/&gt;
Do you set additional compile flags ? Or is some special compiler version involved?&lt;br/&gt;
&lt;br/&gt;
(and I am a bit surprised that &amp;quot;&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8332894&quot; title=&quot;ubsan: vmError.cpp:2090:26: runtime error: division by zero&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8332894&quot;&gt;&lt;strike&gt;JDK-8332894&lt;/strike&gt;&lt;/a&gt; ubsan: vmError.cpp:2090:26: runtime error: division by zero&amp;quot;  shows up as backport below this issue, looks wrong to me)</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5135345">JDK-8337348</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5135468">JDK-8337465</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5130273">JDK-8332894</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36xr7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17315"><![CDATA[b05]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>