<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:49:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8327137] Add test for ConcurrentModificationException in BasicDirectoryModel</title>
                <link>https://bugs.openjdk.org/browse/JDK-8327137</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>I created a test to reproduce ConcurrentModificationException in BasicDirectoryModel. There were several attempts to fix the problem: &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8240690&quot; title=&quot;Race condition between EDT and BasicDirectoryModel.FilesLoader.run0()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8240690&quot;&gt;&lt;strike&gt;JDK-8240690&lt;/strike&gt;&lt;/a&gt; and later &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8307091&quot; title=&quot;A few client tests intermittently throw ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8307091&quot;&gt;&lt;strike&gt;JDK-8307091&lt;/strike&gt;&lt;/a&gt;, &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8323670&quot; title=&quot;A few client tests intermittently throw ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8323670&quot;&gt;&lt;strike&gt;JDK-8323670&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
None of these fixes provided a reproducer.&lt;br/&gt;
&lt;br/&gt;
During code review [1] for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8323670&quot; title=&quot;A few client tests intermittently throw ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8323670&quot;&gt;&lt;strike&gt;JDK-8323670&lt;/strike&gt;&lt;/a&gt;, I mentioned that the problem can be reproduced by my test. After that, I fine-tuned the test. However, it doesn&amp;#39;t always reproduce the problem, it&amp;#39;s stable enough.&lt;br/&gt;
&lt;br/&gt;
[1] &lt;a href=&quot;https://github.com/openjdk/jdk/pull/17462#issuecomment-1914844026&quot;&gt;https://github.com/openjdk/jdk/pull/17462#issuecomment-1914844026&lt;/a&gt;</description>
                <environment></environment>
        <key id="5123031">JDK-8327137</key>
            <summary>Add test for ConcurrentModificationException in BasicDirectoryModel</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aivanov">Alexey Ivanov</assignee>
                                    <reporter username="aivanov">Alexey Ivanov</reporter>
                        <labels>
                            <label>cssn24_01_02</label>
                            <label>cssn24_02_01</label>
                            <label>cssn24_02_02</label>
                            <label>cssn24_03_01</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sustaining</label>
                    </labels>
                <created>Fri, 1 Mar 2024 08:57:11 -0800</created>
                <updated>Sun, 23 Jun 2024 19:16:46 -0700</updated>
                            <resolved>Wed, 10 Apr 2024 07:23:39 -0700</resolved>
                                    <version>11</version>
                    <version>21</version>
                                    <fixVersion>23</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14681914" author="JIRAUSER20917" created="Sun, 16 Jun 2024 18:49:19 -0700"  >Fix request [11u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 11.0.25-oracle.&lt;br/&gt;
No risk, only tests change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test pass. SAP nightly testing passed.</comment>
                            <comment id="14681913" author="JIRAUSER20917" created="Sun, 16 Jun 2024 18:49:12 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.5-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test pass.  SAP nightly testing passed.&lt;br/&gt;
</comment>
                            <comment id="14681774" author="clanger" created="Fri, 14 Jun 2024 09:20:36 -0700"  >Aprroval request for jdk21 is missing, should go in there first.</comment>
                            <comment id="14681651" author="roboduke" created="Fri, 14 Jun 2024 01:56:43 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2775&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2775&lt;/a&gt;&lt;br/&gt;
Date: 2024-06-14 08:52:30 +0000</comment>
                            <comment id="14680714" author="JIRAUSER20917" created="Tue, 11 Jun 2024 19:42:39 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.13-oracle.&lt;br/&gt;
No risk, only tests change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test pass. SAP nightly testing passed.</comment>
                            <comment id="14674150" author="roboduke" created="Fri, 17 May 2024 02:00:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2713&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2713&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-17 08:54:16 +0000</comment>
                            <comment id="14674148" author="roboduke" created="Fri, 17 May 2024 01:57:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2477&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2477&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-17 08:51:22 +0000</comment>
                            <comment id="14674146" author="roboduke" created="Fri, 17 May 2024 01:55:12 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/584&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/584&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-17 08:47:12 +0000</comment>
                            <comment id="14665955" author="roboduke" created="Wed, 17 Apr 2024 04:54:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/151&quot;&gt;https://git.openjdk.org/jdk22u/pull/151&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-17 11:50:15 +0000</comment>
                            <comment id="14665953" author="aivanov" created="Wed, 17 Apr 2024 04:53:15 -0700"  >Fix request: 22u&lt;br/&gt;
&lt;br/&gt;
The changeset provides a regression test for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8323670&quot; title=&quot;A few client tests intermittently throw ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8323670&quot;&gt;&lt;strike&gt;JDK-8323670&lt;/strike&gt;&lt;/a&gt; (and, to a limited extent, for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8325179&quot; title=&quot;Race in BasicDirectoryModel.validateFileCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8325179&quot;&gt;&lt;strike&gt;JDK-8325179&lt;/strike&gt;&lt;/a&gt;.) The test fails without &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8323670&quot; title=&quot;A few client tests intermittently throw ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8323670&quot;&gt;&lt;strike&gt;JDK-8323670&lt;/strike&gt;&lt;/a&gt;. It is to be added after the backport for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8323670&quot; title=&quot;A few client tests intermittently throw ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8323670&quot;&gt;&lt;strike&gt;JDK-8323670&lt;/strike&gt;&lt;/a&gt; is integrated.&lt;br/&gt;
Clean backport. Low risk.&lt;br/&gt;
&lt;br/&gt;
Pull request: &lt;a href=&quot;https://github.com/openjdk/jdk22u/pull/151&quot;&gt;https://github.com/openjdk/jdk22u/pull/151&lt;/a&gt;</comment>
                            <comment id="14664425" author="dukebot" created="Wed, 10 Apr 2024 07:23:38 -0700"  >Changeset: 9731b1c8&lt;br/&gt;
Author:    Alexey Ivanov &amp;lt;&lt;a href=&apos;mailto:aivanov@openjdk.org&apos;&gt;aivanov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-04-10 14:21:37 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/9731b1c8b02d957985f4fb40acd93fb67747a9f0&quot;&gt;https://git.openjdk.org/jdk/commit/9731b1c8b02d957985f4fb40acd93fb67747a9f0&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14654333" author="roboduke" created="Mon, 4 Mar 2024 07:57:42 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18109&quot;&gt;https://git.openjdk.org/jdk/pull/18109&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-04 15:52:45 +0000</comment>
                            <comment id="14654292" author="aivanov" created="Mon, 4 Mar 2024 06:02:33 -0800"  >The test creates a number of files (NUMBER_OF_FILES) in a directory, then creates JFileChooser in this directory.&lt;br/&gt;
&lt;br/&gt;
Then the test starts several threads, controlled by NUMBER_OF_THREADS, which call fileChooser.rescanCurrentDirectory(). This results in calling BasicDirectoryModel.validateFileCache which starts a background thread to enumerate the files. Later, the background &amp;quot;Basic L&amp;amp;F File Loading Thread&amp;quot; posts an event to EDT. It is in the event handled on EDT that `fileCache` is modified&#8230; while the background &amp;quot;File Loading Thread&amp;quot; reads the values from `fileCache` and iterate over it.&lt;br/&gt;
&lt;br/&gt;
The timing must match for the error to occur, the contents of `fileCache` should be modified while &amp;quot;File Loading Thread&amp;quot; is iterating over `fileCache`.&lt;br/&gt;
&lt;br/&gt;
For this reason, the test does not fail reliably, you need to run it several times.&lt;br/&gt;
&lt;br/&gt;
On macOS, the test needs to be run in headless mode with -Djava.awt.headless=true; on Linux, it&amp;#39;s not necessary, however, I still recommend passing headless=true.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5127827">JDK-8331060</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128338">JDK-8331407</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128427">JDK-8331484</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5130191">JDK-8332831</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5130193">JDK-8332833</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131998">JDK-8334381</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5132131">JDK-8334498</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5132469">JDK-8334802</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5129138">JDK-8332000</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5012937">JDK-8240690</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118848">JDK-8323670</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5099723">JDK-8307091</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i358xv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17354"><![CDATA[b18]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="206"><![CDATA[javax.swing]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>