<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 17:35:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8303921] serviceability/sa/UniqueVtableTest.java timed out</title>
                <link>https://bugs.openjdk.org/browse/JDK-8303921</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK21 CI:&lt;br/&gt;
&lt;br/&gt;
serviceability/sa/UniqueVtableTest.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(9/624)----------&lt;br/&gt;
command: main UniqueVtableTest&lt;br/&gt;
reason: User specified action: run main/othervm UniqueVtableTest &lt;br/&gt;
started: Thu Mar 09 19:36:22 UTC 2023&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Additional options from @modules: --add-modules jdk.hotspot.agent --add-exports jdk.hotspot.agent/sun.jvm.hotspot=ALL-UNNAMED --add-exports jdk.hotspot.agent/sun.jvm.hotspot.debugger=ALL-UNNAMED --add-exports jdk.hotspot.agent/sun.jvm.hotspot.types=ALL-UNNAMED --add-exports jdk.hotspot.agent/sun.jvm.hotspot.types.basic=ALL-UNNAMED&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Thu Mar 09 19:44:57 UTC 2023&lt;br/&gt;
elapsed time (seconds): 515.263&lt;br/&gt;
----------configuration:(7/366)----------&lt;br/&gt;
Boot Layer&lt;br/&gt;
&amp;nbsp;&amp;nbsp;add modules: jdk.hotspot.agent                             &lt;br/&gt;
&amp;nbsp;&amp;nbsp;add exports: jdk.hotspot.agent/sun.jvm.hotspot             ALL-UNNAMED&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jdk.hotspot.agent/sun.jvm.hotspot.debugger    ALL-UNNAMED&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jdk.hotspot.agent/sun.jvm.hotspot.types       ALL-UNNAMED&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jdk.hotspot.agent/sun.jvm.hotspot.types.basic ALL-UNNAMED&lt;br/&gt;
&lt;br/&gt;
----------System.out:(19/2187)----------&lt;br/&gt;
Command line: [&amp;#39;/opt/mach5/mesos/work_dir/jib-master/install/jdk-21+14-1075/linux-x64-debug.jdk/jdk-21/fastdebug/bin/java&amp;#39; &amp;#39;-XX:MaxRAMPercentage=4.16667&amp;#39; &amp;#39;-Dtest.boot.jdk=/opt/mach5/mesos/work_dir/jib-master/install/jdk/19/36/bundles/linux-x64/jdk-19_linux-x64_bin.tar.gz/jdk-19&amp;#39; &amp;#39;-Djava.io.tmpdir=/opt/mach5/mesos/work_dir/slaves/782b3f2b-1fe4-42ad-a0aa-b7bf2f5b3ebf-S9633/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/ca653cf0-a006-4488-b8be-75fcba263926/runs/9e175864-d06c-4096-893b-eb3945a8f3cb/testoutput/test-support/jtreg_open_test_hotspot_jtreg_tier1_serviceability/tmp&amp;#39; &amp;#39;-cp&amp;#39; &amp;#39;/opt/mach5/mesos/work_dir/slaves/782b3f2b-1fe4-42ad-a0aa-b7bf2f5b3ebf-S9633/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/ca653cf0-a006-4488-b8be-75fcba263926/runs/9e175864-d06c-4096-893b-eb3945a8f3cb/testoutput/test-support/jtreg_open_test_hotspot_jtreg_tier1_serviceability/classes/5/serviceability/sa/UniqueVtableTest.d:/opt/mach5/mesos/work_dir/slaves/782b3f2b-1fe4-42ad-a0aa-b7bf2f5b3ebf-S9633/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/ca653cf0-a006-4488-b8be-75fcba263926/runs/9e175864-d06c-4096-893b-eb3945a8f3cb/testoutput/test-support/jtreg_open_test_hotspot_jtreg_tier1_serviceability/classes/5/test/lib&amp;#39; &amp;#39;jdk.test.lib.apps.LingeredApp&amp;#39; &amp;#39;db363039-a9c8-4d5e-b3c8-7aa3f79e3af4.lck&amp;#39;]&lt;br/&gt;
LingeredApp startup took 1120ms&lt;br/&gt;
Check for hs_err_pid/core/mdmp files:&lt;br/&gt;
None.&lt;br/&gt;
Attaching to process ID 1642995...&lt;br/&gt;
Timeout refired 480 times&lt;br/&gt;
&amp;nbsp;LingeredApp stdout: [];&lt;br/&gt;
&amp;nbsp;LingeredApp stderr: []&lt;br/&gt;
&amp;nbsp;LingeredApp exitValue = 4991&lt;br/&gt;
LingeredApp.stopApp error:&lt;br/&gt;
java.io.IOException: LingeredApp terminated with non-zero exit code 4991&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.stopApp(LingeredApp.java:427)&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.stopApp(LingeredApp.java:515)&lt;br/&gt;
	at UniqueVtableTest.run(UniqueVtableTest.java:155)&lt;br/&gt;
	at UniqueVtableTest.main(UniqueVtableTest.java:175)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
----------System.err:(15/927)----------&lt;br/&gt;
ERROR: The process with pid 1642995 does not exist.&lt;br/&gt;
java.io.IOException: LingeredApp terminated with non-zero exit code 4991&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.stopApp(LingeredApp.java:427)&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.stopApp(LingeredApp.java:515)&lt;br/&gt;
	at UniqueVtableTest.run(UniqueVtableTest.java:155)&lt;br/&gt;
	at UniqueVtableTest.main(UniqueVtableTest.java:175)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.io.IOException: LingeredApp terminated with non-zero exit code 4991&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
STATUS:Failed.`main&amp;#39; threw exception: java.io.IOException: LingeredApp terminated with non-zero exit code 4991&lt;br/&gt;
----------rerun:(39/7576)*----------</description>
                <environment></environment>
        <key id="5095903">JDK-8303921</key>
            <summary>serviceability/sa/UniqueVtableTest.java timed out</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amenkov">Alex Menkov</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>problemlist</label>
                            <label>tier1</label>
                            <label>tier3</label>
                            <label>tier4</label>
                    </labels>
                <created>Thu, 9 Mar 2023 11:54:32 -0800</created>
                <updated>Fri, 20 Sep 2024 08:22:44 -0700</updated>
                            <resolved>Fri, 17 Mar 2023 11:24:54 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                                                            <comments>
                            <comment id="14567849" author="dukebot" created="Fri, 17 Mar 2023 11:24:53 -0700"  >Changeset: 02a4ee20&lt;br/&gt;
Author:    Alex Menkov &amp;lt;&lt;a href=&apos;mailto:amenkov@openjdk.org&apos;&gt;amenkov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-17 18:23:03 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/02a4ee206a979858c23c22da35e70560e0f27efd&quot;&gt;https://git.openjdk.org/jdk/commit/02a4ee206a979858c23c22da35e70560e0f27efd&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14566900" author="roboduke" created="Tue, 14 Mar 2023 15:38:18 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13030&quot;&gt;https://git.openjdk.org/jdk/pull/13030&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-14 22:05:44 +0000</comment>
                            <comment id="14566546" author="amenkov" created="Mon, 13 Mar 2023 14:35:37 -0700"  >One of the NoClassDefFoundError failure was caused by conflict with serviceability/sa/TestType.java&lt;br/&gt;
&lt;br/&gt;
TestType.java contains &amp;quot;@build jdk.test.lib.apps.*&amp;quot; action&lt;br/&gt;
This causes jdk.test.lib.apps.LingeredApp is compiled and LingeredApp.class is put to test/lib/jdk/test/lib&lt;br/&gt;
But jdk.test.lib.Utils is put to the test class dir&lt;br/&gt;
So the next test which uses LingeredApp and don&amp;#39;t have explicit &amp;quot;@build&amp;quot; action uses LingeredApp.class from test/lib directory, but cannot find jdk.test.lib.Utils class&lt;br/&gt;
&lt;br/&gt;
There are some other tests in the serviceability/sa with the same issue:&lt;br/&gt;
./TestIntConstant.java:38: * @build jdk.test.lib.apps.*&lt;br/&gt;
./TestPrintMdo.java:37: * @build jdk.test.lib.apps.*&lt;br/&gt;
./TestType.java:38: * @build jdk.test.lib.apps.*&lt;br/&gt;
./TestUniverse.java:40: * @build jdk.test.lib.apps.*&lt;br/&gt;
&lt;br/&gt;
So we just were lucky to not have NoClassDefFoundError errors before (there are a lot of tests which use LinderedApp and don&amp;#39;t have explicit &amp;quot;@build&amp;quot; actions)</comment>
                            <comment id="14566528" author="amenkov" created="Mon, 13 Mar 2023 13:30:47 -0700"  >As far as I understand NoClassDefFoundError failures are caused by &lt;a href=&quot;https://bugs.openjdk.org/browse/CODETOOLS-7902847&quot; title=&quot;Class directory of a test case should be always used to compile a library&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CODETOOLS-7902847&quot;&gt;&lt;strike&gt;CODETOOLS-7902847&lt;/strike&gt;&lt;/a&gt;</comment>
                            <comment id="14566520" author="amenkov" created="Mon, 13 Mar 2023 13:01:11 -0700"  >All other tests which uses HotSpotAgent to test SA don&amp;#39;t use main process for testing.&lt;br/&gt;
They run target sub-process and then run test sub-process which attaches to the target and perform the testing.&lt;br/&gt;
They call SATestUtils.addPrivilegesIfNeeded() for the test sub-process. addPrivilegesIfNeeded does nothing on linux, so this is not the problem in the case.&lt;br/&gt;
I updated UniqueVtableTest to follow the same scheme - attach from sub-process and the issue went away.&lt;br/&gt;
</comment>
                            <comment id="14566069" author="dcubed" created="Sat, 11 Mar 2023 20:37:48 -0800"  >Here&amp;#39;s a log file snippet for the jdk-21+14-1107-tier4 sighting:&lt;br/&gt;
&lt;br/&gt;
serviceability/sa/UniqueVtableTest.java&lt;br/&gt;
&lt;br/&gt;
----------System.err:(19/1142)----------&lt;br/&gt;
java.lang.NoClassDefFoundError: jdk/test/lib/Utils&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.startApp(LingeredApp.java:495)&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.startApp(LingeredApp.java:507)&lt;br/&gt;
	at UniqueVtableTest.run(UniqueVtableTest.java:138)&lt;br/&gt;
	at UniqueVtableTest.main(UniqueVtableTest.java:175)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: jdk.test.lib.Utils&lt;br/&gt;
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)&lt;br/&gt;
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)&lt;br/&gt;
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)&lt;br/&gt;
	... 8 more&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.NoClassDefFoundError: jdk/test/lib/Utils&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
STATUS:Failed.`main&amp;#39; threw exception: java.lang.NoClassDefFoundError: jdk/test/lib/Utils&lt;br/&gt;
----------rerun:(42/8160)*----------&lt;br/&gt;
&lt;br/&gt;
So it does look like this test has more than one problem... sigh...</comment>
                            <comment id="14566019" author="amenkov" created="Fri, 10 Mar 2023 17:43:08 -0800"  >Failure on Windows is completely different:&lt;br/&gt;
java.lang.NoClassDefFoundError: jdk/test/lib/Utils&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.startApp(LingeredApp.java:495)&lt;br/&gt;
	at jdk.test.lib.apps.LingeredApp.startApp(LingeredApp.java:507)&lt;br/&gt;
	at UniqueVtableTest.run(UniqueVtableTest.java:138)&lt;br/&gt;
	at UniqueVtableTest.main(UniqueVtableTest.java:175)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: jdk.test.lib.Utils&lt;br/&gt;
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)&lt;br/&gt;
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)&lt;br/&gt;
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)&lt;br/&gt;
	... 8 more</comment>
                            <comment id="14565658" author="amenkov" created="Thu, 9 Mar 2023 12:58:35 -0800"  >The same failure on linux-aarch64-debug</comment>
                            <comment id="14565653" author="amenkov" created="Thu, 9 Mar 2023 12:15:28 -0800"  >For some reason test cannot attach to target app on linux-x64-debug&lt;br/&gt;
Going to problem list the test on the platform until the reason if found and fixed</comment>
                            <comment id="14565651" author="dcubed" created="Thu, 9 Mar 2023 11:59:14 -0800"  >The new test has timed out in two Tier1 job sets in a row so I&amp;#39;ve&lt;br/&gt;
bumped the priority from P3 -&amp;gt; P2.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5139547">JDK-8340548</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095347">JDK-8303489</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5044464">CODETOOLS-7902847</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5095906">JDK-8303924</subtask>
                                                              <subtask id="5096216">JDK-8304172</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30ojv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17352"><![CDATA[b15]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="2072"><![CDATA[svc-agent]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>