<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:44:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298459] Fix msys2 linking and handling out of tree build directory for source zip creation</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298459</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The MSYS2 ln command does not create links on windows but in fact does a deep copy of the filesystem that is to be linked. There doesn&amp;#39;t seem to be an imminent issue with that currently in OpenJDK head but using MSYS2 in JDK11 updates which includes the graal compiler projects will lead to errors like:&lt;br/&gt;
&lt;br/&gt;
/usr/bin/ln: failed to create symbolic link &amp;#39;/d/a/jdk11u-dev/jdk11u-dev/build/windows-x64/support/src/src/jdk.internal.vm.compiler.management/share/classes/jdk.internal.vm.compiler.management&amp;#39; -&amp;gt; &amp;#39;../../../../../../../../src/jdk.internal.vm.compiler.management/share/classes&amp;#39;: File name too long&lt;br/&gt;
&lt;br/&gt;
Here, the reported filenames actually aren&amp;#39;t too long but somehow during copying the subtree ln probably encounters files with a name too long for msys.&lt;br/&gt;
&lt;br/&gt;
We could overcome this by setting a Windows file system junction instead of using ln. Maybe that&amp;#39;s even better for build performance.&lt;br/&gt;
&lt;br/&gt;
While debugging this I also found that the handling of file relativity to the top directory does not account for a build directory that could reside outside the source tree.</description>
                <environment></environment>
        <key id="5089304">JDK-8298459</key>
            <summary>Fix msys2 linking and handling out of tree build directory for source zip creation</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clanger">Christoph Langer</assignee>
                                    <reporter username="clanger">Christoph Langer</reporter>
                        <labels>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                    </labels>
                <created>Fri, 9 Dec 2022 03:20:11 -0800</created>
                <updated>Mon, 19 Dec 2022 14:32:05 -0800</updated>
                            <resolved>Sun, 11 Dec 2022 05:52:34 -0800</resolved>
                                                    <fixVersion>20</fixVersion>
                                    <component>infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14545107" author="clanger" created="Tue, 13 Dec 2022 08:13:13 -0800"  >Fix request (11u)&lt;br/&gt;
Same applies as for 17u and 19u. Backport is not clean there, PR reviewed by [~mdoerr], testing green.</comment>
                            <comment id="14544544" author="roboduke" created="Sun, 11 Dec 2022 23:54:59 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/1586&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/1586&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-12 07:48:29 +0000</comment>
                            <comment id="14544532" author="roboduke" created="Sun, 11 Dec 2022 23:00:09 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/950&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/950&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-12 06:53:34 +0000</comment>
                            <comment id="14544531" author="roboduke" created="Sun, 11 Dec 2022 22:59:50 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk19u/pull/104&quot;&gt;https://git.openjdk.org/jdk19u/pull/104&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-12 06:52:58 +0000</comment>
                            <comment id="14544530" author="clanger" created="Sun, 11 Dec 2022 22:55:42 -0800"  >Fix request (17u, 19u)&lt;br/&gt;
Requesting backport of this build system fix to make builds in Windows MSYS2 environment, that is used in GHA, more stable. Applies clean. Testing: SAP nightlies and GHA.</comment>
                            <comment id="14544467" author="dukebot" created="Sun, 11 Dec 2022 05:52:33 -0800"  >Changeset: d624debe&lt;br/&gt;
Author:    Christoph Langer &amp;lt;&lt;a href=&apos;mailto:clanger@openjdk.org&apos;&gt;clanger@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-11 13:50:39 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk20/commit/d624debe23f60d778d7be43f28d06e9454057217&quot;&gt;https://git.openjdk.org/jdk20/commit/d624debe23f60d778d7be43f28d06e9454057217&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14544173" author="roboduke" created="Fri, 9 Dec 2022 03:33:04 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/9&quot;&gt;https://git.openjdk.org/jdk20/pull/9&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-09 11:26:46 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5089557">JDK-8298661</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5089701">JDK-8298787</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5089707">JDK-8298792</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zk4z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17423"><![CDATA[b28]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="199"><![CDATA[build]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>