<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:18:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8322790] RISC-V: Tune costs for shuffles with no conversion</title>
                <link>https://bugs.openjdk.org/browse/JDK-8322790</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We have several nodes which provide floating point &amp;lt;-&amp;gt; integer representation conversions. Some of this nodes use fmv instructions, other use store or load instructions to convert value.&lt;br/&gt;
On the RISC-V we prefer way using fmv instruction, because it faster, but now nodes, which use stack, selected. &lt;br/&gt;
This happens because reg_reg and stack_reg operations matches similar nodes and the matcher does not take into account the cost of transferring a value from the stack back to the register. &lt;br/&gt;
For example, we can have a look on IGV dumps for the simple code, which makes conversion like doubleToRawLongBits function. During matching MpveD2L machine independent node turn into MoveD2L_reg_stack node, and only after matching compiler adds BoundSpillCopy node to transfer converted value into the register.</description>
                <environment></environment>
        <key id="5117855">JDK-8322790</key>
            <summary>RISC-V: Tune costs for shuffles with no conversion</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="igavrilin">Ilya Gavrilin</assignee>
                                    <reporter username="igavrilin">Ilya Gavrilin</reporter>
                        <labels>
                            <label>c2</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>oraclejdk-na</label>
                    </labels>
                <created>Sat, 30 Dec 2023 03:23:57 -0800</created>
                <updated>Tue, 20 Feb 2024 03:29:14 -0800</updated>
                            <resolved>Mon, 8 Jan 2024 07:56:37 -0800</resolved>
                                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14649916" author="roboduke" created="Fri, 16 Feb 2024 02:28:32 -0800"  >[jdk21u-fix-request] Approval Request from Ilya Gavrilin&lt;br/&gt;
I would like to backport this change into jdk21u-dev; Applies clean, low risk, RISC-V only change, only insertion costs changed, backported to jdk22u; Improves performance for java methods that use floating point&amp;lt;-&amp;gt;integer shuffles with no conversion</comment>
                            <comment id="14649911" author="roboduke" created="Fri, 16 Feb 2024 02:17:31 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/265&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/265&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-16 10:13:04 +0000</comment>
                            <comment id="14644885" author="roboduke" created="Tue, 30 Jan 2024 10:14:05 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/434&quot;&gt;https://git.openjdk.org/jdk21u/pull/434&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-30 18:07:08 +0000</comment>
                            <comment id="14641478" author="roboduke" created="Thu, 18 Jan 2024 01:22:34 -0800"  >[jdk22u-fix-request] Approval Request from Ilya Gavrilin&lt;br/&gt;
I would like to backport this change into jdk22u; Applies clean, low risk, RISC-V only change, only insertion costs changed; Improves performance for java methods that use floating point&amp;lt;-&amp;gt;integer shuffles with no conversion</comment>
                            <comment id="14639882" author="roboduke" created="Fri, 12 Jan 2024 07:24:49 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/22&quot;&gt;https://git.openjdk.org/jdk22u/pull/22&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-12 15:18:24 +0000</comment>
                            <comment id="14638172" author="dukebot" created="Mon, 8 Jan 2024 07:56:36 -0800"  >Changeset: 2acb5bd9&lt;br/&gt;
Author:    Ilya Gavrilin &amp;lt;&lt;a href=&apos;mailto:igavrilin@openjdk.org&apos;&gt;igavrilin@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Vladimir Kempik &amp;lt;&lt;a href=&apos;mailto:vkempik@openjdk.org&apos;&gt;vkempik@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-01-08 15:53:58 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/2acb5bd9924511b58b0e57ea9eb6c2dee9fd3ee8&quot;&gt;https://git.openjdk.org/jdk/commit/2acb5bd9924511b58b0e57ea9eb6c2dee9fd3ee8&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14636626" author="roboduke" created="Sat, 30 Dec 2023 12:11:56 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17206&quot;&gt;https://git.openjdk.org/jdk/pull/17206&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-30 20:07:13 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5119457">JDK-8324222</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5121998">JDK-8326320</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="107763" name="after_matching.png" size="27982" author="igavrilin" created="Sat, 30 Dec 2023 03:17:27 -0800"/>
                            <attachment id="107762" name="final_code.png" size="32500" author="igavrilin" created="Sat, 30 Dec 2023 03:17:27 -0800"/>
                            <attachment id="107764" name="machine_independent.png" size="21824" author="igavrilin" created="Sat, 30 Dec 2023 03:17:27 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="20300"><![CDATA[riscv]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34dor:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17315"><![CDATA[b05]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>