<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:41:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298376] ZGC: thaws stackChunk with stale oops</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298376</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>During the recent ZGC + Loom rewrites (&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8296875&quot; title=&quot;Generational ZGC: Refactor loom code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8296875&quot;&gt;&lt;strike&gt;JDK-8296875&lt;/strike&gt;&lt;/a&gt;) a bug was introduced, which causes Loom to thaw stackChunks with stale oops.&lt;br/&gt;
&lt;br/&gt;
Before that change we made sure that only the GC performed load barriers on the cont oop in stackChunk, so that we could use the oop state as an indication of the age of the stackChunk. That information was then used in ZCollectedHeap::requires_barriers.&lt;br/&gt;
&lt;br/&gt;
In Generational ZGC we changed the implementation of requires_barriers, so that the rest of the JVM didn&amp;#39;t need to have special-handling of the cont oop. However, when upstreaming the changes in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8296875&quot; title=&quot;Generational ZGC: Refactor loom code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8296875&quot;&gt;&lt;strike&gt;JDK-8296875&lt;/strike&gt;&lt;/a&gt; we purposefully didn&amp;#39;t update requires_barriers, but we incorrectly brought over the removal of the special-handling of the cont oop.&lt;br/&gt;
&lt;br/&gt;
To limit the fix for this bug, I propose that we restore the special-handling of the cont oop.</description>
                <environment></environment>
        <key id="5089213">JDK-8298376</key>
            <summary>ZGC: thaws stackChunk with stale oops</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://bugs.openjdk.org/images/jbsImages/p1.png">P1</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefank">Stefan Karlsson</assignee>
                                    <reporter username="stefank">Stefan Karlsson</reporter>
                        <labels>
                            <label>hgupdate-sync</label>
                            <label>loom</label>
                    </labels>
                <created>Thu, 8 Dec 2022 03:02:13 -0800</created>
                <updated>Tue, 31 Jan 2023 08:43:13 -0800</updated>
                            <resolved>Thu, 15 Dec 2022 03:25:06 -0800</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14546125" author="dukebot" created="Fri, 16 Dec 2022 07:51:46 -0800"  >Changeset: 48f61273&lt;br/&gt;
Author:    Stefan Karlsson &amp;lt;&lt;a href=&apos;mailto:stefank@openjdk.org&apos;&gt;stefank@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-15 11:44:21 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/48f6127325108e573b41d19213e65af99956a31f&quot;&gt;https://git.openjdk.org/jdk/commit/48f6127325108e573b41d19213e65af99956a31f&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14545683" author="stefank" created="Thu, 15 Dec 2022 03:24:52 -0800"  >The bots created a backport bug even though this bug was already targeted to 21. Don&amp;#39;t know if it was because it had two fix versions, or if this happens because the affects version is 20. Here&amp;#39;s the duke bot commit message:&lt;br/&gt;
Changeset: ed8a2120&lt;br/&gt;
Author: Stefan Karlsson &amp;lt;&lt;a href=&apos;mailto:stefank@openjdk.org&apos;&gt;stefank@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date: 2022-12-14 14:34:24 +0000&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/commit/ed8a2120ca1e9756c6ab5eeebfe24c15d549f04e&quot;&gt;https://git.openjdk.org/jdk/commit/ed8a2120ca1e9756c6ab5eeebfe24c15d549f04e&lt;/a&gt;</comment>
                            <comment id="14545655" author="roboduke" created="Thu, 15 Dec 2022 01:42:40 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/37&quot;&gt;https://git.openjdk.org/jdk20/pull/37&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-15 09:34:17 +0000</comment>
                            <comment id="14543855" author="roboduke" created="Thu, 8 Dec 2022 03:15:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11585&quot;&gt;https://git.openjdk.org/jdk/pull/11585&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-08 11:05:10 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5089693">JDK-8298780</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5088843">JDK-8298058</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5088843">JDK-8298058</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zjkj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17305"><![CDATA[b03]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="209"><![CDATA[gc]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>