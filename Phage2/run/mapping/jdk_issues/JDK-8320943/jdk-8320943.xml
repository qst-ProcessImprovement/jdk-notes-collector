<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:12:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8320943] Files/probeContentType/Basic.java fails on latest Windows 11 - content type mismatch </title>
                <link>https://bugs.openjdk.org/browse/JDK-8320943</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>This test failed with the Windows-11 22H2 update.&lt;br/&gt;
--------------------&lt;br/&gt;
Test: java/nio/file/Files/probeContentType/Basic.java&lt;br/&gt;
Platform: Windows-11-22H2-MSDN-2023-11-06&lt;br/&gt;
Reproducible: always&lt;br/&gt;
&lt;br/&gt;
Message:&lt;br/&gt;
For extension bz2 we got content type: application/x-compressed; expected: [application/bz2, application/x-bzip2, application/x-bzip]&lt;br/&gt;
For extension rar we got content type: application/x-compressed; expected: [application/rar, application/vnd.rar, application/x-rar, application/x-rar-compressed]&lt;br/&gt;
For extension 7z we got content type: application/x-compressed; expected: [application/x-7z-compressed]&lt;br/&gt;
java.lang.RuntimeException: Test failed!&lt;br/&gt;
	at Basic.main(Basic.java:204)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1570)&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5115675">JDK-8320943</key>
            <summary>Files/probeContentType/Basic.java fails on latest Windows 11 - content type mismatch </summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bpb">Brian Burkhalter</assignee>
                                    <reporter username="mseledtsov">Mikhailo Seledtsov</reporter>
                        <labels>
                            <label>11u-tier2</label>
                            <label>17u-tier2</label>
                            <label>21u-tier2</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sust-test-stabilization</label>
                    </labels>
                <created>Tue, 28 Nov 2023 19:45:38 -0800</created>
                <updated>Wed, 12 Mar 2025 06:19:12 -0700</updated>
                            <resolved>Tue, 5 Dec 2023 07:58:03 -0800</resolved>
                                    <version>11</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14657340" author="roboduke" created="Thu, 14 Mar 2024 01:27:33 -0700"  >[jdk11u-fix-request] Approval Request from Amos&lt;br/&gt;
&amp;quot;Backporting for parity with 11.0.24-oracle. No risk, test fix. Clean backport against jdk17u-dev#2254. SAP nightlies passed on 2024-03-01,03&#8221;</comment>
                            <comment id="14656934" author="roboduke" created="Tue, 12 Mar 2024 18:06:44 -0700"  >[jdk17u-fix-request] Approval Request from Amos&lt;br/&gt;
&amp;quot;Backporting for parity with 17.0.12-oracle. No risk, test fix. Un-Clean backport. SAP nightlies passed on 2024-03-01,03&#8221;</comment>
                            <comment id="14653315" author="roboduke" created="Wed, 28 Feb 2024 16:12:15 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2574&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2574&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-29 00:08:48 +0000</comment>
                            <comment id="14653313" author="roboduke" created="Wed, 28 Feb 2024 15:43:59 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2254&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2254&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-28 23:39:50 +0000</comment>
                            <comment id="14643744" author="roboduke" created="Thu, 25 Jan 2024 06:01:19 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/216&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/216&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-25 13:53:49 +0000</comment>
                            <comment id="14643740" author="goetz" created="Thu, 25 Jan 2024 05:54:36 -0800"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.3-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Resolved ProblemList, marked clean.&lt;br/&gt;
SAP nightly testing passed (including this test).</comment>
                            <comment id="14631708" author="dukebot" created="Tue, 5 Dec 2023 07:58:02 -0800"  >Changeset: 87516e29&lt;br/&gt;
Author:    Brian Burkhalter &amp;lt;&lt;a href=&apos;mailto:bpb@openjdk.org&apos;&gt;bpb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-12-05 15:56:30 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/87516e29dc5015c4cab2c07c5539ad30f2768667&quot;&gt;https://git.openjdk.org/jdk/commit/87516e29dc5015c4cab2c07c5539ad30f2768667&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14630490" author="roboduke" created="Thu, 30 Nov 2023 17:57:30 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16916&quot;&gt;https://git.openjdk.org/jdk/pull/16916&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-01 01:53:23 +0000</comment>
                            <comment id="14630485" author="bpb" created="Thu, 30 Nov 2023 16:17:45 -0800"  >On my Windows machine which has Microsoft 11 Pro (Version 10.0.22621 Build 22621),&lt;br/&gt;
probing fails for the extensions bz2, csv, rar, rtf, and 7z:&lt;br/&gt;
&lt;br/&gt;
For extension bz2 we got content type: application/x-compressed; expected: [application/bz2, application/x-bzip2, application/x-bzip]&lt;br/&gt;
For extension csv we got content type: application/vnd.ms-excel; expected: [text/csv]&lt;br/&gt;
For extension rar we got content type: application/x-compressed; expected: [application/rar, application/vnd.rar, application/x-rar, application/x-rar-compressed]&lt;br/&gt;
For extension rtf we got content type: application/msword; expected: [application/rtf, text/rtf]&lt;br/&gt;
For extension 7z we got content type: application/x-compressed; expected: [application/x-7z-compressed]</comment>
                            <comment id="14630206" author="cstein" created="Wed, 29 Nov 2023 23:55:13 -0800"  >In addition, those two extension are also returning `application/x-compressed` on Windows 11:&lt;br/&gt;
&lt;br/&gt;
For extension bz2 we got content type: application/x-compressed; expected: [application/bz2, application/x-bzip2, application/x-bzip]&lt;br/&gt;
For extension rar we got content type: application/x-compressed; expected: [application/rar, application/vnd.rar, application/x-rar, application/x-rar-compressed]</comment>
                            <comment id="14630044" author="bpb" created="Wed, 29 Nov 2023 11:28:19 -0800"  >The failure was&lt;br/&gt;
---&lt;br/&gt;
For extension 7z we got content type: application/x-compressed; expected: [application/x-7z-compressed]&lt;br/&gt;
java.lang.RuntimeException: Test failed!&lt;br/&gt;
	at Basic.main(Basic.java:204)&lt;br/&gt;
---&lt;br/&gt;
It looks like the Windows 11 registry no longer maps the extension &amp;quot;7z&amp;quot; to the correct MIME type. I consider this to be a Windows bug but the test will have to deal with it on Windows 11.&lt;br/&gt;
&lt;br/&gt;
I was able to reproduce this on my own hardware so it is not a specific machine configuration issue.</comment>
                            <comment id="14629857" author="alanb" created="Wed, 29 Nov 2023 02:01:23 -0800"  >The implementation of probeContentType on Windows uses the registry to map to the content type, it may have changed in this Windows update, in which case the test will have to deal with it.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5118987">JDK-8323793</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5120316">JDK-8324932</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5120915">JDK-8325404</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5121027">JDK-8325492</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5124187">JDK-8328147</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5124301">JDK-8328250</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5152372">JDK-8351503</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5147540">JDK-8347286</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5115677">JDK-8320945</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3414j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17419"><![CDATA[b27]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="228"><![CDATA[java.nio]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>