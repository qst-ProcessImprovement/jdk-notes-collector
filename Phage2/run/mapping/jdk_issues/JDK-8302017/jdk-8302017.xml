<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 08:49:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8302017] Allocate BadPaddingException only if it will be thrown</title>
                <link>https://bugs.openjdk.org/browse/JDK-8302017</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The class RSAPadding always creates a BadPaddingException object even when it&amp;#39;s not needed. Its callers, e.g. RSA Signature and Cipher impls, do not always propagate this BadPaddingException object upwards even when it&#8217;s thrown by the RSAPadding class. Thus, for efficiency purpose, we can update the RSAPadding class to indicate pass/fail of the padding operations. The callers can then check the returned status and proceed accordingly.&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5093596">JDK-8302017</key>
            <summary>Allocate BadPaddingException only if it will be thrown</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="valeriep">Valerie Peng</assignee>
                                    <reporter username="cslucas">Cesar Soares</reporter>
                        <labels>
                            <label>11bpr-critical-approved</label>
                            <label>17bpr-critical-approved</label>
                            <label>8bpr-critical-approved</label>
                            <label>CPU24_01-critical-SQE-OK</label>
                            <label>CPU24_01-critical-approved</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-SQE-ok</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk8u-fix-request</label>
                            <label>jdk8u-fix-yes</label>
                    </labels>
                <created>Tue, 7 Feb 2023 15:35:33 -0800</created>
                <updated>Tue, 24 Jun 2025 17:26:06 -0700</updated>
                            <resolved>Thu, 27 Jul 2023 14:27:21 -0700</resolved>
                                                    <fixVersion>22</fixVersion>
                                    <component>security-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                                                                <comments>
                            <comment id="14634369" author="abakhtin" created="Thu, 14 Dec 2023 09:19:34 -0800"  >Fix request [11u, 8u]&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;d like to backport this enhancement to 11u and 8u to eliminate the performance cost of unused BadPaddingException &lt;br/&gt;
Backports from 17u are not clean but simple.&lt;br/&gt;
Related jtreg tests and new RSAPaddingCheck tests are passed.&lt;br/&gt;
&lt;br/&gt;
There is a follow-up fix &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8320597&quot; title=&quot;RSA signature verification fails on signed data that does not encode params correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8320597&quot;&gt;&lt;strike&gt;JDK-8320597&lt;/strike&gt;&lt;/a&gt; is backported and under review.&lt;br/&gt;
</comment>
                            <comment id="14634169" author="roboduke" created="Wed, 13 Dec 2023 19:00:02 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk8u-dev/pull/403&quot;&gt;https://git.openjdk.org/jdk8u-dev/pull/403&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-14 02:53:03 +0000</comment>
                            <comment id="14634155" author="roboduke" created="Wed, 13 Dec 2023 16:42:29 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2383&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2383&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-14 00:36:29 +0000</comment>
                            <comment id="14623493" author="JIRAUSER21019" created="Thu, 2 Nov 2023 14:34:14 -0700"  >Fix request for jdk17u:&lt;br/&gt;
&lt;br/&gt;
This was not a clean backport. Conflicts were manually resolved. These are the differences between the backport to jdk21u &lt;a href=&quot;https://github.com/openjdk/jdk21u/pull/79&quot;&gt;https://github.com/openjdk/jdk21u/pull/79&lt;/a&gt; and the backport to jdk17u &lt;a href=&quot;https://github.com/openjdk/jdk17u-dev/pull/1864&quot;&gt;https://github.com/openjdk/jdk17u-dev/pull/1864&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
1. Lines 284 and 382 of RSAPadding.java &lt;a href=&quot;https://github.com/openjdk/jdk17u-dev/pull/1864/files#diff-d5c7fa3142946f790cb324b1c888ae4ff140b3121c9a5755ed71a123dbdf879e&quot;&gt;https://github.com/openjdk/jdk17u-dev/pull/1864/files#diff-d5c7fa3142946f790cb324b1c888ae4ff140b3121c9a5755ed71a123dbdf879e&lt;/a&gt; (removing &amp;quot;throws BadPaddingException&amp;quot;) were already jdk21 - introduced by &lt;a href=&quot;https://github.com/openjdk/jdk21u/commit/4cec141a90bc5d3b8ec17c024291d9c74a112cd4#diff-d5c7fa3142946f790cb324b1c888ae4ff140b3121c9a5755ed71a123dbdf879e&quot;&gt;https://github.com/openjdk/jdk21u/commit/4cec141a90bc5d3b8ec17c024291d9c74a112cd4#diff-d5c7fa3142946f790cb324b1c888ae4ff140b3121c9a5755ed71a123dbdf879e&lt;/a&gt;. That cleanup did not go into jdk17.&lt;br/&gt;
&lt;br/&gt;
2.  RSASignature.java in the jdk21u PR introduces on line 220 &amp;quot;byte[] encoded = RSAUtil.encodeSignature(digestOID, digest);&amp;quot; whereas the backport uses &amp;quot;byte[] encoded = encodeSignature(digestOID, digest);&amp;quot; because &lt;a href=&quot;https://github.com/openjdk/jdk21u/commit/dc6ec2a46720eaf0cc7ce36a732ba8d4679a50d5&quot;&gt;https://github.com/openjdk/jdk21u/commit/dc6ec2a46720eaf0cc7ce36a732ba8d4679a50d5&lt;/a&gt; moved the encodeSignature and decodeSignature methods into &lt;a href=&quot;https://github.com/openjdk/jdk21u/blob/master/src/java.base/share/classes/sun/security/rsa/RSAUtil.java&quot;&gt;https://github.com/openjdk/jdk21u/blob/master/src/java.base/share/classes/sun/security/rsa/RSAUtil.java&lt;/a&gt; but this was not done in jdk17.&lt;br/&gt;
&lt;br/&gt;
3. The backport to jdk21 &lt;a href=&quot;https://github.com/openjdk/jdk21u/commit/334b977259930368160db705c1f2feda0b0e8707&quot;&gt;https://github.com/openjdk/jdk21u/commit/334b977259930368160db705c1f2feda0b0e8707&lt;/a&gt; removes the IOException from lines 28 and 227-228 of RSASignature.java. The backport to jdk17u cannot remove this IOException from RSASignature.java because encodeSignature throws it. This doesn&amp;#39;t happen in jdk21u because it has 8297065: DerOutputStream operations should not throw IOExceptions  - &lt;a href=&quot;https://github.com/openjdk/jdk21u/commit/2deb318c9f047ec5a4b160d66a4b52f93688ec42#diff-298a54a71fb42b2723873b8738d197d2f7edc598fe3128f1457aa3a9c99c6865&quot;&gt;https://github.com/openjdk/jdk21u/commit/2deb318c9f047ec5a4b160d66a4b52f93688ec42#diff-298a54a71fb42b2723873b8738d197d2f7edc598fe3128f1457aa3a9c99c6865&lt;/a&gt;</comment>
                            <comment id="14617030" author="roboduke" created="Mon, 9 Oct 2023 19:41:12 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1864&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1864&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-10 02:36:21 +0000</comment>
                            <comment id="14609017" author="valeriep" created="Tue, 5 Sep 2023 17:25:11 -0700"  >Fix Request:&lt;br/&gt;
This PR refactored and removed the confusing code where a BadPaddingException object is created (for a reason) but not used. This also eliminates the performance cost of creating the unused BadPaddingException object. There are already existing regression tests covering this area.&lt;br/&gt;
&lt;br/&gt;
Patch applies cleanly. </comment>
                            <comment id="14605421" author="roboduke" created="Mon, 21 Aug 2023 12:39:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/79&quot;&gt;https://git.openjdk.org/jdk21u/pull/79&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-21 19:33:46 +0000</comment>
                            <comment id="14599736" author="dukebot" created="Thu, 27 Jul 2023 14:27:20 -0700"  >Changeset: c27c8778&lt;br/&gt;
Author:    Valerie Peng &amp;lt;&lt;a href=&apos;mailto:valeriep@openjdk.org&apos;&gt;valeriep@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-07-27 21:24:03 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/c27c87786a612501e080222dd8647f94b3b261e6&quot;&gt;https://git.openjdk.org/jdk/commit/c27c87786a612501e080222dd8647f94b3b261e6&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14595150" author="roboduke" created="Tue, 11 Jul 2023 16:25:50 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14839&quot;&gt;https://git.openjdk.org/jdk/pull/14839&lt;/a&gt;&lt;br/&gt;
Date: 2023-07-11 23:19:40 +0000</comment>
                            <comment id="14562543" author="roboduke" created="Thu, 23 Feb 2023 13:52:13 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12732&quot;&gt;https://git.openjdk.org/jdk/pull/12732&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-23 18:15:35 +0000</comment>
                            <comment id="14562088" author="mullan" created="Wed, 22 Feb 2023 09:17:41 -0800"  >[~wetmore] [~djelinski] Thanks for looking more into the issue.&lt;br/&gt;
[~cslucas] Please feel free to proceed with your fix for this issue.</comment>
                            <comment id="14560010" author="JIRAUSER19825" created="Tue, 14 Feb 2023 07:11:02 -0800"  >RFC 8017 only mandates that all error conditions are indistinguishable. There&amp;#39;s no point in allocating a BadPaddingException on the success (return) path, AFAICT.</comment>
                            <comment id="14558659" author="mullan" created="Wed, 8 Feb 2023 14:01:53 -0800"  >These allocations are intentionally placed where they are and should not be moved or removed. However, it may make sense to add a comment explaining why to avoid future confusion. The rationale is provided in the Note in RFC 8017 that starts with &amp;quot;Care must be taken ...&amp;quot;.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5107461">JDK-8313793</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117089">JDK-8322155</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117090">JDK-8322156</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117172">JDK-8322233</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117341">JDK-8322314</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117343">JDK-8322316</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117344">JDK-8322317</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117390">JDK-8322350</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117901">JDK-8322831</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117921">JDK-8322848</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119042">JDK-8323841</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119049">JDK-8323848</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119072">JDK-8323870</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5162571">JDK-8360421</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5162606">JDK-8360456</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117398">JDK-8322359</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117399">JDK-8322360</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117402">JDK-8322362</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117453">JDK-8322413</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Blocks</name>
                                            <outwardlinks description="blocks">
                                                        </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5103357">JDK-8310180</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5115280">JDK-8320597</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30abf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17336"><![CDATA[b09]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="195"><![CDATA[java.security]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>