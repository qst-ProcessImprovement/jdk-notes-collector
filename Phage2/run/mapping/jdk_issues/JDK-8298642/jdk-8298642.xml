<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:50:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298642] ParallelGC -XX:+UseNUMA eden spaces allocated on wrong node</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298642</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>I noticed this when implementing &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298482&quot; title=&quot;Implement ParallelGC NUMAStats for Linux&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298482&quot;&gt;&lt;strike&gt;JDK-8298482&lt;/strike&gt;&lt;/a&gt;. If UseAdaptiveSizePolicy and/or UseAdaptiveNUMAChunkSizing are enabled and UseLargePages is *not* enabled, part of the eden spaces managed by MutableNUMASpace end up bound to the wrong node. This seems to be a regression caused by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8283935&quot; title=&quot;Parallel: Crash during pretouch after large pages allocation failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8283935&quot;&gt;&lt;strike&gt;JDK-8283935&lt;/strike&gt;&lt;/a&gt;, specifically the addition of&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;set_page_size(alignment());&lt;br/&gt;
&lt;br/&gt;
to MutableNUMASpace::initialize(). Previously the page size would have been equal to os::vm_page_size() unless UseLargePages was enabled.&lt;br/&gt;
&lt;br/&gt;
In bias_region() we call os::free_memory() to uncommit a range of pages so that they can be later allocated on a different node. We pass page_size() as the alignment_hint argument. However on Linux this does nothing if alignment_hint is greater than os::vm_page_size() and THP is not enabled, so the pages always remain bound to their original node (see os::pd_free_memory() in os_linux.cpp).&lt;br/&gt;
&lt;br/&gt;
I think the solution here is to pass os::vm_page_size() as the alignment_hint when UseLargePages is disabled.</description>
                <environment></environment>
        <key id="5089533">JDK-8298642</key>
            <summary>ParallelGC -XX:+UseNUMA eden spaces allocated on wrong node</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ngasson">Nick Gasson</assignee>
                                    <reporter username="ngasson">Nick Gasson</reporter>
                        <labels>
                            <label>gc-parallel</label>
                    </labels>
                <created>Tue, 13 Dec 2022 01:56:03 -0800</created>
                <updated>Mon, 23 Jun 2025 14:11:35 -0700</updated>
                            <resolved>Wed, 21 Dec 2022 03:02:34 -0800</resolved>
                                    <version>19</version>
                    <version>20</version>
                                    <fixVersion>20</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14547116" author="dukebot" created="Wed, 21 Dec 2022 03:02:33 -0800"  >Changeset: 81933b7a&lt;br/&gt;
Author:    Nick Gasson &amp;lt;&lt;a href=&apos;mailto:ngasson@openjdk.org&apos;&gt;ngasson@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-21 11:00:48 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk20/commit/81933b7a927c1579eda7b6678901e5d2bc1c1aed&quot;&gt;https://git.openjdk.org/jdk20/commit/81933b7a927c1579eda7b6678901e5d2bc1c1aed&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14545389" author="roboduke" created="Wed, 14 Dec 2022 06:29:19 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/33&quot;&gt;https://git.openjdk.org/jdk20/pull/33&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-14 14:23:01 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5090279">JDK-8299249</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5071251">JDK-8283935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5145968">JDK-8346005</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zljv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17413"><![CDATA[b29]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="209"><![CDATA[gc]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>