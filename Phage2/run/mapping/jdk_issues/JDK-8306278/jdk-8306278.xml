<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:37:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8306278] jvmtiAgentList.cpp:253 assert(offset &gt;= 0) failed: invariant occurs on AIX after JDK-8257967</title>
                <link>https://bugs.openjdk.org/browse/JDK-8306278</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>After &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8257967&quot;&gt;https://bugs.openjdk.org/browse/JDK-8257967&lt;/a&gt;  the AIX tests (using fastdebug binaries) run into this error&lt;br/&gt;
in lots of jtreg tests. Example is from test jdk/jshell/T8146368/JShellTest8146368.java, but lots of others fail too.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
#  Internal Error (/openjdk/rs6000_64/jdk-dev/src/hotspot/share/prims/jvmtiAgentList.cpp:253), pid=18350360, tid=258&lt;br/&gt;
#  assert(offset &amp;gt;= 0) failed: invariant&lt;br/&gt;
#&lt;br/&gt;
&lt;br/&gt;
|---stackaddr----|   |----lrsave------|:   &amp;lt;function name&amp;gt;&lt;br/&gt;
0x0000000110238640 - 0x0900000018adaf60 libjvm.so::os::Aix::platform_print_native_stack(outputStream*, void const*, char*, int)+0x20  (C++ saves_lr stores_bc fixedparms:4 )&lt;br/&gt;
0x00000001102386b0 - 0x0900000018b2b31c libjvm.so::VMError::report(outputStream*, bool)+0x3c5c  (C++ saves_lr stores_bc gpr_saved:18 fixedparms:2 )&lt;br/&gt;
0x00000001102398b0 - 0x0900000018b2f43c libjvm.so::VMError::report_and_die(int, char const*, char const*, char*, Thread*, unsigned char*, void*, void*, char const*, int, unsigned long)+0x1dc  (C++ saves_cr saves_lr stores_bc gpr_saved:18 fixedparms:8 )&lt;br/&gt;
0x0000000110239ca0 - 0x0900000018b30a08 libjvm.so::VMError::report_and_die(Thread*, void*, char const*, int, char const*, char const*, char*)+0x48  (C++ saves_lr stores_bc fixedparms:7 )&lt;br/&gt;
0x0000000110239d30 - 0x09000000188b4984 libjvm.so::report_vm_error(char const*, int, char const*, char const*, ...)+0xa4  (C++ saves_lr stores_bc gpr_saved:6 fixedparms:8 parmsonstk:1)&lt;br/&gt;
0x0000000110239ee0 - 0x090000001a92088c libjvm.so::JvmtiAgentList::lookup(JvmtiEnv*, void*)+0x72c  (C++ saves_lr stores_bc gpr_saved:5 fixedparms:2 )&lt;br/&gt;
0x0000000110239f90 - 0x090000001a7478d0 libjvm.so::JvmtiExport::post_vm_initialized()+0x1290  (C++ saves_lr stores_bc gpr_saved:18 )&lt;br/&gt;
0x000000011023a1d0 - 0x0900000018b7955c libjvm.so::Threads::create_vm(JavaVMInitArgs*, bool*)+0x89c  (C++ saves_lr stores_bc gpr_saved:10 fixedparms:2 )&lt;br/&gt;
0x000000011023a470 - 0x090000001aa3961c libjvm.so::JNI_CreateJavaVM_inner(JavaVM_**, void**, void*)+0xdc  (C++ saves_cr saves_lr stores_bc gpr_saved:10 fixedparms:3 )&lt;br/&gt;
0x000000011023a590 - 0x0000000100006598 java::IPRA.$InitializeJVM+0x98  (C saves_lr stores_bc gpr_saved:7 fixedparms:3 )&lt;br/&gt;
0x000000011023a650 - 0x00000001000059f0 java::JavaMain+0x90       (C saves_lr stores_bc gpr_saved:9 fixedparms:1 )&lt;br/&gt;
0x000000011023a730 - 0x000000010000c270 java::ThreadJavaMain+0x10  (C saves_lr stores_bc fixedparms:1 )&lt;br/&gt;
0x000000011023a7a0 - 0x090000000054bfec libpthreads.a::_pthread_body+0xec  (C saves_lr stores_bc gpr_saved:1 fixedparms:1 )&lt;br/&gt;
0x000000011023a820 - 0x0000000000000000 &lt;br/&gt;
*** end of backchain ***</description>
                <environment></environment>
        <key id="5098710">JDK-8306278</key>
            <summary>jvmtiAgentList.cpp:253 assert(offset &gt;= 0) failed: invariant occurs on AIX after JDK-8257967</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgronlun">Markus Gr&#246;nlund</assignee>
                                    <reporter username="mbaesken">Matthias Baesken</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Apr 2023 03:35:55 -0700</created>
                <updated>Mon, 24 Apr 2023 11:34:13 -0700</updated>
                            <resolved>Wed, 19 Apr 2023 04:01:40 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14575023" author="dukebot" created="Wed, 19 Apr 2023 04:01:39 -0700"  >Changeset: c738c8ea&lt;br/&gt;
Author:    Markus Gr&amp;#xF6;nlund &amp;lt;&lt;a href=&apos;mailto:mgronlun@openjdk.org&apos;&gt;mgronlun@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-19 10:59:10 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/c738c8ea3e9fda87abb03acb599a2433a344db09&quot;&gt;https://git.openjdk.org/jdk/commit/c738c8ea3e9fda87abb03acb599a2433a344db09&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14574763" author="roboduke" created="Tue, 18 Apr 2023 10:05:36 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13513&quot;&gt;https://git.openjdk.org/jdk/pull/13513&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-18 16:59:29 +0000</comment>
                            <comment id="14574751" author="mgronlun" created="Tue, 18 Apr 2023 09:46:45 -0700"  >For most platforms, os::dll_address_to_library_name() only sets offset = -1 in case of errors. If there is an error, the function returns false. This is fine.&lt;br/&gt;
&lt;br/&gt;
On AIX, the offset is invariantly set to -1, even in the case of non-errors.&lt;br/&gt;
&lt;br/&gt;
Easiest to remove the assertion on offset.</comment>
                            <comment id="14574742" author="sspitsyn" created="Tue, 18 Apr 2023 09:37:23 -0700"  >Markus, I temporarily assigned it to you.&lt;br/&gt;
Could you, please, take a look? It is related to your recent change.&lt;br/&gt;
As a regression it needs to be fixed in 21, I think.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5036888">JDK-8257967</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17024"><![CDATA[ppc]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="18900"><![CDATA[aix]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i315kz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17414"><![CDATA[b19]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="372"><![CDATA[jvmti]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>