<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:20:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8323515] Create test alias &quot;all&quot; for all test roots</title>
                <link>https://bugs.openjdk.org/browse/JDK-8323515</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Since recent work to improve `tier4` performance, we actually test `tier{1,2,3,4}` often, which includes all the tests in current tree. It would be more convenient to just have the `all` test group, so that we can do `make test TEST=all`. This also gives a parallelism / run time benefit, as we do not wait for tests in each tier to complete before moving to next tier.&lt;br/&gt;
&lt;br/&gt;
(Putting this to hotspot/test, since this is a test configuration, but the change would likely affect JDK and other tests as well.)</description>
                <environment></environment>
        <key id="5118655">JDK-8323515</key>
            <summary>Create test alias &quot;all&quot; for all test roots</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shade">Aleksey Shipilev</assignee>
                                    <reporter username="shade">Aleksey Shipilev</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                    </labels>
                <created>Wed, 10 Jan 2024 04:27:20 -0800</created>
                <updated>Tue, 27 Feb 2024 07:15:22 -0800</updated>
                            <resolved>Tue, 23 Jan 2024 09:05:04 -0800</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14651691" author="roboduke" created="Thu, 22 Feb 2024 12:27:42 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2543&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2543&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-22 18:00:09 +0000</comment>
                            <comment id="14651688" author="roboduke" created="Thu, 22 Feb 2024 12:24:17 -0800"  >[jdk11u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Improves JDK 11u testability by allowing to run all tests at once. There was a contextual conflict, resolved manually. Test groups sanity is tested with GHA.</comment>
                            <comment id="14651685" author="roboduke" created="Thu, 22 Feb 2024 12:21:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2221&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2221&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-22 16:55:32 +0000</comment>
                            <comment id="14651683" author="roboduke" created="Thu, 22 Feb 2024 12:19:37 -0800"  >[jdk17u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Improves JDK 17u testability by allowing to run all tests at once. There was a contextual conflict, resolved manually. Test groups sanity is tested with GHA. Requires &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8324647&quot; title=&quot;Invalid test group of lib-test after JDK-8323515&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8324647&quot;&gt;&lt;strike&gt;JDK-8324647&lt;/strike&gt;&lt;/a&gt; as the followup.</comment>
                            <comment id="14651645" author="roboduke" created="Thu, 22 Feb 2024 09:22:51 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/65&quot;&gt;https://git.openjdk.org/jdk22u/pull/65&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-22 17:19:58 +0000</comment>
                            <comment id="14651644" author="roboduke" created="Thu, 22 Feb 2024 09:21:57 -0800"  >[jdk22u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Improves JDK 17u testability by allowing to run all tests at once. There was a contextual conflict, resolved manually. Test groups sanity is tested with GHA. Requires &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8324647&quot; title=&quot;Invalid test group of lib-test after JDK-8323515&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8324647&quot;&gt;&lt;strike&gt;JDK-8324647&lt;/strike&gt;&lt;/a&gt; as the followup.</comment>
                            <comment id="14649211" author="goetz" created="Wed, 14 Feb 2024 02:41:06 -0800"  >[21u]&lt;br/&gt;
Backport contains follow-up &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8324647&quot; title=&quot;Invalid test group of lib-test after JDK-8323515&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8324647&quot;&gt;&lt;strike&gt;JDK-8324647&lt;/strike&gt;&lt;/a&gt;.</comment>
                            <comment id="14648784" author="roboduke" created="Tue, 13 Feb 2024 07:43:28 -0800"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Improves JDK testability by allowing to run all tests easily. Test configuration only change, does not affect product code, and thus is low risk. Test group definitions sanity is tested with GHA.</comment>
                            <comment id="14648714" author="roboduke" created="Tue, 13 Feb 2024 04:05:27 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/256&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/256&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-13 10:06:30 +0000</comment>
                            <comment id="14643144" author="dukebot" created="Tue, 23 Jan 2024 09:05:03 -0800"  >Changeset: 8b9bf758&lt;br/&gt;
Author:    Aleksey Shipilev &amp;lt;&lt;a href=&apos;mailto:shade@openjdk.org&apos;&gt;shade@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-01-23 17:03:35 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8b9bf758801400e4491326cd4c90fc117b9d97e1&quot;&gt;https://git.openjdk.org/jdk/commit/8b9bf758801400e4491326cd4c90fc117b9d97e1&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14640218" author="roboduke" created="Mon, 15 Jan 2024 08:15:21 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17422&quot;&gt;https://git.openjdk.org/jdk/pull/17422&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-15 11:05:09 +0000</comment>
                            <comment id="14640131" author="shade" created="Mon, 15 Jan 2024 03:08:39 -0800"  >WIP is here: &lt;a href=&quot;https://github.com/openjdk/jdk/pull/17422&quot;&gt;https://github.com/openjdk/jdk/pull/17422&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
There is no question of utility at least for myself. I would start using `make test TEST=all` instead of `make test TEST=&amp;quot;tier1 tier2 tier3 tier4&amp;quot;` if/when this lands. At very least because it would be significantly more parallel than waiting for each tier to finish.</comment>
                            <comment id="14640046" author="dholmes" created="Sun, 14 Jan 2024 14:10:48 -0800"  >Is that a feature of jtreg or is that how the makefile logic works?&lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t use the makefile for testing in general, and our internal tiered testing defines what &amp;quot;tier1&amp;quot; means externally.&lt;br/&gt;
&lt;br/&gt;
Please propose a patch so I can see exactly what is being proposed. I don&amp;#39;t object to &amp;quot;all&amp;quot; being defined but I don&amp;#39;t think it actually has any utility in practice.</comment>
                            <comment id="14639787" author="shade" created="Fri, 12 Jan 2024 03:19:16 -0800"  >I must have explained it confusingly. The output above is from the actual patch. If you define the same group name in every TEST.groups in our tree, then asking for it would execute that test group from all test roots. That is how asking for `tier1` works, for example: it would run `hotspot:tier1`, `jdk:tier1`, etc. What I am proposing here is doing the catch-all &amp;quot;all&amp;quot; test group/alias in every TEST.groups, so that we can ask for all tests from all test roots in one broad stroke.</comment>
                            <comment id="14639679" author="dholmes" created="Thu, 11 Jan 2024 17:27:34 -0800"  >I mentioned hotspot_all merely to indicate we already have an &amp;quot;all&amp;quot; group for hotspot tests. Given TEST.groups is defined per test directory I&amp;#39;m not sure how you can have a top-level &amp;quot;all&amp;quot; group - can we have a TEST.groups in the top-level test directory? But assuming you can define a top-level &amp;quot;all&amp;quot; I expect you will have to refine it to exclude some sub-groups.&lt;br/&gt;
&lt;br/&gt;
I thought we had previously ensured that all tests were included in some tier, so &amp;quot;all&amp;quot; could be a shortcut for running all tiers? You could perhaps make &amp;quot;all&amp;quot; an alias in the Makefile rather than trying to do it via an actual jtreg group. But if you are simply batching tiers1-4 then &amp;quot;all&amp;quot; seems the wrong name to use.&lt;br/&gt;
</comment>
                            <comment id="14639409" author="shade" created="Thu, 11 Jan 2024 00:37:36 -0800"  >The point is not about hotspot_all, the point is to be able to ask &amp;quot;all&amp;quot; from all test groups. What is the current shortcut for doing this? The closest I know is to explicitly enumerating &amp;quot;hotspot_all jdk_all langtools_all jaxp_all&amp;quot;, ah oops, there is no libtest_all. &amp;quot;tier1 tier2 tier3 tier4&amp;quot; then, ah oops, it does not include applications/ctw; also, these are all tiers, or why run tiers then? &lt;br/&gt;
&lt;br/&gt;
With &amp;quot;all&amp;quot; group, we get this:&lt;br/&gt;
&lt;br/&gt;
% CONF=macosx-aarch64-server-fastdebug make images test TEST=all&lt;br/&gt;
&lt;br/&gt;
Test selection &amp;#39;all&amp;#39;, will run:&lt;br/&gt;
* jtreg:test/hotspot/jtreg:all&lt;br/&gt;
* jtreg:test/jdk:all&lt;br/&gt;
* jtreg:test/langtools:all&lt;br/&gt;
* jtreg:test/jaxp:all&lt;br/&gt;
* jtreg:test/lib-test:all&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14639301" author="dholmes" created="Wed, 10 Jan 2024 15:02:37 -0800"  >Personally I don&amp;#39;t see the value/utility in this as there are too many tests and some need to be run under special configurations and hence are excluded from regular test runs.</comment>
                            <comment id="14639300" author="dholmes" created="Wed, 10 Jan 2024 15:01:14 -0800"  >We already have hotspot_all</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5121465">JDK-8325853</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122381">JDK-8326640</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122382">JDK-8326641</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122609">JDK-8326842</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5119955">JDK-8324647</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34imj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17335"><![CDATA[b07]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="225"><![CDATA[test]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>