<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:31:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8310228] Improve error reporting for uncaught native exceptions on Windows</title>
                <link>https://bugs.openjdk.org/browse/JDK-8310228</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Currently, when an exception is thrown from native code called from Java, such as:&lt;br/&gt;
&lt;br/&gt;
const DWORD EX_CODE = 42;&lt;br/&gt;
&lt;br/&gt;
__declspec(dllexport) void throw_C_exception() {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;RaiseException(EX_CODE, EXCEPTION_NONCONTINUABLE, 0, NULL);&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
The stack is unwound until we get back to Java frames, at which point topLevelExceptionFilter in os_windows.cpp is invoked (which acts as the exception handler for the entire code cache).&lt;br/&gt;
&lt;br/&gt;
Since we have no explicit handling for this exception code, we eventually end up in Handle_FLT_Exception which checks if MxCsr is modified, restores it, and then returns EXCEPTION_CONTINUE_EXECUTION. However, this is done without making sure that the exception code corresponds to an FLT* exception.&lt;br/&gt;
&lt;br/&gt;
As a result, we end up entering topLevelExceptionFilter over and over, until the process finally abruptly terminates due to a stack overflow error.&lt;br/&gt;
&lt;br/&gt;
We should more carefully try to filter for FLT* exception codes in Handle_FLT_Exception, so that unrecognized exceptions are handled through the default VM error reporting mechanism.</description>
                <environment></environment>
        <key id="5103418">JDK-8310228</key>
            <summary>Improve error reporting for uncaught native exceptions on Windows</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvernee">Jorn Vernee</assignee>
                                    <reporter username="jvernee">Jorn Vernee</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>signals</label>
                    </labels>
                <created>Fri, 16 Jun 2023 08:47:42 -0700</created>
                <updated>Tue, 13 Aug 2024 21:03:47 -0700</updated>
                            <resolved>Thu, 21 Sep 2023 06:56:43 -0700</resolved>
                                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14670691" author="goetz" created="Fri, 3 May 2024 03:46:10 -0700"  >I want to backport this to improve the situation of error reports on windows. There we often have less helpful hs_err files.&lt;br/&gt;
Risk is medium to lower, and limited to windows. The change mostly touches signal and error handling.&lt;br/&gt;
The original backport was clean, but I had to adapt the test to a backport that was pushed in the meantime.&lt;br/&gt;
The test fails without the fix, but I&amp;#39;m not sure it is the expected failure. It passes if the fix is applied. &lt;br/&gt;
SAP nightly testing passed.&lt;br/&gt;
</comment>
                            <comment id="14670395" author="goetz" created="Thu, 2 May 2024 04:20:46 -0700"  >Hi [~jvernee], others, &lt;br/&gt;
There is a report on a related issue on my backport PR: &lt;a href=&quot;https://github.com/openjdk/jdk21u-dev/pull/510#issuecomment-2067697968&quot;&gt;https://github.com/openjdk/jdk21u-dev/pull/510#issuecomment-2067697968&lt;/a&gt;</comment>
                            <comment id="14666496" author="roboduke" created="Fri, 19 Apr 2024 03:24:45 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/510&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/510&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-19 10:08:17 +0000</comment>
                            <comment id="14612891" author="dukebot" created="Thu, 21 Sep 2023 06:56:42 -0700"  >Changeset: 38bf1192&lt;br/&gt;
Author:    Jorn Vernee &amp;lt;&lt;a href=&apos;mailto:jvernee@openjdk.org&apos;&gt;jvernee@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-09-21 13:54:35 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/38bf1192b637cf3513cb25ac21f513bfb51cb55b&quot;&gt;https://git.openjdk.org/jdk/commit/38bf1192b637cf3513cb25ac21f513bfb51cb55b&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14590966" author="roboduke" created="Wed, 21 Jun 2023 05:31:57 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14523&quot;&gt;https://git.openjdk.org/jdk/pull/14523&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-16 16:00:03 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5128842">JDK-8331767</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5136759">JDK-8338353</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31y0r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>