<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:35:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8159023] Engineering notation of DecimalFormat does not work as documented</title>
                <link>https://bugs.openjdk.org/browse/JDK-8159023</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The definition of the mantissa will be amended to provide accurate results, as well as the example fixed. In addition, certain terms like maximum integer/fraction and minimum integer/fraction will be defined to support the definition&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
FULL PRODUCT VERSION :&lt;br/&gt;
java version &amp;quot;1.8.0_91&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_91-b15)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.91-b15, mixed mode)&lt;br/&gt;
&lt;br/&gt;
ADDITIONAL OS VERSION INFORMATION :&lt;br/&gt;
Microsoft Windows [Version 6.1.7601]&lt;br/&gt;
&lt;br/&gt;
A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
The documentation of DecimalFormat contains an example for engineering notation:&lt;br/&gt;
&amp;nbsp;12345 formatted with &amp;quot;##0.##E0&amp;quot; is &amp;quot;12.3E3&amp;quot;&lt;br/&gt;
&lt;br/&gt;
But instead of 12.3E3 the output is 12.345E3.&lt;br/&gt;
&lt;br/&gt;
STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :&lt;br/&gt;
Format 12345 with pattern ##0.##E0&lt;br/&gt;
&lt;br/&gt;
EXPECTED VERSUS ACTUAL BEHAVIOR :&lt;br/&gt;
EXPECTED -&lt;br/&gt;
Output: 12.3E3&lt;br/&gt;
ACTUAL -&lt;br/&gt;
Output: 12.345E3&lt;br/&gt;
&lt;br/&gt;
REPRODUCIBILITY :&lt;br/&gt;
This bug can be reproduced always.&lt;br/&gt;
&lt;br/&gt;
---------- BEGIN SOURCE ----------&lt;br/&gt;
import java.text.DecimalFormat;&lt;br/&gt;
import java.util.Locale;&lt;br/&gt;
import java.util.Objects;&lt;br/&gt;
&lt;br/&gt;
public class Tst&lt;br/&gt;
{&lt;br/&gt;
&lt;br/&gt;
	public static void main(String[] args)&lt;br/&gt;
	{&lt;br/&gt;
		Locale.setDefault(Locale.ENGLISH);&lt;br/&gt;
		DecimalFormat df = new DecimalFormat(&amp;quot;##0.##E0&amp;quot;);&lt;br/&gt;
&lt;br/&gt;
		String realOutput = df.format(12345);&lt;br/&gt;
		String expected = &amp;quot;12.3E3&amp;quot;;&lt;br/&gt;
&lt;br/&gt;
		System.out.println(realOutput);&lt;br/&gt;
		if (Objects.equals(realOutput, expected))&lt;br/&gt;
		{&lt;br/&gt;
			System.out.println(&amp;quot;OK&amp;quot;);&lt;br/&gt;
		}&lt;br/&gt;
		else&lt;br/&gt;
		{&lt;br/&gt;
			System.err.println(&amp;quot;Formatted output &amp;quot; + realOutput + &amp;quot; differs from documented output &amp;quot; + expected);&lt;br/&gt;
		}&lt;br/&gt;
	}&lt;br/&gt;
&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
---------- END SOURCE ----------&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="4887231">JDK-8159023</key>
            <summary>Engineering notation of DecimalFormat does not work as documented</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jlu">Justin Lu</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>dcs-pso</label>
                            <label>noreg-doc</label>
                            <label>reproducer-yes</label>
                            <label>webbug</label>
                    </labels>
                <created>Tue, 7 Jun 2016 04:58:53 -0700</created>
                <updated>Wed, 12 Mar 2025 15:09:20 -0700</updated>
                            <resolved>Thu, 25 May 2023 14:57:52 -0700</resolved>
                                    <version>8</version>
                    <version>9</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14584685" author="JIRAUSER20507" created="Thu, 25 May 2023 14:58:34 -0700"  >This issue resolves the proposed definition clarifications in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-6282188&quot; title=&quot;[Fmt-Nu]DecimalFormat - javadocs for section &amp;quot;Scientific Notation&amp;quot; and &amp;quot;Special Values&amp;quot; is not clear&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-6282188&quot;&gt;&lt;strike&gt;JDK-6282188&lt;/strike&gt;&lt;/a&gt;</comment>
                            <comment id="14584684" author="dukebot" created="Thu, 25 May 2023 14:57:51 -0700"  >Changeset: 46c4da7f&lt;br/&gt;
Author:    Justin Lu &amp;lt;&lt;a href=&apos;mailto:jlu@openjdk.org&apos;&gt;jlu@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-05-25 21:54:58 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/46c4da7fddb8103934f2a90b4456a5ce6ed3467c&quot;&gt;https://git.openjdk.org/jdk/commit/46c4da7fddb8103934f2a90b4456a5ce6ed3467c&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14583014" author="roboduke" created="Fri, 19 May 2023 17:05:14 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14066&quot;&gt;https://git.openjdk.org/jdk/pull/14066&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-20 00:00:42 +0000</comment>
                            <comment id="14582413" author="JIRAUSER20507" created="Wed, 17 May 2023 11:03:20 -0700"  >The specification claims that the number of significant digits in the mantissa is the sum of the min int and max fraction digits.&lt;br/&gt;
&lt;br/&gt;
However, the implementation would suggest that the significant digits in the mantissa is the sum of the max int and max fraction digits.&lt;br/&gt;
&lt;br/&gt;
See the following test data, in each formatted value, the amount of significant digits is the sum of the #s and 0s (excluding the exponent 0) in the pattern (or less, if the original number itself has less significant digits than the sum of the max #s and 0s). Considering the class is quite old, I would suggest aligning the spec to the implementation.&lt;br/&gt;
&lt;br/&gt;
123 formatted by ##0.#E0 is 123E0&lt;br/&gt;
1234 formatted by ##0.#E0 is 1.234E3&lt;br/&gt;
12345 formatted by ##0.#E0 is 12.34E3&lt;br/&gt;
123456 formatted by ##0.#E0 is 123.5E3&lt;br/&gt;
1234567 formatted by ##0.#E0 is 1.235E6&lt;br/&gt;
12345678 formatted by ##0.#E0 is 12.35E6&lt;br/&gt;
123456789 formatted by ##0.#E0 is 123.5E6&lt;br/&gt;
&lt;br/&gt;
123 formatted by ##0.##E0 is 123E0&lt;br/&gt;
1234 formatted by ##0.##E0 is 1.234E3&lt;br/&gt;
12345 formatted by ##0.##E0 is 12.345E3&lt;br/&gt;
123456 formatted by ##0.##E0 is 123.46E3&lt;br/&gt;
1234567 formatted by ##0.##E0 is 1.2346E6&lt;br/&gt;
12345678 formatted by ##0.##E0 is 12.346E6&lt;br/&gt;
123456789 formatted by ##0.##E0 is 123.46E6&lt;br/&gt;
&lt;br/&gt;
123 formatted by ##0.###E0 is 123E0&lt;br/&gt;
1234 formatted by ##0.###E0 is 1.234E3&lt;br/&gt;
12345 formatted by ##0.###E0 is 12.345E3&lt;br/&gt;
123456 formatted by ##0.###E0 is 123.456E3&lt;br/&gt;
1234567 formatted by ##0.###E0 is 1.23457E6&lt;br/&gt;
12345678 formatted by ##0.###E0 is 12.3457E6&lt;br/&gt;
123456789 formatted by ##0.###E0 is 123.457E6</comment>
                            <comment id="13954586" author="psonal" created="Tue, 7 Jun 2016 22:43:45 -0700"  >Attached test case executed on:&lt;br/&gt;
JDK 8u92- Fail&lt;br/&gt;
JDK 9 - Fail&lt;br/&gt;
&lt;br/&gt;
The url of the documentation where the example is given:&lt;br/&gt;
&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html&quot;&gt;https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html&lt;/a&gt; &lt;br/&gt;
&amp;quot;The number of significant digits in the mantissa is the sum of the minimum integer and maximum fraction digits, and is unaffected by the maximum integer digits. For example, 12345 formatted with &amp;quot;##0.##E0&amp;quot; is &amp;quot;12.3E3&amp;quot;. To show all digits, set the significant digits count to zero. The number of significant digits does not affect parsing.&amp;quot;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10400">
                    <name>CSR</name>
                                            <outwardlinks description="csr for">
                                        <issuelink>
            <issuekey id="5101177">JDK-8308317</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4245717">JDK-4366035</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="4245739">JDK-6282188</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="60178" name="JI9039403.java" size="594" author="psonal" created="Tue, 7 Jun 2016 22:43:11 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21hsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17411"><![CDATA[b25]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="331"><![CDATA[java.text]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>