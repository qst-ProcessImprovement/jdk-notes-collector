<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:58:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8306949] Resolve miscellaneous multiple symbol definition issues when statically linking JDK/VM natives with standard launcher</title>
                <link>https://bugs.openjdk.org/browse/JDK-8306949</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>This bug is to resolve the remaining miscellaneous symbol collisions&lt;br/&gt;
when statically linking JDK/VM natives with the standard Java launcher binary (see &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303796&quot; title=&quot;Optionally build fully statically linked JDK image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303796&quot;&gt;JDK-8303796&lt;/a&gt; for more details). The symbols include:&lt;br/&gt;
&lt;br/&gt;
- debug&lt;br/&gt;
- findFunction&lt;br/&gt;
- jvm (if it&amp;#39;s desirable to statically linking with libawt_xawt, was not addressed in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8305761&quot; title=&quot;Resolve multiple definition of &amp;#39;jvm&amp;#39; when statically linking with JDK native libraries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8305761&quot;&gt;&lt;strike&gt;JDK-8305761&lt;/strike&gt;&lt;/a&gt;)&lt;br/&gt;
&lt;br/&gt;
E.g.&lt;br/&gt;
&lt;br/&gt;
/usr/bin/ld: /.../build/linux-x86_64-server-slowdebug/images/static-libs/lib/libj2pkcs11.a(j2secmod_md.o): in function `findFunction&amp;#39;:&lt;br/&gt;
/.../src/jdk.crypto.cryptoki/unix/native/libj2pkcs11/j2secmod_md.c:37: multiple definition of `findFunction&amp;#39;; /.../build/linux-x86_64-server-slowdebug/images/static-libs/lib/libj2pcsc.a(pcsc_md.o):/.../src/java.smartcardio/unix/native/libj2pcsc/pcsc_md.c:78: first defined here&lt;br/&gt;
/usr/bin/ld: /.../build/linux-x86_64-server-slowdebug/hotspot/variant-server/libjvm/objs/static/libjvm.a(debug.o): in function `debug&amp;#39;:&lt;br/&gt;
/.../src/hotspot/share/utilities/debug.cpp:486: multiple definition of `debug&amp;#39;; /.../build/linux-x86_64-server-slowdebug/images/static-libs/lib/libj2pkcs11.a(p11_general.o):/.../src/jdk.crypto.cryptoki/share/native/libj2pkcs11/p11_general.c:78: first defined here&lt;br/&gt;
...&lt;br/&gt;
/usr/bin/ld: /.../build/linux-x86_64-server-slowdebug/images/static-libs/lib/libawt_xawt.a(XlibWrapper.o):/.../src/java.desktop/unix/native/libawt_xawt/xawt/XlibWrapper.c:1328: multiple definition of `jvm&amp;#39;; /.../build/linux-x86_64-server-slowdebug/images/static-libs/lib/libawt.a(awt_LoadLibrary.o):/.../src/java.desktop/unix/native/libawt/awt/awt_LoadLibrary.c:52: first defined here&lt;br/&gt;
collect2: error: ld returned 1 exit status&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5099564">JDK-8306949</key>
            <summary>Resolve miscellaneous multiple symbol definition issues when statically linking JDK/VM natives with standard launcher</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jiangli">Jiangli Zhou</assignee>
                                    <reporter username="jiangli">Jiangli Zhou</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Apr 2023 11:43:10 -0700</created>
                <updated>Thu, 4 May 2023 00:14:14 -0700</updated>
                            <resolved>Thu, 27 Apr 2023 08:59:16 -0700</resolved>
                                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14577447" author="dukebot" created="Thu, 27 Apr 2023 08:59:14 -0700"  >Changeset: fed262a9&lt;br/&gt;
Author:    Jiangli Zhou &amp;lt;&lt;a href=&apos;mailto:jiangli@openjdk.org&apos;&gt;jiangli@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-27 15:57:51 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/fed262a9cf324ce7f2c61f4471c88bc84af8e3d0&quot;&gt;https://git.openjdk.org/jdk/commit/fed262a9cf324ce7f2c61f4471c88bc84af8e3d0&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14577185" author="roboduke" created="Wed, 26 Apr 2023 17:19:03 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13682&quot;&gt;https://git.openjdk.org/jdk/pull/13682&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-27 00:12:58 +0000</comment>
                            <comment id="14577184" author="jiangli" created="Wed, 26 Apr 2023 17:05:40 -0700"  >&lt;a href=&quot;https://github.com/jianglizhou/jdk/pull/new/JDK-8306949&quot;&gt;https://github.com/jianglizhou/jdk/pull/new/JDK-8306949&lt;/a&gt; is the fix. It use the same approaches adopted by earlier fixes for static linking related symbol problems (e.g. &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8306033&quot; title=&quot;Resolve multiple definition of &amp;#39;throwIOException&amp;#39; and friends when statically linking with JDK native libraries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8306033&quot;&gt;&lt;strike&gt;JDK-8306033&lt;/strike&gt;&lt;/a&gt;).&lt;br/&gt;
&lt;br/&gt;
The debug() in src/hotspot/share/utilities/debug.cpp and related code is unchanged for now. The renaming from &amp;#39;debug&amp;#39; to &amp;#39;debug_j2pkcs11&amp;#39; in libj2pkcs11 code resolves the following related linker error. We haven&amp;#39;t observed any related issue with more complex cases in our experiments/testing (building a complete static image with statically linking the launcher with JDK/VM natives, application natives and dependencies), with the similar fix (with debug() in debug.cpp unchanged) in our prototype. &lt;br/&gt;
&lt;br/&gt;
/usr/bin/ld: /.../build/linux-x86_64-server-slowdebug/hotspot/variant-server/libjvm/objs/static/libjvm.a(debug.o): in function `debug&amp;#39;:&lt;br/&gt;
/.../src/hotspot/share/utilities/debug.cpp:486: multiple definition of `debug&amp;#39;; /.../build/linux-x86_64-server-slowdebug/images/static-libs/lib/libj2pkcs11.a(p11_general.o):/.../src/jdk.crypto.cryptoki/share/native/libj2pkcs11/p11_general.c:78: first defined here</comment>
                            <comment id="14577136" author="jiangli" created="Wed, 26 Apr 2023 13:23:11 -0700"  >With the fix for this bug and makefile changes for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303796&quot; title=&quot;Optionally build fully statically linked JDK image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303796&quot;&gt;JDK-8303796&lt;/a&gt;, it will allow building a fully statically linked Java launcher binary (not yet runnable, additional runtime fixes/changes are needed to make it runnable). That would provide a basic layer for building Java/JDK static image.&lt;br/&gt;
&lt;br/&gt;
Statically linking with application natives and dependencies will introduce additional complexities and symbol issues. It&amp;#39;s probably a good idea to handle those separately after we get the basic JDK static image runnable.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095743">JDK-8303796</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31af7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17412"><![CDATA[b21]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>