<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:36:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8306111] PPC64: RT call after thaw with exception requires larger ABI section</title>
                <link>https://bugs.openjdk.org/browse/JDK-8306111</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>After thawing continuation frames the top frame has only got the minimal ABI of size `frame::metadata_words_at_top`. This is not sufficient for the runtime call of `SharedRuntime::exception_handler_for_return_address()` to forward an exception in or over the thawed frame.&lt;br/&gt;
&lt;br/&gt;
Depending on the ELF ABI version (see `ABI_ELFv2`) there has to be an ABI section of 12 or 14 words for a call [2].&lt;br/&gt;
&lt;br/&gt;
Below we see 2 frames with just 4 words == `frame::metadata_words_at_top`&lt;br/&gt;
ABI. The callee expects 12 or 14 words and might overwrite live data of the&lt;br/&gt;
caller.&lt;br/&gt;
&lt;br/&gt;
Compiled Top Frame&lt;br/&gt;
==========================&lt;br/&gt;
&lt;br/&gt;
0x00007ffff5a4da50: 0x00007ffff5a4daf0 #0 nmethod 0x00007fffe0726310 for method J BasicExt$Continuation3Frames.ord103_testMethod_dontinline(JJJLjava/lang/String;)Ljava/lang/String;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- #0 scope BasicExt$Continuation3Frames.ord103_testMethod_dontinline(JJJLjava/lang/String;)Ljava/lang/String; @ 7&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;unextended_sp for #1&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sp for #1&lt;br/&gt;
0x00007ffff5a4da48: 0x00007fffdfe885f0&lt;br/&gt;
0x00007ffff5a4da40: 0x0000000000000185&lt;br/&gt;
0x00007ffff5a4da38: 0x00007fffd8ac0000&lt;br/&gt;
0x00007ffff5a4da30: 0x00007fffe07265ec return address&lt;br/&gt;
0x00007ffff5a4da28: 0x0000000028800282&lt;br/&gt;
0x00007ffff5a4da20: 0x00007ffff5a4da50 unextended_sp for #0&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Interpreted Top Frame (should be viewed with monospace font)&lt;br/&gt;
==============================&lt;br/&gt;
&lt;br/&gt;
0x00007ffff5a4d9f0: 0x00007ffff5a4daf0 #0 method BasicExt$Continuation3Frames.ord103_testMethod_dontinline(JJJLjava/lang/String;)Ljava/lang/String; @ 7&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- 8 locals 9 max stack&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-  codelet: return entry points&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sp for #1&lt;br/&gt;
0x00007ffff5a4d9e8: 0x00007fffb4724a90 fresult&lt;br/&gt;
0x00007ffff5a4d9e0: 0x00007ffff5a4d6f0 lresult&lt;br/&gt;
0x00007ffff5a4d9d8: 0x0000000000000000 oop_tmp&lt;br/&gt;
0x00007ffff5a4d9d0: 0x00007ffff5a4da50 sender_sp&lt;br/&gt;
0x00007ffff5a4d9c8: 0x00007ffff5a4d8e0 top_frame_sp&lt;br/&gt;
0x00007ffff5a4d9c0: 0x0000000000000000 mdx&lt;br/&gt;
0x00007ffff5a4d9b8:.0x00007ffff5a4d940.esp.-------+&lt;br/&gt;
0x00007ffff5a4d9b0:.0x00007fffb4707abf.bcp........|&lt;br/&gt;
0x00007ffff5a4d9a8:.0x00007fffb470e8e0.cpoolCache.|&lt;br/&gt;
0x00007ffff5a4d9a0:.0x00007ffff5a4d988.monitors...|&lt;br/&gt;
0x00007ffff5a4d998:.0x000000000000000b.locals.....|&lt;br/&gt;
0x00007ffff5a4d990:.0x00000000ffc5ec80.mirror.....|&lt;br/&gt;
.......................................oop.for.#0.|&lt;br/&gt;
0x00007ffff5a4d988:.0x00007fffb4707b10.method.....|&lt;br/&gt;
0x00007ffff5a4d980:.0x00000000ffc60650............|&lt;br/&gt;
0x00007ffff5a4d978:.0x0000000000000000............|&lt;br/&gt;
0x00007ffff5a4d970:.0x0000000000000001............|&lt;br/&gt;
0x00007ffff5a4d968:.0x0000000000000000............|&lt;br/&gt;
0x00007ffff5a4d960:.0x0000000000000002............|&lt;br/&gt;
0x00007ffff5a4d958:.0x0000000000000000............|&lt;br/&gt;
0x00007ffff5a4d950:.0x0000000000000003............|&lt;br/&gt;
0x00007ffff5a4d948:.0x00000000ffb017d8............|&lt;br/&gt;
0x00007ffff5a4d940:.0x00007ffff0019250.&amp;lt;----------+&lt;br/&gt;
0x00007ffff5a4d938: 0x0000000000000003&lt;br/&gt;
0x00007ffff5a4d930: 0x00007fffdfe88234 return address&lt;br/&gt;
0x00007ffff5a4d928: 0x00000000bbaaddf9&lt;br/&gt;
0x00007ffff5a4d920: 0x00007ffff5a4d9f0 unextended_sp for #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sp for #0&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
[1] frame::java_abi&lt;br/&gt;
&lt;br/&gt;
[2] ELF ABI v2: 2.2.2. The Stack Frame: &lt;a href=&quot;https://openpowerfoundation.org/specifications/64bitelfabi/&quot;&gt;https://openpowerfoundation.org/specifications/64bitelfabi/&lt;/a&gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ELF ABI v1.9: &lt;a href=&quot;https://refspecs.linuxfoundation.org/ELF/ppc64/PPC-elf64abi.html#STACK&quot;&gt;https://refspecs.linuxfoundation.org/ELF/ppc64/PPC-elf64abi.html#STACK&lt;/a&gt;&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5098537">JDK-8306111</key>
            <summary>PPC64: RT call after thaw with exception requires larger ABI section</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rrich">Richard Reingruber</assignee>
                                    <reporter username="rrich">Richard Reingruber</reporter>
                        <labels>
                            <label>loom</label>
                            <label>oracle-triage-21</label>
                            <label>oraclejdk-na</label>
                            <label>ppc</label>
                    </labels>
                <created>Mon, 17 Apr 2023 07:45:52 -0700</created>
                <updated>Fri, 24 Jan 2025 00:44:15 -0800</updated>
                            <resolved>Wed, 19 Apr 2023 00:20:56 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14574981" author="dukebot" created="Wed, 19 Apr 2023 00:20:55 -0700"  >Changeset: 42b7260e&lt;br/&gt;
Author:    Richard Reingruber &amp;lt;&lt;a href=&apos;mailto:rrich@openjdk.org&apos;&gt;rrich@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-19 07:18:26 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/42b7260e8be02de78d82c6a4601519b9895826e9&quot;&gt;https://git.openjdk.org/jdk/commit/42b7260e8be02de78d82c6a4601519b9895826e9&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14574659" author="roboduke" created="Tue, 18 Apr 2023 06:17:46 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13505&quot;&gt;https://git.openjdk.org/jdk/pull/13505&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-18 07:54:29 +0000</comment>
                            <comment id="14574352" author="dlong" created="Mon, 17 Apr 2023 12:49:26 -0700"  >ILW = possible overwrite of live data; ppc64 and virtual threads; no workaround = MMH = P3</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5101617">JDK-8308695</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17024"><![CDATA[ppc]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i314ij:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17414"><![CDATA[b19]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>