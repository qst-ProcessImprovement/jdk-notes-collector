<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:19:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8309612] [REDO] JDK-8307153 JVMTI GetThreadState on carrier should return STATE_WAITING</title>
                <link>https://bugs.openjdk.org/browse/JDK-8309612</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK21 CI:&lt;br/&gt;
&lt;br/&gt;
serviceability/jvmti/vthread/SuspendResume1/SuspendResume1.java#default&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(6/419)----------&lt;br/&gt;
command: main -Djava.util.concurrent.ForkJoinPool.common.parallelism=1 -agentlib:SuspendResume1 SuspendResume1&lt;br/&gt;
reason: User specified action: run main/othervm/native/timeout=600 -Djava.util.concurrent.ForkJoinPool.common.parallelism=1 -agentlib:SuspendResume1 SuspendResume1 &lt;br/&gt;
started: Wed Jun 07 13:54:37 GMT 2023&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
finished: Wed Jun 07 13:55:06 GMT 2023&lt;br/&gt;
elapsed time (seconds): 28.409&lt;br/&gt;
----------configuration:(0/0)----------&lt;br/&gt;
----------System.out:(54/2938)----------&lt;br/&gt;
Agent init started&lt;br/&gt;
Agent init finished&lt;br/&gt;
&lt;br/&gt;
## Java: runIt: Starting threads&lt;br/&gt;
## Java: started thread: TestedThread0&lt;br/&gt;
## Java: started thread: TestedThread1&lt;br/&gt;
## Java: started thread: TestedThread2&lt;br/&gt;
## Java: started thread: TestedThread3&lt;br/&gt;
## Java: started thread: TestedThread4&lt;br/&gt;
## Java: started thread: TestedThread5&lt;br/&gt;
## Java: started thread: TestedThread6&lt;br/&gt;
## Java: started thread: TestedThread7&lt;br/&gt;
## Java: started thread: TestedThread8&lt;br/&gt;
## Java: started thread: TestedThread9&lt;br/&gt;
## Java: started thread: TestedThread10&lt;br/&gt;
## Java: started thread: TestedThread11&lt;br/&gt;
## Java: started thread: TestedThread12&lt;br/&gt;
## Java: started thread: TestedThread13&lt;br/&gt;
## Java: started thread: TestedThread14&lt;br/&gt;
## Java: started thread: TestedThread15&lt;br/&gt;
## Java: started thread: TestedThread16&lt;br/&gt;
## Java: started thread: TestedThread17&lt;br/&gt;
## Java: started thread: TestedThread18&lt;br/&gt;
## Java: started thread: TestedThread19&lt;br/&gt;
&lt;br/&gt;
## Java: runIt: testing Suspend/Resume&lt;br/&gt;
&lt;br/&gt;
## TestSuspendResume: Test carrier threads&lt;br/&gt;
&lt;br/&gt;
## Agent: thread[0] 0x7ff5d2faf9d8 ForkJoinPool-1-worker-1: state after suspend:  ALIVE WAITING WAITING_INDEFINITELY PARKED SUSPENDED (1049233)&lt;br/&gt;
## Agent: thread[0] 0x7ff5d2faf9d8 ForkJoinPool-1-worker-1: state after resume:  ALIVE WAITING WAITING_INDEFINITELY PARKED (657)&lt;br/&gt;
&lt;br/&gt;
## Agent: thread[1] 0x7ff5d2faf9e8 ForkJoinPool-1-worker-2: state after suspend:  ALIVE WAITING WAITING_INDEFINITELY PARKED SUSPENDED (1049233)&lt;br/&gt;
## Agent: thread[1] 0x7ff5d2faf9e8 ForkJoinPool-1-worker-2: state after resume:  ALIVE RUNNABLE (5)&lt;br/&gt;
&lt;br/&gt;
## Agent: thread[2] 0x7ff5d2faf9f0 ForkJoinPool-1-worker-3: state after suspend:  ALIVE WAITING WAITING_INDEFINITELY (145)&lt;br/&gt;
## Agent: FAILED: SuspendThread did not turn on SUSPENDED flag for carrier thread:&lt;br/&gt;
#  state:  ALIVE WAITING WAITING_INDEFINITELY (145)&lt;br/&gt;
## Agent: SuspendThread:  virtual thread of carrier thread has state:  ALIVE RUNNABLE (5)&lt;br/&gt;
FATAL ERROR in native method: check_resumed_state: expected SUSPENDED flag in thread state&lt;br/&gt;
	at SuspendResume1.TestSuspendResume(Native Method)&lt;br/&gt;
	at SuspendResume1.test_vthreads(SuspendResume1.java:115)&lt;br/&gt;
	at SuspendResume1.runIt(SuspendResume1.java:91)&lt;br/&gt;
	at SuspendResume1.run(SuspendResume1.java:82)&lt;br/&gt;
	at SuspendResume1.main(SuspendResume1.java:75)&lt;br/&gt;
	at java.lang.invoke.LambdaForm$DMH/0x0000000801002000.invokeStatic(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/LambdaForm$DMH)&lt;br/&gt;
	at java.lang.invoke.LambdaForm$MH/0x0000000801003400.invoke(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/LambdaForm$MH)&lt;br/&gt;
	at java.lang.invoke.Invokers$Holder.invokeExact_MT(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Invokers$Holder)&lt;br/&gt;
	at jdk.internal.reflect.DirectMethodHandleAccessor.invokeImpl(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/DirectMethodHandleAccessor.java:154)&lt;br/&gt;
	at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.lang.Thread.runWith(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Thread.java:1596)&lt;br/&gt;
	at java.lang.Thread.run(&lt;a href=&apos;mailto:java.base@21-ea&apos;&gt;java.base@21-ea&lt;/a&gt;/Thread.java:1583)&lt;br/&gt;
----------System.err:(0/0)----------&lt;br/&gt;
----------rerun:(35/7886)*----------</description>
                <environment></environment>
        <key id="5102682">JDK-8309612</key>
            <summary>[REDO] JDK-8307153 JVMTI GetThreadState on carrier should return STATE_WAITING</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sspitsyn">Serguei Spitsyn</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>hgupdate-sync</label>
                            <label>intermittent</label>
                            <label>regression</label>
                            <label>tier1</label>
                            <label>tier3</label>
                    </labels>
                <created>Wed, 7 Jun 2023 07:15:35 -0700</created>
                <updated>Tue, 4 Jul 2023 16:37:41 -0700</updated>
                            <resolved>Thu, 8 Jun 2023 23:13:47 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                                                            <comments>
                            <comment id="14591119" author="roboduke" created="Wed, 21 Jun 2023 11:12:00 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21/pull/43&quot;&gt;https://git.openjdk.org/jdk21/pull/43&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-21 02:07:33 +0000</comment>
                            <comment id="14588091" author="dukebot" created="Thu, 8 Jun 2023 23:13:46 -0700"  >Changeset: f91e9ba7&lt;br/&gt;
Author:    Serguei Spitsyn &amp;lt;&lt;a href=&apos;mailto:sspitsyn@openjdk.org&apos;&gt;sspitsyn@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-09 06:12:48 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/f91e9ba757f04983655c23542e06973805465249&quot;&gt;https://git.openjdk.org/jdk/commit/f91e9ba757f04983655c23542e06973805465249&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14587743" author="roboduke" created="Wed, 7 Jun 2023 11:51:42 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14366&quot;&gt;https://git.openjdk.org/jdk/pull/14366&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-07 18:42:34 +0000</comment>
                            <comment id="14587678" author="dcubed" created="Wed, 7 Jun 2023 08:20:24 -0700"  >Now that the fix for:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8307153&quot; title=&quot;JVMTI GetThreadState on carrier should return STATE_WAITING&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8307153&quot;&gt;&lt;strike&gt;JDK-8307153&lt;/strike&gt;&lt;/a&gt; JVMTI GetThreadState on carrier should return STATE_WAITING&lt;br/&gt;
&lt;br/&gt;
has been backed out, this bug has been morphed into a [REDO] bug&lt;br/&gt;
and the priority lowered from P2 -&amp;gt; P3 to match the original.</comment>
                            <comment id="14587663" author="dcubed" created="Wed, 7 Jun 2023 07:44:46 -0700"  >jdk-21+26-2304 - 2 failures&lt;br/&gt;
jdk-21+26-2305 - 5 failures&lt;br/&gt;
jdk-21+26-2306 - 2 failures</comment>
                            <comment id="14587656" author="dcubed" created="Wed, 7 Jun 2023 07:24:01 -0700"  >[~sspitsyn] - Looks like your fix for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8307153&quot; title=&quot;JVMTI GetThreadState on carrier should return STATE_WAITING&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8307153&quot;&gt;&lt;strike&gt;JDK-8307153&lt;/strike&gt;&lt;/a&gt; is failing a test&lt;br/&gt;
in Tier1 on at least 4 platforms. </comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5103828">JDK-8310594</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5104653">JDK-8311326</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5099795">JDK-8307153</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5103222">JDK-8310066</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5102684">JDK-8309614</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ti3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17317"><![CDATA[b02]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="372"><![CDATA[jvmti]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>