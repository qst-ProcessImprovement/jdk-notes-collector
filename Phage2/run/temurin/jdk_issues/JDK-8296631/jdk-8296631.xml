<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:44:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8296631] NSS tests failing on OL9 linux-aarch64 hosts</title>
                <link>https://bugs.openjdk.org/browse/JDK-8296631</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The tests look for NSS libraries on paths described in PKCS11Test.java, i.e.&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;osMap.put(&amp;quot;Linux-aarch64-64&amp;quot;, new String[] {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;/usr/lib/aarch64-linux-gnu/&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;/usr/lib/aarch64-linux-gnu/nss/&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;/usr/lib64/&amp;quot; });&lt;br/&gt;
&lt;br/&gt;
On OL8, not found. It can only pass without doing anything.&lt;br/&gt;
&lt;br/&gt;
On OL9, found. The tests go on and fail with&lt;br/&gt;
&lt;br/&gt;
java.io.IOException: load failed&lt;br/&gt;
	at jdk.crypto.cryptoki/sun.security.pkcs11.P11KeyStore.engineLoad(P11KeyStore.java:778)&lt;br/&gt;
	at java.base/java.security.KeyStore.load(KeyStore.java:1500)&lt;br/&gt;
	at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1016)&lt;br/&gt;
	at java.base/sun.security.tools.keytool.Main.run(Main.java:419)&lt;br/&gt;
	at java.base/sun.security.tools.keytool.Main.main(Main.java:412)&lt;br/&gt;
	at KeyToolTest.test(KeyToolTest.java:173)&lt;br/&gt;
	at KeyToolTest.test(KeyToolTest.java:141)&lt;br/&gt;
	at KeyToolTest.testOK(KeyToolTest.java:196)&lt;br/&gt;
	at KeyToolTest.testPKCS11(KeyToolTest.java:687)&lt;br/&gt;
	at KeyToolTest.main(KeyToolTest.java:1841)&lt;br/&gt;
	at NssTest.main(NssTest.java:52)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1591)&lt;br/&gt;
Caused by: javax.security.auth.login.LoginException&lt;br/&gt;
	at jdk.crypto.cryptoki/sun.security.pkcs11.SunPKCS11.login(SunPKCS11.java:1541)&lt;br/&gt;
	at jdk.crypto.cryptoki/sun.security.pkcs11.P11KeyStore.login(P11KeyStore.java:878)&lt;br/&gt;
	at jdk.crypto.cryptoki/sun.security.pkcs11.P11KeyStore.engineLoad(P11KeyStore.java:765)&lt;br/&gt;
	... 14 more&lt;br/&gt;
Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_TYPE_INVALID&lt;br/&gt;
	at jdk.crypto.cryptoki/sun.security.pkcs11.wrapper.PKCS11.C_Login(Native Method)&lt;br/&gt;
	at jdk.crypto.cryptoki/sun.security.pkcs11.SunPKCS11.login(SunPKCS11.java:1524)&lt;br/&gt;
	... 16 more</description>
                <environment></environment>
        <key id="5087115">JDK-8296631</key>
            <summary>NSS tests failing on OL9 linux-aarch64 hosts</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mpowers">Mark Powers</assignee>
                                    <reporter username="weijun">Weijun Wang</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk8u-fix-request</label>
                            <label>jdk8u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sust-test-stabilization</label>
                            <label>tier2</label>
                    </labels>
                <created>Tue, 8 Nov 2022 19:17:46 -0800</created>
                <updated>Tue, 9 Sep 2025 00:10:12 -0700</updated>
                            <resolved>Mon, 2 Oct 2023 15:45:57 -0700</resolved>
                                    <version>8</version>
                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>security-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                                                                                                            <comments>
                            <comment id="14780280" author="roboduke" created="Thu, 15 May 2025 01:02:54 -0700"  >[jdk8u-fix-request] Approval Request from Taizo Kurashige&lt;br/&gt;
Backporting this patch resolves NSS tests failure.&lt;br/&gt;
Original patch does not apply cleanly because some code does not exist in jdk8.&lt;br/&gt;
Test-only fix, low risk.&lt;br/&gt;
Pkcs11 tests on RHEL9 and GHA pass.</comment>
                            <comment id="14779871" author="roboduke" created="Wed, 14 May 2025 01:50:17 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk8u-dev/pull/654&quot;&gt;https://git.openjdk.org/jdk8u-dev/pull/654&lt;/a&gt;&lt;br/&gt;
Date: 2025-05-14 08:42:55 +0000</comment>
                            <comment id="14719384" author="roboduke" created="Tue, 5 Nov 2024 17:20:19 -0800"  >[jdk11u-fix-request] Approval Request from Taizo Kurashige&lt;br/&gt;
Backporting this patch resolves NSS tests failure.&lt;br/&gt;
Original patch does not apply cleanly because some code does not exist in jdk11 and some code exists just in jdk11.&lt;br/&gt;
Test-only fix, low risk.&lt;br/&gt;
Pkcs11 tests on RHEL9 and GHA pass.</comment>
                            <comment id="14714357" author="roboduke" created="Wed, 16 Oct 2024 22:40:23 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2955&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2955&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-17 05:35:25 +0000</comment>
                            <comment id="14643106" author="roboduke" created="Tue, 23 Jan 2024 07:26:55 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2170&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2170&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-23 15:21:27 +0000</comment>
                            <comment id="14643094" author="goetz" created="Tue, 23 Jan 2024 07:19:35 -0800"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.11-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport. &lt;br/&gt;
Pkcs11 tests pass.</comment>
                            <comment id="14637044" author="goetz" created="Wed, 3 Jan 2024 00:31:07 -0800"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.3-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Pkcs11 tests pass.</comment>
                            <comment id="14637039" author="roboduke" created="Wed, 3 Jan 2024 00:24:00 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/114&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/114&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-03 08:18:23 +0000</comment>
                            <comment id="14615322" author="dukebot" created="Mon, 2 Oct 2023 15:45:56 -0700"  >Changeset: 6e1aacdf&lt;br/&gt;
Author:    Mark Powers &amp;lt;&lt;a href=&apos;mailto:mpowers@openjdk.org&apos;&gt;mpowers@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Valerie Peng &amp;lt;&lt;a href=&apos;mailto:valeriep@openjdk.org&apos;&gt;valeriep@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-10-02 22:43:48 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/6e1aacdfba5a32f7b071eea8039888d275827e83&quot;&gt;https://git.openjdk.org/jdk/commit/6e1aacdfba5a32f7b071eea8039888d275827e83&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14609860" author="roboduke" created="Fri, 8 Sep 2023 12:46:57 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15644&quot;&gt;https://git.openjdk.org/jdk/pull/15644&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-08 19:41:47 +0000</comment>
                            <comment id="14609850" author="dcubed" created="Fri, 8 Sep 2023 11:39:40 -0700"  >It&amp;#39;s not your fault. I was tracking this bug since I ran into it during one of my&lt;br/&gt;
GK sweeps and I misunderstood the solution.</comment>
                            <comment id="14609849" author="JIRAUSER19900" created="Fri, 8 Sep 2023 11:35:12 -0700"  >I plan to create a PR this afternoon. Sorry for the confusion.&lt;br/&gt;
</comment>
                            <comment id="14609848" author="dcubed" created="Fri, 8 Sep 2023 11:29:57 -0700"  >I may have misunderstood. I didn&amp;#39;t think there was a code fix. I thought this&lt;br/&gt;
was resolved by making sure that various test machines had the proper&lt;br/&gt;
libraries installed.&lt;br/&gt;
&lt;br/&gt;
Update: I didn&amp;#39;t think there was a code fix because there&amp;#39;s no PR link.</comment>
                            <comment id="14609839" author="rhalade" created="Fri, 8 Sep 2023 11:18:12 -0700"  >JDK 8u ProblemList will be updated when fix is backported to JDK 8u.</comment>
                            <comment id="14609837" author="JIRAUSER19900" created="Fri, 8 Sep 2023 11:15:47 -0700"  >In the first sub-task, a change was made to open/test/jdk/sun/security/pkcs11/PKCS11Test.java to prevent the test from running. I reverted that change. The second subtask refers, to a ProblemList in jdk8u.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;ll ask someone in my group about how to proceed since I&amp;#39;m not familiar with this part of the process.</comment>
                            <comment id="14609821" author="dcubed" created="Fri, 8 Sep 2023 10:22:57 -0700"  >Please find the details in the two sub-tasks. </comment>
                            <comment id="14609820" author="JIRAUSER19900" created="Fri, 8 Sep 2023 10:11:58 -0700"  >I don&amp;#39;t see this bug in open/test/jdk/ProblemList.txt. Is there anotherProblemsList?</comment>
                            <comment id="14609809" author="dcubed" created="Fri, 8 Sep 2023 09:25:21 -0700"  >Are you planning to use this bug to remove tests from the ProblemList?</comment>
                            <comment id="14609804" author="JIRAUSER19900" created="Fri, 8 Sep 2023 09:15:33 -0700"  >Down to 0 failures. My work is done.</comment>
                            <comment id="14607145" author="JIRAUSER19900" created="Mon, 28 Aug 2023 15:33:34 -0700"  >I tested the fix on phoenix-1 - &amp;quot;Oracle Linux Server release 7.9&amp;quot; x86 with NSS version 3.531.&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8232153&quot; title=&quot;sun/security/pkcs11/Secmod/AddTrustedCert.java failed with Linux built-in NSS libs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8232153&quot;&gt;&lt;strike&gt;JDK-8232153&lt;/strike&gt;&lt;/a&gt; passes.</comment>
                            <comment id="14606965" author="JIRAUSER19900" created="Mon, 28 Aug 2023 08:57:45 -0700"  >I&amp;#39;ll test my fix on x86 and see if it fixes &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8232153&quot; title=&quot;sun/security/pkcs11/Secmod/AddTrustedCert.java failed with Linux built-in NSS libs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8232153&quot;&gt;&lt;strike&gt;JDK-8232153&lt;/strike&gt;&lt;/a&gt;. I&amp;#39;ve not seen the CKR_ATTRIBUTE_READ_ONLY failure reported by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8232153&quot; title=&quot;sun/security/pkcs11/Secmod/AddTrustedCert.java failed with Linux built-in NSS libs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8232153&quot;&gt;&lt;strike&gt;JDK-8232153&lt;/strike&gt;&lt;/a&gt;. I recall seeing a NSS initialization failure instead.</comment>
                            <comment id="14606680" author="rhalade" created="Fri, 25 Aug 2023 10:39:44 -0700"  >[~mpowers] &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8232153&quot; title=&quot;sun/security/pkcs11/Secmod/AddTrustedCert.java failed with Linux built-in NSS libs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8232153&quot;&gt;&lt;strike&gt;JDK-8232153&lt;/strike&gt;&lt;/a&gt; looks to be duplicate of this bug. Can you please check so &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8232153&quot; title=&quot;sun/security/pkcs11/Secmod/AddTrustedCert.java failed with Linux built-in NSS libs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8232153&quot;&gt;&lt;strike&gt;JDK-8232153&lt;/strike&gt;&lt;/a&gt; can be closed with this fix?</comment>
                            <comment id="14605873" author="JIRAUSER19900" created="Tue, 22 Aug 2023 12:41:43 -0700"  >The default database for Red Hat Linux and its derivatives, which includes Oracle Linux, has been changed to SQLite. The tests need to be modified to use this database instead of the Berkley DB.</comment>
                            <comment id="14605407" author="JIRAUSER19900" created="Mon, 21 Aug 2023 11:25:05 -0700"  >Filed Linux bug: 35729140 - /usr/lib64/libnssdbm3.so is missing from the installation image.</comment>
                            <comment id="14605347" author="JIRAUSER19900" created="Mon, 21 Aug 2023 08:20:57 -0700"  >OL9 is missing libnssdbm3.so. How did that happen?</comment>
                            <comment id="14573055" author="pkumaraswamy" created="Tue, 11 Apr 2023 06:23:10 -0700"  >The reported issue is observed in Solaris Sparc machine as well with JDK11u hence updating the affected version </comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5116166">JDK-8321383</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118433">JDK-8323303</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119115">JDK-8323909</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5120086">JDK-8324748</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5121174">JDK-8325608</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5157962">JDK-8356398</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5164194">JDK-8361875</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5170019">JDK-8366943</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                                        </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5001827">JDK-8232153</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5087152">JDK-8296675</subtask>
                                                              <subtask id="5096404">JDK-8304322</subtask>
                                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z6mj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17354"><![CDATA[b18]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="195"><![CDATA[java.security]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>