<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:18:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8296322] javac: use methods to manage parser mode flags</title>
                <link>https://bugs.openjdk.org/browse/JDK-8296322</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The existing JavacParser uses bit operations to manage mode flags so you end up with code that looks like:&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if (token.kind == LT &amp;amp;&amp;amp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(mode &amp;amp; TYPE) != 0 &amp;amp;&amp;amp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(mode &amp;amp; NOPARAMS) == 0) {&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
when &lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if (token.kind == LT &amp;amp;&amp;amp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;isMode(TYPE) &amp;amp;&amp;amp;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;!isMode(NOPARAMS)) {&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
might be easier to read.&lt;br/&gt;
&lt;br/&gt;
The task is to replace&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/** When terms are parsed, the mode determines which is expected:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = EXPR        : an expression&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = TYPE        : a type&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = NOPARAMS    : no parameters allowed for type&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = TYPEARG     : type argument&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode |= NOLAMBDA   : lambdas are not allowed&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int EXPR = 0x1;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int TYPE = 0x2;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int NOPARAMS = 0x4;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int TYPEARG = 0x8;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int DIAMOND = 0x10;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int NOLAMBDA = 0x20;&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
with &lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/** When terms are parsed, the mode determines which is expected:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = EXPR        : an expression&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = TYPE        : a type&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = NOPARAMS    : no parameters allowed for type&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode = TYPEARG     : type argument&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*     mode |= NOLAMBDA   : lambdas are not allowed&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;*/&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int EXPR          = 1 &amp;lt;&amp;lt; 0;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int TYPE          = 1 &amp;lt;&amp;lt; 1;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int NOPARAMS      = 1 &amp;lt;&amp;lt; 2;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int TYPEARG       = 1 &amp;lt;&amp;lt; 3;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int DIAMOND       = 1 &amp;lt;&amp;lt; 4;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected static final int NOLAMBDA      = 1 &amp;lt;&amp;lt; 5;&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected void setMode(int mode) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;this.mode = mode;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected void setLastMode(int mode) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;lastmode = mode;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected boolean isMode(int mode) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return (this.mode &amp;amp; mode) != 0;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;protected boolean wasTypeMode() {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return (lastmode &amp;amp; TYPE) != 0;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
```</description>
                <environment></environment>
        <key id="5086743">JDK-8296322</key>
            <summary>javac: use methods to manage parser mode flags</summary>
                <type id="3" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14718&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jlaskey">Jim Laskey</assignee>
                                    <reporter username="jlaskey">Jim Laskey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Nov 2022 10:39:34 -0700</created>
                <updated>Wed, 15 Feb 2023 23:18:49 -0800</updated>
                            <resolved>Fri, 10 Feb 2023 16:25:36 -0800</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14559263" author="dukebot" created="Fri, 10 Feb 2023 16:25:33 -0800"  >Changeset: 98e98e90&lt;br/&gt;
Author:    Jim Laskey &amp;lt;&lt;a href=&apos;mailto:jlaskey@openjdk.org&apos;&gt;jlaskey@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-11 00:24:24 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/98e98e9049be3a93ddf82d5d4d3044e0f1e4a640&quot;&gt;https://git.openjdk.org/jdk/commit/98e98e9049be3a93ddf82d5d4d3044e0f1e4a640&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14559262" author="jlaskey" created="Fri, 10 Feb 2023 16:22:02 -0800"  >Job: mach5-one-jdk-21+10-725-tier1-20230211-0031-41974655&lt;br/&gt;
&lt;br/&gt;
BuildId: jdk-21+10-725&lt;br/&gt;
&lt;br/&gt;
Origin: Jenkins&lt;br/&gt;
&lt;br/&gt;
No failed tests&lt;br/&gt;
&lt;br/&gt;
Tasks Summary&lt;br/&gt;
&lt;br/&gt;
KILLED: 0&lt;br/&gt;
NA: 0&lt;br/&gt;
FAILED: 0&lt;br/&gt;
PASSED: 127&lt;br/&gt;
HARNESS_ERROR: 0&lt;br/&gt;
NOTHING_TO_RUN: 0&lt;br/&gt;
UNABLE_TO_RUN: 0&lt;br/&gt;
EXECUTED_WITH_FAILURE: 0&lt;br/&gt;
Change Set&lt;br/&gt;
&lt;br/&gt;
(1) 8296322 javac: use methods to manage parser mode flags&lt;br/&gt;
&amp;nbsp;&amp;nbsp;changeset: 98e98e9049be3a93ddf82d5d4d3044e0f1e4a640&lt;br/&gt;
&amp;nbsp;&amp;nbsp;user: jlaskey&lt;br/&gt;
&amp;nbsp;&amp;nbsp;date: 2023-02-11T00:24:24.000+00:00&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Reviewed-by: mcimadamore&lt;br/&gt;
&lt;br/&gt;
Job: mach5-one-jdk-21+10-725-tier2-20230211-0116-41978118&lt;br/&gt;
&lt;br/&gt;
BuildId: jdk-21+10-725&lt;br/&gt;
&lt;br/&gt;
Origin: Jenkins&lt;br/&gt;
&lt;br/&gt;
Failed tests: showing 1 out of 1&lt;br/&gt;
&lt;br/&gt;
Test	Platform	Description&lt;br/&gt;
sun/security/ssl/SSLSocketImpl/ReuseAddr.java	macosx-x64	Exception: java.net.BindException: Address already in use&lt;br/&gt;
Tasks Summary&lt;br/&gt;
&lt;br/&gt;
KILLED: 0&lt;br/&gt;
NA: 0&lt;br/&gt;
FAILED: 0&lt;br/&gt;
PASSED: 198&lt;br/&gt;
HARNESS_ERROR: 0&lt;br/&gt;
NOTHING_TO_RUN: 0&lt;br/&gt;
UNABLE_TO_RUN: 0&lt;br/&gt;
EXECUTED_WITH_FAILURE: 1&lt;br/&gt;
Test&lt;br/&gt;
&lt;br/&gt;
1 Executed with failure&lt;br/&gt;
&lt;br/&gt;
open_test_jdk_tier2_part1-macosx-x64-167 Results: total: 1401, passed: 1400, failed: 1, skipped: 0.&lt;br/&gt;
Change Set&lt;br/&gt;
&lt;br/&gt;
(1) 8296322 javac: use methods to manage parser mode flags&lt;br/&gt;
&amp;nbsp;&amp;nbsp;changeset: 98e98e9049be3a93ddf82d5d4d3044e0f1e4a640&lt;br/&gt;
&amp;nbsp;&amp;nbsp;user: jlaskey&lt;br/&gt;
&amp;nbsp;&amp;nbsp;date: 2023-02-11T00:24:24.000+00:00&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Reviewed-by: mcimadamore&lt;br/&gt;
&lt;br/&gt;
Failed tests: showing 1 out of 1&lt;br/&gt;
&lt;br/&gt;
Test	Platform	Description&lt;br/&gt;
sun/security/ssl/SSLSocketImpl/ReuseAddr.java	macosx-x64	Exception: java.net.BindException: Address already in use&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Job: mach5-one-jdk-21+10-725-tier3-20230211-0255-41981669&lt;br/&gt;
&lt;br/&gt;
BuildId: jdk-21+10-725&lt;br/&gt;
&lt;br/&gt;
Origin: Jenkins&lt;br/&gt;
&lt;br/&gt;
No failed tests&lt;br/&gt;
&lt;br/&gt;
Tasks Summary&lt;br/&gt;
&lt;br/&gt;
KILLED: 0&lt;br/&gt;
NA: 0&lt;br/&gt;
FAILED: 0&lt;br/&gt;
PASSED: 363&lt;br/&gt;
HARNESS_ERROR: 0&lt;br/&gt;
NOTHING_TO_RUN: 0&lt;br/&gt;
UNABLE_TO_RUN: 0&lt;br/&gt;
EXECUTED_WITH_FAILURE: 0&lt;br/&gt;
Change Set&lt;br/&gt;
&lt;br/&gt;
(1) 8296322 javac: use methods to manage parser mode flags&lt;br/&gt;
&amp;nbsp;&amp;nbsp;changeset: 98e98e9049be3a93ddf82d5d4d3044e0f1e4a640&lt;br/&gt;
&amp;nbsp;&amp;nbsp;user: jlaskey&lt;br/&gt;
&amp;nbsp;&amp;nbsp;date: 2023-02-11T00:24:24.000+00:00&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Reviewed-by: mcimadamore</comment>
                            <comment id="14534866" author="roboduke" created="Fri, 4 Nov 2022 05:42:44 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/10981&quot;&gt;https://git.openjdk.org/jdk/pull/10981&lt;/a&gt;&lt;br/&gt;
Date: 2022-11-04 12:33:44 +0000</comment>
                    </comments>
                    <attachments>
                            <attachment id="101414" name="JavacParser.patch" size="24615" author="jlaskey" created="Thu, 3 Nov 2022 10:48:44 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z4bv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17338"><![CDATA[b10]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="212"><![CDATA[javac]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>