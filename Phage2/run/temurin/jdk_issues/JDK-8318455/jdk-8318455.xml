<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:43:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8318455] Fix the compiler/sharedstubs/SharedTrampolineTest.java and SharedStubToInterpTest.java</title>
                <link>https://bugs.openjdk.org/browse/JDK-8318455</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Said tests try to control the compilers used via arguments passed to subprocesses&amp;#39; they create. The &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8314838&quot; title=&quot;3 compiler tests ignore vm flags&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8314838&quot;&gt;&lt;strike&gt;JDK-8314838&lt;/strike&gt;&lt;/a&gt; added support for additional forwarding of the JTReg javaoptions to the subprocesses, but broke original arguments passing. They are now passed to the enclosing driver and simply ignored by ProcessTools.createTestJvm. We need to fix that.&lt;br/&gt;
&lt;br/&gt;
==== Original description ===&lt;br/&gt;
&lt;br/&gt;
The following test failed in the JDK22 CI:&lt;br/&gt;
&lt;br/&gt;
compiler/sharedstubs/SharedTrampolineTest.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
#section:driver&lt;br/&gt;
----------messages:(7/322)----------&lt;br/&gt;
command: driver compiler.sharedstubs.SharedTrampolineTest -XX:-TieredCompilation&lt;br/&gt;
reason: User specified action: run driver compiler.sharedstubs.SharedTrampolineTest -XX:-TieredCompilation &lt;br/&gt;
started: Wed Oct 18 05:13:58 UTC 2023&lt;br/&gt;
Mode: agentvm&lt;br/&gt;
Agent id: 8&lt;br/&gt;
finished: Wed Oct 18 05:13:58 UTC 2023&lt;br/&gt;
elapsed time (seconds): 0.477&lt;br/&gt;
----------configuration:(14/1946)----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
----------System.out:(652/72127)----------&lt;br/&gt;
Command line: [/opt/mach5/mesos/work_dir/jib-master/install/jdk-22+20-1558/linux-aarch64-debug.jdk/jdk-22/fastdebug/bin/java -cp /opt/mach5/mesos/work_dir/slaves/afbc6042-3a24-4198-9369-18c663a3f74c-S24959/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/5d1ce7d2-6bca-425c-b361-caf1f9b9c48e/runs/3d6b4ec7-b8cd-45f3-a366-a5c3551d72d2/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_not_fast_compiler/classes/3/compiler/sharedstubs/SharedTrampolineTest.d:/opt/mach5/mesos/work_dir/jib-master/install/jdk-22+20-1558/src.full/open/test/hotspot/jtreg/compiler/sharedstubs:/opt/mach5/mesos/work_dir/slaves/afbc6042-3a24-4198-9369-18c663a3f74c-S24959/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/5d1ce7d2-6bca-425c-b361-caf1f9b9c48e/runs/3d6b4ec7-b8cd-45f3-a366-a5c3551d72d2/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_not_fast_compiler/classes/3/test/lib:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/jtreg.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/junit-platform-console-standalone-1.9.2.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/testng-7.3.0.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/jcommander-1.82.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/guice-5.1.0.jar -XX:MaxRAMPercentage=6.25 -Dtest.boot.jdk=/opt/mach5/mesos/work_dir/jib-master/install/jdk/21/35/bundles/linux-aarch64/jdk-21_linux-aarch64_bin.tar.gz/jdk-21 -Djava.io.tmpdir=/opt/mach5/mesos/work_dir/slaves/afbc6042-3a24-4198-9369-18c663a3f74c-S24959/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/5d1ce7d2-6bca-425c-b361-caf1f9b9c48e/runs/3d6b4ec7-b8cd-45f3-a366-a5c3551d72d2/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_not_fast_compiler/tmp -XX:+UnlockDiagnosticVMOptions -XX:TieredStopAtLevel=3 -XX:+StressLoopInvariantCodeMotion -XX:+StressRangeCheckElimination -XX:+StressLinearScan -XX:+UnlockDiagnosticVMOptions -Xbatch -XX:+PrintRelocations -XX:CompileCommand=compileonly,compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest::test -XX:CompileCommand=dontinline,compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest::test -XX:CompileCommand=dontinline,compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest::log compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest a ]&lt;br/&gt;
[2023-10-18T05:13:58.312009164Z] Gathering output for process 3702843&lt;br/&gt;
[2023-10-18T05:13:58.319046034Z] Waiting for completion for process 3702843&lt;br/&gt;
[2023-10-18T05:13:58.550224360Z] Waiting for completion finished for process 3702843&lt;br/&gt;
CompileCommand: compileonly compiler/sharedstubs/SharedTrampolineTest$StaticMethodTest.test bool compileonly = true&lt;br/&gt;
CompileCommand: dontinline compiler/sharedstubs/SharedTrampolineTest$StaticMethodTest.test bool dontinline = true&lt;br/&gt;
CompileCommand: dontinline compiler/sharedstubs/SharedTrampolineTest$StaticMethodTest.log bool dontinline = true&lt;br/&gt;
Compiled method (n/a) 103    1     n 0       java.lang.invoke.MethodHandle::linkToStatic(LLLLLL)L (native)&lt;br/&gt;
&amp;nbsp;total in heap  [0x0000ffff6ccd1610,0x0000ffff6ccd1830] = 544&lt;br/&gt;
&amp;nbsp;relocation     [0x0000ffff6ccd1778,0x0000ffff6ccd1798] = 32&lt;br/&gt;
&amp;nbsp;main code      [0x0000ffff6ccd17c0,0x0000ffff6ccd182c] = 108&lt;br/&gt;
&amp;nbsp;stub code      [0x0000ffff6ccd182c,0x0000ffff6ccd1830] = 4&lt;br/&gt;
relocations:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1778: 7c04800d10c00000ffff3805&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccd1782&apos;&gt;relocInfo@0x0000ffff6ccd1782&lt;/a&gt; [type=7(external_word) addr=0x0000ffff6ccd17d4 offset=20 data={800d10c00000ffff}] | [target=0x0000ffff800d10c0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1784: 7c04800d10c00000ffff3805&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccd178e&apos;&gt;relocInfo@0x0000ffff6ccd178e&lt;/a&gt; [type=7(external_word) addr=0x0000ffff6ccd17e8 offset=20 data={800d10c00000ffff}] | [target=0x0000ffff800d10c0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1790: 300e&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccd1790&apos;&gt;relocInfo@0x0000ffff6ccd1790&lt;/a&gt; [type=6(runtime_call) addr=0x0000ffff6ccd1820 offset=56] | [destination=0x0000ffff6cb7bd40]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1792: 0000&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccd1792&apos;&gt;relocInfo@0x0000ffff6ccd1792&lt;/a&gt; [type=0(none) addr=0x0000ffff6ccd1820 offset=0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1794: 0000&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccd1794&apos;&gt;relocInfo@0x0000ffff6ccd1794&lt;/a&gt; [type=0(none) addr=0x0000ffff6ccd1820 offset=0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1796: 0000&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccd1796&apos;&gt;relocInfo@0x0000ffff6ccd1796&lt;/a&gt; [type=0(none) addr=0x0000ffff6ccd1820 offset=0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccd1798: &lt;br/&gt;
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - &lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccdc0fa&apos;&gt;relocInfo@0x0000ffff6ccdc0fa&lt;/a&gt; [type=12(metadata) addr=0x0000ffff6ccdd99c offset=4 data=33] | [metadata_addr=0x0000ffff6ccddb48 *=0x0000000000000000 offset=0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccdc0fc: 300b&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccdc0fc&apos;&gt;relocInfo@0x0000ffff6ccdc0fc&lt;/a&gt; [type=6(runtime_call) addr=0x0000ffff6ccdd9c8 offset=44] | [destination=0x0000ffff6ccbf9c0]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccdc0fe: 3007&lt;br/&gt;
&lt;a href=&apos;mailto:relocInfo@0x0000ffff6ccdc0fe&apos;&gt;relocInfo@0x0000ffff6ccdc0fe&lt;/a&gt; [type=6(runtime_call) addr=0x0000ffff6ccdd9e4 offset=28] | [destination=0x0000ffff6cc09e40]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@0x0000ffff6ccdc100: &lt;br/&gt;
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - &lt;br/&gt;
&lt;br/&gt;
----------System.err:(12/769)----------&lt;br/&gt;
java.lang.RuntimeException: No runtime trampoline stubs reused: distinct 10, in total 10&lt;br/&gt;
	at compiler.sharedstubs.SharedTrampolineTest.checkOutput(SharedTrampolineTest.java:86)&lt;br/&gt;
	at compiler.sharedstubs.SharedTrampolineTest.runTest(SharedTrampolineTest.java:69)&lt;br/&gt;
	at compiler.sharedstubs.SharedTrampolineTest.main(SharedTrampolineTest.java:75)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1570)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.RuntimeException&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
result: Failed. Execution failed: `main&amp;#39; threw exception: java.lang.RuntimeException: No runtime trampoline stubs reused: distinct 10, in total 10</description>
                <environment></environment>
        <key id="5112767">JDK-8318455</key>
            <summary>Fix the compiler/sharedstubs/SharedTrampolineTest.java and SharedStubToInterpTest.java</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enikitin">Evgeny Nikitin</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>oracle-triage-22</label>
                            <label>problemlist</label>
                            <label>tier5</label>
                    </labels>
                <created>Wed, 18 Oct 2023 07:52:02 -0700</created>
                <updated>Wed, 9 Oct 2024 23:33:16 -0700</updated>
                            <resolved>Tue, 24 Oct 2023 02:17:58 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                                                            <comments>
                            <comment id="14655724" author="roboduke" created="Fri, 8 Mar 2024 00:24:22 -0800"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Fixes the test when running with C1. Does not apply cleanly, because the relevant problemlist change is not applicable to jdk21u. Risk is low, test-only fix.</comment>
                            <comment id="14655472" author="roboduke" created="Thu, 7 Mar 2024 04:09:24 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/339&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/339&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-07 12:04:51 +0000</comment>
                            <comment id="14620531" author="dukebot" created="Tue, 24 Oct 2023 02:17:57 -0700"  >Changeset: 4a16d111&lt;br/&gt;
Author:    Evgeny Nikitin &amp;lt;&lt;a href=&apos;mailto:enikitin@openjdk.org&apos;&gt;enikitin@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Tobias Hartmann &amp;lt;&lt;a href=&apos;mailto:thartmann@openjdk.org&apos;&gt;thartmann@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-10-24 09:16:10 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/4a16d111b16e556f904fb80075631b8439a9482e&quot;&gt;https://git.openjdk.org/jdk/commit/4a16d111b16e556f904fb80075631b8439a9482e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14619648" author="roboduke" created="Thu, 19 Oct 2023 13:32:16 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16277&quot;&gt;https://git.openjdk.org/jdk/pull/16277&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-19 20:23:18 +0000</comment>
                            <comment id="14619306" author="thartmann" created="Wed, 18 Oct 2023 11:57:37 -0700"  >ILW = Test fails (test bug), single test on tier5 with TieredStopAtLevel=3, no workaround = MLH = P4</comment>
                            <comment id="14619305" author="thartmann" created="Wed, 18 Oct 2023 11:55:25 -0700"  >The problem is -XX:TieredStopAtLevel=3, I think the test simply only works with C2. If I understand correctly, the intention of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8314838&quot; title=&quot;3 compiler tests ignore vm flags&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8314838&quot;&gt;&lt;strike&gt;JDK-8314838&lt;/strike&gt;&lt;/a&gt; was to pass -XX:-TieredCompilation to the spawned process but that does not work:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;compiler.sharedstubs.SharedTrampolineTest -XX:-TieredCompilation&lt;br/&gt;
----------System.out:(654/72209)----------&lt;br/&gt;
Command line: [/opt/mach5/mesos/work_dir/jib-master/install/jdk-22+20-1570/linux-aarch64-debug.jdk/jdk-22/fastdebug/bin/java -cp /opt/mach5/mesos/work_dir/slaves/afbc6042-3a24-4198-9369-18c663a3f74c-S24711/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/5efbc63a-7ea3-441f-88f3-54f90aa15b2e/runs/dbd1e543-73ab-4443-9f8f-fc6d2df1b74d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_compiler_sharedstubs_SharedTrampolineTest_java/classes/0/compiler/sharedstubs/SharedTrampolineTest.d:/opt/mach5/mesos/work_dir/jib-master/install/jdk-22+20-1570/src.full/open/test/hotspot/jtreg/compiler/sharedstubs:/opt/mach5/mesos/work_dir/slaves/afbc6042-3a24-4198-9369-18c663a3f74c-S24711/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/5efbc63a-7ea3-441f-88f3-54f90aa15b2e/runs/dbd1e543-73ab-4443-9f8f-fc6d2df1b74d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_compiler_sharedstubs_SharedTrampolineTest_java/classes/0/test/lib:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/jtreg.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/junit-platform-console-standalone-1.9.2.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/testng-7.3.0.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/jcommander-1.82.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.3.1/1/bundles/jtreg-7.3.1+1.zip/jtreg/lib/guice-5.1.0.jar -XX:MaxRAMPercentage=6.25 -Dtest.boot.jdk=/opt/mach5/mesos/work_dir/jib-master/install/jdk/21/35/bundles/linux-aarch64/jdk-21_linux-aarch64_bin.tar.gz/jdk-21 -Djava.io.tmpdir=/opt/mach5/mesos/work_dir/slaves/afbc6042-3a24-4198-9369-18c663a3f74c-S24711/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/5efbc63a-7ea3-441f-88f3-54f90aa15b2e/runs/dbd1e543-73ab-4443-9f8f-fc6d2df1b74d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_compiler_sharedstubs_SharedTrampolineTest_java/tmp -XX:+UnlockDiagnosticVMOptions -XX:TieredStopAtLevel=3 -XX:+UnlockDiagnosticVMOptions -Xbatch -XX:+PrintRelocations -XX:CompileCommand=compileonly,compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest::test -XX:CompileCommand=dontinline,compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest::test -XX:CompileCommand=dontinline,compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest::log compiler.sharedstubs.SharedTrampolineTest$StaticMethodTest a ]&lt;br/&gt;
&lt;br/&gt;
Evgeny, could you please have a look?</comment>
                            <comment id="14619231" author="dcubed" created="Wed, 18 Oct 2023 08:11:46 -0700"  >compiler/sharedstubs/SharedTrampolineTest.java has failed in three Tier5 job sets&lt;br/&gt;
in a row. The test task name is tier5-comp-stress-comp-c1-stress.&lt;br/&gt;
&lt;br/&gt;
It looks like the following change moved this test task from Tier10 -&amp;gt; Tier5:&lt;br/&gt;
&lt;br/&gt;
JDK-8318056 Move compiler tiers.stress testing from tier10 to tier5&lt;br/&gt;
&lt;br/&gt;
And in Tier10 only linux-x64-debug was tested:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// C1 stress test with randomizations&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;label: &amp;quot;stress-comp-c1-stress&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;tests: stressTests,&lt;br/&gt;
-               builds: [bp.linux_x64_debug], // C1 takes too long&lt;br/&gt;
+              builds: [bp.any_x64_debug, bp.any_aarch64_debug],&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;jvmargs: [[&amp;quot;-XX:+UnlockDiagnosticVMOptions&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;-XX:TieredStopAtLevel=3&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;quot;-XX:+StressLoopInvariantCodeMotion&amp;quot;,&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Update: I was trying to figure out why we only see&lt;br/&gt;
compiler/sharedstubs/SharedTrampolineTest.java on aarch64 platforms&lt;br/&gt;
and not on x64 platforms. I just couldn&amp;#39;t see anything wrong with the&lt;br/&gt;
above task logic and it turns out that logic is just fine. The test task&lt;br/&gt;
does indeed execute on any X64 and any aarch64.&lt;br/&gt;
&lt;br/&gt;
However, compiler/sharedstubs/SharedTrampolineTest.java has these&lt;br/&gt;
at-requires:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;* @requires vm.opt.TieredCompilation == null&lt;br/&gt;
&amp;nbsp;* @requires os.arch==&amp;quot;aarch64&amp;quot; | os.arch==&amp;quot;riscv64&amp;quot;&lt;br/&gt;
&amp;nbsp;* @requires vm.debug&lt;br/&gt;
&lt;br/&gt;
so this test doesn&amp;#39;t execute on X64.&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5123754">JDK-8327771</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5112787">JDK-8318471</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19300"><![CDATA[aarch64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33jkb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17412"><![CDATA[b21]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>