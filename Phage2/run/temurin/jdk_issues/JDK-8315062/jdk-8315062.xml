<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:11:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8315062] [GHA] get-bootjdk action should return the abolute path</title>
                <link>https://bugs.openjdk.org/browse/JDK-8315062</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We are running hotspot:tier2 on github action(GHA).  I have difficulty to execute this unit test on GHA: &lt;br/&gt;
Runtime/cds/appcds/dynamicArchive/TestAutoCreateSharedArchiveUpgrade.java&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
It&amp;#39;s fine to run it on my local linux environment. If we run it locally, the building script will assign the right java property for me and it&amp;#39;s an absolute path. &lt;br/&gt;
&amp;nbsp;&lt;br/&gt;
$make test TEST=&amp;quot;runtime/cds/appcds/dynamicArchive/TestAutoCreateSharedArchiveUpgrade.java&amp;quot;  CONF=linux-x86_64-server-fastdebug&lt;br/&gt;
&lt;br/&gt;
In GHA, the java property is gained from  environment variable BOOT_JDK. &lt;br/&gt;
BOOT_JDK=${{ steps.bootjdk.outputs.path }}&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/.github/workflows/test.yml#L156&quot;&gt;https://github.com/openjdk/jdk/blob/master/.github/workflows/test.yml#L156&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
it&amp;#39;s from a custom action called &amp;#39;get-bootjdk&amp;#39;.  it is a relative path. &lt;br/&gt;
&lt;br/&gt;
Unit test TestAutoCreateSharedArchiveUpgrade.java will have problem to find the  executable if BOOT_JDK is a relative path. &lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/test/hotspot/jtreg/runtime/cds/appcds/dynamicArchive/TestAutoCreateSharedArchiveUpgrade.java#L111C13-L111C19&quot;&gt;https://github.com/openjdk/jdk/blob/master/test/hotspot/jtreg/runtime/cds/appcds/dynamicArchive/TestAutoCreateSharedArchiveUpgrade.java#L111C13-L111C19&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
If we don&amp;#39;t want to change action &amp;#39;get-bootjdk&amp;#39;, there are 2 alternatives:&lt;br/&gt;
&lt;br/&gt;
1) we hack environment variable &amp;#39;PATH&amp;#39;.  Not only it&amp;#39;s not portable, we will have difficulty to deal with &amp;#39;jtreg&amp;#39;.  I found it always changes CWD and reset  to PATH=/bin:/usr/bin:/usr/sbin&lt;br/&gt;
&lt;br/&gt;
2) change task definition.  change BOOT_JDK to `pwd`/${{ steps.bootjdk.outputs.path }}.  This approach isn&amp;#39;t future-proof.   We have multiple tasks which define BOOT_JDK, so we have to change them all and keep tabs on it in the future. &lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/.github/workflows/test.yml#L156&quot;&gt;https://github.com/openjdk/jdk/blob/master/.github/workflows/test.yml#L156&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
I would recommend changing the action get-bootjdk. we just return the absolute path.  we tried that it doesn&amp;#39;t have problem on all platforms. </description>
                <environment></environment>
        <key id="5108915">JDK-8315062</key>
            <summary>[GHA] get-bootjdk action should return the abolute path</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xliu">Xin Liu</assignee>
                                    <reporter username="xliu">Xin Liu</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-SQE-ok-next</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                    </labels>
                <created>Fri, 25 Aug 2023 15:09:00 -0700</created>
                <updated>Tue, 17 Oct 2023 01:36:49 -0700</updated>
                            <resolved>Mon, 28 Aug 2023 09:01:01 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14617864" author="roboduke" created="Thu, 12 Oct 2023 13:00:54 -0700"  >[jdk11u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Clean backport to improve GHA reliability and keep testing pipelines in sync.</comment>
                            <comment id="14617863" author="roboduke" created="Thu, 12 Oct 2023 13:00:48 -0700"  >[jdk17u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Clean backport to improve GHA reliability and keep testing pipelines in sync.</comment>
                            <comment id="14617862" author="roboduke" created="Thu, 12 Oct 2023 13:00:20 -0700"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Clean backport to improve GHA reliability and keep testing pipelines in sync.</comment>
                            <comment id="14617685" author="roboduke" created="Thu, 12 Oct 2023 00:51:36 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2176&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2176&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-12 07:44:39 +0000</comment>
                            <comment id="14617684" author="roboduke" created="Thu, 12 Oct 2023 00:50:45 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1871&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1871&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-12 07:40:55 +0000</comment>
                            <comment id="14617681" author="roboduke" created="Thu, 12 Oct 2023 00:38:25 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/247&quot;&gt;https://git.openjdk.org/jdk21u/pull/247&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-12 07:31:08 +0000</comment>
                            <comment id="14606968" author="dukebot" created="Mon, 28 Aug 2023 09:01:00 -0700"  >Changeset: 99ea8bf2&lt;br/&gt;
Author:    Xin Liu &amp;lt;&lt;a href=&apos;mailto:xliu@openjdk.org&apos;&gt;xliu@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-08-28 15:59:24 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/99ea8bf2b962011e57d02a93217d65d7259e8f80&quot;&gt;https://git.openjdk.org/jdk/commit/99ea8bf2b962011e57d02a93217d65d7259e8f80&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14606744" author="roboduke" created="Fri, 25 Aug 2023 15:36:22 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15435&quot;&gt;https://git.openjdk.org/jdk/pull/15435&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-25 22:32:13 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5112455">JDK-8318167</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5112583">JDK-8318286</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5112584">JDK-8318287</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="105258" name="error.log" size="38604" author="xliu" created="Fri, 25 Aug 2023 15:14:39 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32vu3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="199"><![CDATA[build]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>