<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:02:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8325095] C2: bailout message broken: ResourceArea allocated string used after free</title>
                <link>https://bugs.openjdk.org/browse/JDK-8325095</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Originally reported by [~kvn] in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8324743&quot; title=&quot;C2 can&amp;#39;t compile method with nested locks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8324743&quot;&gt;JDK-8324743&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
As [~dlong] said, this is a regression of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303951&quot; title=&quot;Add asserts before record_method_not_compilable where possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303951&quot;&gt;&lt;strike&gt;JDK-8303951&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
JDK 22 and latest 23 produces strange message:&lt;br/&gt;
&lt;br/&gt;
java -XX:CICompilerCount=1 -XX:-TieredCompilation X:+PrintCompilation -Xbatch -Xmx128m TestNestedLocks&lt;br/&gt;
154 1 b java.util.ArrayList::add (25 bytes)&lt;br/&gt;
159 2 b java.util.ArrayList::add (23 bytes)&lt;br/&gt;
162 3 !b TestNestedLocks::test (102 bytes)&lt;br/&gt;
162 3 !b TestNestedLocks::test (102 bytes) COMPILE SKIPPED: ??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????&lt;br/&gt;
182 4 % !b TestNestedLocks::main @ 18 (39 bytes)&lt;br/&gt;
184 5 !b TestNestedLocks::main (39 bytes)&lt;br/&gt;
637 4 % ! TestNestedLocks::main @ 18 (39 bytes) made not entrant&lt;br/&gt;
OOM caught in test&lt;br/&gt;
&lt;br/&gt;
It looks like something was broken recently with bailout messages.</description>
                <environment></environment>
        <key id="5120517">JDK-8325095</key>
            <summary>C2: bailout message broken: ResourceArea allocated string used after free</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="epeter">Emanuel Peter</assignee>
                                    <reporter username="epeter">Emanuel Peter</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>c2</label>
                            <label>c2-bailouts</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>oracle-interest</label>
                            <label>oracle-triage-23</label>
                            <label>regression</label>
                    </labels>
                <created>Wed, 31 Jan 2024 23:01:17 -0800</created>
                <updated>Wed, 16 Oct 2024 13:51:13 -0700</updated>
                            <resolved>Mon, 4 Mar 2024 22:38:30 -0800</resolved>
                                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14668062" author="roboduke" created="Thu, 25 Apr 2024 10:19:56 -0700"  >[jdk22u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Fixes the diagnostic regression in JDK 21. Does not apply cleanly, but easy to resolve. Fixes a regression that touches uninitialized memory in product bits, low-medium risk.</comment>
                            <comment id="14667946" author="roboduke" created="Thu, 25 Apr 2024 04:58:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/165&quot;&gt;https://git.openjdk.org/jdk22u/pull/165&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-25 11:53:24 +0000</comment>
                            <comment id="14667348" author="coffeys" created="Tue, 23 Apr 2024 03:22:14 -0700"  >This looks like another backport where 22u ports aren&amp;#39;t happening before 21u ports.</comment>
                            <comment id="14667121" author="roboduke" created="Mon, 22 Apr 2024 22:39:14 -0700"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Fixes the diagnostic regression in JDK 21. Does not apply cleanly, but easy to resolve. Fixes a regression that touches uninitialized memory in product bits, low-medium risk.</comment>
                            <comment id="14666991" author="roboduke" created="Mon, 22 Apr 2024 08:47:00 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/522&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/522&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-22 15:37:03 +0000</comment>
                            <comment id="14654586" author="dukebot" created="Mon, 4 Mar 2024 22:38:29 -0800"  >Changeset: c5895558&lt;br/&gt;
Author:    Emanuel Peter &amp;lt;&lt;a href=&apos;mailto:epeter@openjdk.org&apos;&gt;epeter@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-03-05 06:35:32 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/c589555845e61cdde5340aaa76fcc36b2753240d&quot;&gt;https://git.openjdk.org/jdk/commit/c589555845e61cdde5340aaa76fcc36b2753240d&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14649542" author="roboduke" created="Wed, 14 Feb 2024 22:52:48 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17710&quot;&gt;https://git.openjdk.org/jdk/pull/17710&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-05 16:02:57 +0000</comment>
                            <comment id="14646429" author="JIRAUSER19821" created="Sun, 4 Feb 2024 22:58:10 -0800"  >As discussed with [~kvn] offline:&lt;br/&gt;
Since there are potentially multiple failure_reasons around, and they can go beyond the scope of Compile and even ciEnv, we must store them in the scope of CompileTask. There is already other code that CHeap allocates strings, see failure_reason_on_C_heap in CompileTask.&lt;br/&gt;
If we now do more CHeap allocation for these strings, we get ourselves into a difficult management problem, especially since there can be multiple failure_reasons at a time. Thus, we will introduce an arena at the CompileTask level, so that strings can be allocated for the duration of CompileTask, and automatically deallocated afterwards.</comment>
                            <comment id="14645900" author="thartmann" created="Thu, 1 Feb 2024 00:12:17 -0800"  >ILW = Broken bailout message on C2 compilation bailout, on bailout with single test, no workaround = MLH = P4</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5128246">JDK-8331327</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128247">JDK-8331328</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131500">JDK-8333942</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5123491">JDK-8327537</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095942">JDK-8303951</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4837554">JDK-8132354</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5120079">JDK-8324743</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="108095" name="TestNestedLocks.java" size="3267" author="epeter" created="Wed, 31 Jan 2024 23:02:53 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10003" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Introduced In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17427"><![CDATA[b16]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="22711">21</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34u17:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>