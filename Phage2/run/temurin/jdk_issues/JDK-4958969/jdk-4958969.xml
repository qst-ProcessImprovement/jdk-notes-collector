<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:25:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-4958969] ObjectOutputStream example leads to non-working code</title>
                <link>https://bugs.openjdk.org/browse/JDK-4958969</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Name: rmT116609			Date: 11/24/2003&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
The documentation includes an example which leads to code that doesnt work, and infact destroys a serialized file while reading it.&lt;br/&gt;
&lt;br/&gt;
EXPECTED VERSUS ACTUAL BEHAVIOR :&lt;br/&gt;
EXPECTED -&lt;br/&gt;
FileOutputStream fos = new FileOutputStream(&amp;quot;t.tmp&amp;quot;);&lt;br/&gt;
ObjectOutputStream oos = new ObjectOutputStream(fos);&lt;br/&gt;
&lt;br/&gt;
oos.writeInt(12345);&lt;br/&gt;
oos.writeObject(&amp;quot;Today&amp;quot;);&lt;br/&gt;
oos.writeObject(new Date());&lt;br/&gt;
&lt;br/&gt;
oos.close();&lt;br/&gt;
fos.close(); //This line must be added&lt;br/&gt;
ACTUAL -&lt;br/&gt;
FileOutputStream fos = new FileOutputStream(&amp;quot;t.tmp&amp;quot;);&lt;br/&gt;
	ObjectOutputStream oos = new ObjectOutputStream(fos);&lt;br/&gt;
&lt;br/&gt;
	oos.writeInt(12345);&lt;br/&gt;
	oos.writeObject(&amp;quot;Today&amp;quot;);&lt;br/&gt;
	oos.writeObject(new Date());&lt;br/&gt;
&lt;br/&gt;
	oos.close();&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
URL OF FAULTY DOCUMENTATION :&lt;br/&gt;
&lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/api/java/io/ObjectOutputStream.html&quot;&gt;http://java.sun.com/j2se/1.4.2/docs/api/java/io/ObjectOutputStream.html&lt;/a&gt;&lt;br/&gt;
(Incident Review ID: 227388) &lt;br/&gt;
======================================================================&lt;br/&gt;
</description>
                <environment></environment>
        <key id="4213459">JDK-4958969</key>
            <summary>ObjectOutputStream example leads to non-working code</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rriggs">Roger Riggs</assignee>
                                    <reporter username="rmandalasunw">Ranjith Mandala</reporter>
                        <labels>
                            <label>api-doc</label>
                            <label>doc-only</label>
                            <label>j2sewsdoc</label>
                            <label>webbug</label>
                    </labels>
                <created>Mon, 24 Nov 2003 10:26:00 -0800</created>
                <updated>Thu, 9 Feb 2023 15:52:09 -0800</updated>
                            <resolved>Mon, 19 Dec 2022 15:13:05 -0800</resolved>
                                    <version>1.4.2</version>
                                    <fixVersion>20</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14546677" author="dukebot" created="Mon, 19 Dec 2022 15:13:04 -0800"  >Changeset: d0a7679d&lt;br/&gt;
Author:    Roger Riggs &amp;lt;&lt;a href=&apos;mailto:rriggs@openjdk.org&apos;&gt;rriggs@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-19 23:10:30 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk20/commit/d0a7679d2e9c86ee2fc6edf2e37c1729c833ae11&quot;&gt;https://git.openjdk.org/jdk20/commit/d0a7679d2e9c86ee2fc6edf2e37c1729c833ae11&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14546510" author="roboduke" created="Mon, 19 Dec 2022 12:19:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/59&quot;&gt;https://git.openjdk.org/jdk20/pull/59&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-19 20:12:15 +0000</comment>
                            <comment id="14546251" author="alanb" created="Sat, 17 Dec 2022 08:23:09 -0800"  >The example in the javadoc could be tied up to use try-with-resources and ensure that &amp;quot;fos&amp;quot; is closed.</comment>
                            <comment id="12139317" author="sharonz" created="Tue, 21 Jul 2009 09:25:58 -0700"  >BT2:EVALUATION&lt;br/&gt;
&lt;br/&gt;
The docs team does not have access to the repo to fix API bugs.  Reassigning.</comment>
                            <comment id="12139318" author="peterjones" created="Thu, 31 Aug 2006 23:12:34 -0700"  >BT2:EVALUATION&lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t understand the described problem.  The Description suggests adding an explicit close of the underlying FileOutputStream after closing the ObjectOutputStream, but closing the ObjectOutputStream causes the underlying stream to be closed implicitly (for better or for worse...).  Also, the Description says that the code &amp;quot;destroys a serialized file while reading it&amp;quot;, but there is no reading going in this code, and it&amp;#39;s unclear to me what is meant by &amp;quot;destroys&amp;quot;-- the FileOutputStream construction will indeed overwrite a previous version of the named file, but that behavior seems rather beside the point of this example code.  Testing shows that the example code does in fact create the whole serialized file as advertised, which can be read by the corresponding example code in ObjectInputStream&amp;#39;s documentation.  Am I missing something?</comment>
                            <comment id="12139320" author="shommel" created="Mon, 24 Nov 2003 16:00:00 -0800"  >BT2:EVALUATION&lt;br/&gt;
&lt;br/&gt;
Simple documentation fix. Will add the line in question if engineering agrees.&lt;br/&gt;
&lt;br/&gt;
###@###.### 2003-11-25</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5090113">JDK-8299108</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17004"><![CDATA[x86]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10001" key="com.atlassian.jira.plugin.system.customfieldtypes:datetime">
                        <customfieldname>Imported</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Sep 2012 22:09:52 -0700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10002" key="com.atlassian.jira.plugin.system.customfieldtypes:datetime">
                        <customfieldname>Indexed</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jul 2012 18:38:10 -0700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17028"><![CDATA[windows_2000]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>125931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17413"><![CDATA[b29]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="186"><![CDATA[java.io:serialization]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>