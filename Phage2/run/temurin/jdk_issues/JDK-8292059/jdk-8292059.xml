<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:04:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8292059] Do not inline InstanceKlass::allocate_instance()</title>
                <link>https://bugs.openjdk.org/browse/JDK-8292059</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>This function doesn&amp;#39;t seem to be used on performance critical paths. Making it inline causes many extra headers to be included. E.g., we can remove the dependency on the large header classfile/javaClasses.hpp.&lt;br/&gt;
&lt;br/&gt;
open/src/hotspot$ whoincludes instanceKlass.inline.hpp&lt;br/&gt;
scanning    521 instanceKlass.inline.hpp&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;2 found    521 iterator.inline.hpp&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;3 found    521 instanceMirrorKlass.inline.hpp&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;4 found    521 instanceClassLoaderKlass.inline.hpp&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;5 found    521 instanceRefKlass.inline.hpp&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;6 found    521 javaClasses.inline.hpp&lt;br/&gt;
&lt;br/&gt;
(See &lt;a href=&quot;https://github.com/iklam/tools/blob/main/headers/whoincludes.tcl&quot;&gt;https://github.com/iklam/tools/blob/main/headers/whoincludes.tcl&lt;/a&gt; )&lt;br/&gt;
&lt;br/&gt;
(TBD: need to do perf measurements)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5081209">JDK-8292059</key>
            <summary>Do not inline InstanceKlass::allocate_instance()</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="azafari">Afshin Zafari</assignee>
                                    <reporter username="iklam">Ioi Lam</reporter>
                        <labels>
                            <label>include</label>
                            <label>metadata</label>
                            <label>starter</label>
                    </labels>
                <created>Mon, 8 Aug 2022 12:06:05 -0700</created>
                <updated>Fri, 13 Jun 2025 03:21:40 -0700</updated>
                            <resolved>Fri, 17 Mar 2023 06:22:18 -0700</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14567757" author="dukebot" created="Fri, 17 Mar 2023 06:22:17 -0700"  >Changeset: cb4ae192&lt;br/&gt;
Author:    Afshin Zafari &amp;lt;&lt;a href=&apos;mailto:Afshin.zafari@oracle.com&apos;&gt;Afshin.zafari@oracle.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Coleen Phillimore &amp;lt;&lt;a href=&apos;mailto:coleenp@openjdk.org&apos;&gt;coleenp@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-17 13:20:58 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/cb4ae1922db7fe3645fd50f301b4a1be965bc79b&quot;&gt;https://git.openjdk.org/jdk/commit/cb4ae1922db7fe3645fd50f301b4a1be965bc79b&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14563374" author="roboduke" created="Tue, 28 Feb 2023 03:20:36 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12782&quot;&gt;https://git.openjdk.org/jdk/pull/12782&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-28 11:11:54 +0000</comment>
                            <comment id="14562908" author="JIRAUSER20409" created="Sun, 26 Feb 2023 11:14:15 -0800"  >[~iklam], [~coleenp] and [~ecaspole],&lt;br/&gt;
The stress test made by [~huntch] is executed with and without inlining the method.&lt;br/&gt;
The attached chart shows the different times measured for inline and no-inline cases.&lt;br/&gt;
The vertical axis is logarithmic (unit is milliseconds), to be able to show the very tiny values as well.  In the down-looking bars of the chart, the larger the bar the shorter the time.&lt;br/&gt;
The data are as follows:&lt;br/&gt;
Metric                              w/o inline count  mi     avg     max sum    &lt;br/&gt;
Pause Young                        , inline    ,    70,      5.778, 126.781, 305.352, 8874.689&lt;br/&gt;
Pause Young                        , not-inline,   105,     12.479, 146.782, 314.012, 15412.098&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Scan Root               , inline    ,     8,      7.298,  43.444, 74.884, 347.548&lt;br/&gt;
Concurrent Scan Root               , not-inline,    11,      7.152,  58.206, 116.092, 640.269&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Mark From               , inline    ,     8,      0.135, 654.050, 2209.009, 5232.398&lt;br/&gt;
Concurrent Mark From               , not-inline,    11,      0.314, 1012.655, 2297.047, 11139.204&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Preclean                , inline    ,     8,      0.009,   0.573, 1.932,   4.588&lt;br/&gt;
Concurrent Preclean                , not-inline,    11,      0.013,   0.832, 1.796,   9.147&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Pause Remark                       , inline    ,     8,     92.015, 7767.418, 39015.582, 62139.342&lt;br/&gt;
Pause Remark                       , not-inline,    11,    160.116, 3812.586, 9202.465, 41938.441&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Mark                    , inline    ,    24,      0.135, 5950.520, 39952.667, 142812.469&lt;br/&gt;
Concurrent Mark                    , not-inline,    33,      0.314, 3732.279, 9774.843, 123165.218&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Rebuild Remembered Sets , inline    ,     8,      0.036, 305.849, 957.38, 2446.788&lt;br/&gt;
Concurrent Rebuild Remembered Sets , not-inline,    11,      0.052, 469.670, 999.631, 5166.375&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Pause Cleanup                      , inline    ,     8,      0.033,   0.189, 0.358,   1.514&lt;br/&gt;
Pause Cleanup                      , not-inline,    11,      0.044,   0.237, 0.377,   2.602&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Clear Claimed Marks     , inline    ,     8,      0.015,   0.024, 0.037,   0.195&lt;br/&gt;
Concurrent Clear Claimed Marks     , not-inline,    11,      0.012,   0.030, 0.07,   0.331&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Cleanup for Next Mark   , inline    ,     8,      0.078,   1.057, 2.191,   8.456&lt;br/&gt;
Concurrent Cleanup for Next Mark   , not-inline,    11,      0.081,   1.493, 3.426,  16.423&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Concurrent Mark Cycle              , inline    ,     8,    105.093, 8774.318, 39952.667, 70194.547&lt;br/&gt;
Concurrent Mark Cycle              , not-inline,    11,    169.808, 5357.519, 9774.843, 58932.714&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Pre Evacuate Collection            , inline    ,    70,      0.100,   0.203, 0.8,  14.200&lt;br/&gt;
Pre Evacuate Collection            , not-inline,   105,      0.100,   0.199, 0.7,  20.900&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Merge Heap Roots                   , inline    ,    70,      0.100,   0.720, 1.4,  50.400&lt;br/&gt;
Merge Heap Roots                   , not-inline,   105,      0.100,   0.820, 1.9,  86.100&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Evacuate Collection Set            , inline    ,   210,      0.100,  41.856, 199.6, 8789.700&lt;br/&gt;
Evacuate Collection Set            , not-inline,   315,      0.100,  48.542, 226.4, 15290.700&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
Post Evacuate Collection Set       , inline    ,    70,      0.900,  17.076, 199.6, 1195.300&lt;br/&gt;
Post Evacuate Collection Set       , not-inline,   105,      1.000,  13.796, 208.7, 1448.600&lt;br/&gt;
------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;
&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095958">JDK-8303966</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="102828" name="chart (2).png" size="37825" author="azafari" created="Tue, 28 Feb 2023 05:14:02 -0800"/>
                            <attachment id="102827" name="chart (3).png" size="12213" author="azafari" created="Tue, 28 Feb 2023 05:13:54 -0800"/>
                            <attachment id="102824" name="chart_2.png" size="49446" author="azafari" created="Tue, 28 Feb 2023 02:51:16 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2y71f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17352"><![CDATA[b15]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>