<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:07:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8309138] Fix container tests for jdks with symlinked conf dir</title>
                <link>https://bugs.openjdk.org/browse/JDK-8309138</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Problem:&lt;br/&gt;
Container tests copy tested jdk into container to do testing on it. This however does not work correctly for builds, in which conf directory is symlinked (such as fedora/rhel packages), causing failures due to missing config files in container.&lt;br/&gt;
&lt;br/&gt;
Solution:&lt;br/&gt;
Symlinks are followed when copying tested jdk.</description>
                <environment></environment>
        <key id="5102142">JDK-8309138</key>
            <summary>Fix container tests for jdks with symlinked conf dir</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zzambers">Zdenek Zambersky</assignee>
                                    <reporter username="zzambers">Zdenek Zambersky</reporter>
                        <labels>
                            <label>containers</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk8u-fix-request</label>
                            <label>jdk8u-fix-yes</label>
                            <label>noreg-self</label>
                    </labels>
                <created>Tue, 30 May 2023 14:35:57 -0700</created>
                <updated>Fri, 27 Jun 2025 12:20:10 -0700</updated>
                            <resolved>Thu, 1 Jun 2023 09:28:17 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14687657" author="roboduke" created="Mon, 8 Jul 2024 00:25:09 -0700"  >[jdk8u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
Backport of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8309138&quot; title=&quot;Fix container tests for jdks with symlinked conf dir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8309138&quot;&gt;&lt;strike&gt;JDK-8309138&lt;/strike&gt;&lt;/a&gt; to fix the testcase bug, which if the tested jdk directory is symlinked, symlinks are followed when copying tested jdk. Only change the testcase lib file, the risk is low.</comment>
                            <comment id="14687649" author="roboduke" created="Mon, 8 Jul 2024 00:03:30 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk8u-dev/pull/538&quot;&gt;https://git.openjdk.org/jdk8u-dev/pull/538&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-08 06:58:37 +0000</comment>
                            <comment id="14588999" author="roboduke" created="Tue, 13 Jun 2023 08:05:31 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/1944&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/1944&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-13 14:59:13 +0000</comment>
                            <comment id="14588996" author="JIRAUSER19714" created="Tue, 13 Jun 2023 08:01:51 -0700"  >Fix request (11u):&lt;br/&gt;
&lt;br/&gt;
Fixes container tests for jdk with symlinked conf dir (such as fedora/rhel packages).&lt;br/&gt;
Clean backport, only affects tests, tier1 and container tests passed </comment>
                            <comment id="14587497" author="JIRAUSER19714" created="Tue, 6 Jun 2023 18:34:26 -0700"  >Fix request (17u):&lt;br/&gt;
&lt;br/&gt;
Fixes container tests for jdk with symlinked conf dir (such as fedora/rhel packages).&lt;br/&gt;
Clean backport, only affects tests, tier1 and container tests passed&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14587486" author="roboduke" created="Tue, 6 Jun 2023 17:10:56 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1417&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1417&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-07 00:05:11 +0000</comment>
                            <comment id="14586380" author="dukebot" created="Thu, 1 Jun 2023 09:28:15 -0700"  >Changeset: ec555395&lt;br/&gt;
Author:    Zdenek Zambersky &amp;lt;&lt;a href=&apos;mailto:zzambers@openjdk.org&apos;&gt;zzambers@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Severin Gehwolf &amp;lt;&lt;a href=&apos;mailto:sgehwolf@openjdk.org&apos;&gt;sgehwolf@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-01 16:25:53 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/ec55539534d43629c1a47407a8e2e94913034a71&quot;&gt;https://git.openjdk.org/jdk/commit/ec55539534d43629c1a47407a8e2e94913034a71&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14585917" author="sgehwolf" created="Wed, 31 May 2023 01:39:26 -0700"  >Reproducer:&lt;br/&gt;
$ cp -r ./build/linux-x86_64-server-release/images/jdk jdk21-jdk&lt;br/&gt;
$ cp -r jdk21-jdk/conf/ external-conf&lt;br/&gt;
$ rm -rf jdk21-jdk/conf/&lt;br/&gt;
$ cd jdk21-jdk/&lt;br/&gt;
$ ln -s ../external-conf/ conf&lt;br/&gt;
$ ls -l&lt;br/&gt;
total 32&lt;br/&gt;
drwxr-xr-x.  2 sgehwolf sgehwolf 4096 May 31 10:28 bin&lt;br/&gt;
lrwxrwxrwx.  1 sgehwolf sgehwolf   17 May 31 10:29 conf -&amp;gt; ../external-conf/&lt;br/&gt;
drwxr-xr-x.  4 sgehwolf sgehwolf 4096 May 31 10:28 demo&lt;br/&gt;
drwxr-xr-x.  3 sgehwolf sgehwolf 4096 May 31 10:28 include&lt;br/&gt;
drwxr-xr-x.  2 sgehwolf sgehwolf 4096 May 31 10:28 jmods&lt;br/&gt;
drwxr-xr-x. 72 sgehwolf sgehwolf 4096 May 31 10:28 legal&lt;br/&gt;
drwxr-xr-x.  5 sgehwolf sgehwolf 4096 May 31 10:28 lib&lt;br/&gt;
drwxr-xr-x.  3 sgehwolf sgehwolf 4096 May 31 10:28 man&lt;br/&gt;
-rw-r--r--.  1 sgehwolf sgehwolf 1262 May 31 10:28 release&lt;br/&gt;
$ ./bin/java -version&lt;br/&gt;
openjdk version &amp;quot;21-internal&amp;quot; 2023-09-19&lt;br/&gt;
OpenJDK Runtime Environment (build 21-internal-adhoc.sgehwolf.jdk-jdk)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 21-internal-adhoc.sgehwolf.jdk-jdk, mixed mode, sharing)&lt;br/&gt;
$ cd ../&lt;br/&gt;
[&lt;a href=&apos;mailto:root@foobar&apos;&gt;root@foobar&lt;/a&gt; jdk-jdk]# rm -rf JTwork JTreport &amp;amp;&amp;amp; /disk/openjdk/upstream-sources/jtreg-7.2+1/bin/jtreg -verbose:summary -jdk:$(pwd)/jdk21-jdk/ -Djdk.test.docker.image.name=fedora -Djdk.test.docker.image.version=37  test/hotspot/jtreg/containers/&lt;br/&gt;
Directory &amp;quot;JTwork&amp;quot; not found: creating&lt;br/&gt;
Directory &amp;quot;JTreport&amp;quot; not found: creating&lt;br/&gt;
Passed: containers/cgroup/CgroupSubsystemFactory.java&lt;br/&gt;
Passed: containers/cgroup/PlainRead.java&lt;br/&gt;
Passed: containers/docker/DockerBasicTest.java&lt;br/&gt;
Passed: containers/docker/ShareTmpDir.java&lt;br/&gt;
FAILED: containers/docker/TestCPUAwareness.java&lt;br/&gt;
Passed: containers/docker/TestCPUSets.java&lt;br/&gt;
FAILED: containers/docker/TestJcmd.java&lt;br/&gt;
FAILED: containers/docker/TestJcmdWithSideCar.java&lt;br/&gt;
FAILED: containers/docker/TestJFREvents.java&lt;br/&gt;
FAILED: containers/docker/TestJFRNetworkEvents.java&lt;br/&gt;
Error:  containers/docker/TestJFRWithJMX.java&lt;br/&gt;
FAILED: containers/docker/TestMemoryAwareness.java&lt;br/&gt;
FAILED: containers/docker/TestMemoryWithCgroupV1.java&lt;br/&gt;
Passed: containers/docker/TestMisc.java&lt;br/&gt;
Passed: containers/docker/TestPids.java&lt;br/&gt;
Test results: passed: 7; failed: 7; error: 1&lt;br/&gt;
&lt;br/&gt;
Tests fail with (for example TestCPUAwareness.java):&lt;br/&gt;
Metrics.getMemoryUsage() == 14032896&lt;br/&gt;
Exception in thread &amp;quot;main&amp;quot; java.lang.InternalError: Error loading java.security file&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.security.Security.initialize(Security.java:105)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.security.Security.lambda$static$0(Security.java:84)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.security.Security.&amp;lt;clinit&amp;gt;(Security.java:83)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/sun.security.util.SecurityProperties.getOverridableProperty(SecurityProperties.java:57)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/sun.security.util.SecurityProperties.privilegedGetOverridable(SecurityProperties.java:48)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/sun.security.util.SecurityProperties.includedInExceptions(SecurityProperties.java:72)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/sun.security.util.SecurityProperties.&amp;lt;clinit&amp;gt;(SecurityProperties.java:36)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/sun.security.util.FilePermCompat.&amp;lt;clinit&amp;gt;(FilePermCompat.java:43)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.io.FilePermission.init(FilePermission.java:319)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.io.FilePermission.&amp;lt;init&amp;gt;(FilePermission.java:490)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.management/java.lang.management.ManagementFactory$PlatformMBeanFinder.&amp;lt;clinit&amp;gt;(ManagementFactory.java:929)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.management/java.lang.management.ManagementFactory.getPlatformMXBean(ManagementFactory.java:689)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.management/java.lang.management.ManagementFactory.getOperatingSystemMXBean(ManagementFactory.java:391)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at CheckOperatingSystemMXBean.main(CheckOperatingSystemMXBean.java:42)&lt;br/&gt;
];&lt;br/&gt;
&amp;nbsp;stderr: []&lt;br/&gt;
&amp;nbsp;exitValue = 1&lt;br/&gt;
</comment>
                            <comment id="14585765" author="roboduke" created="Tue, 30 May 2023 14:42:15 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14230&quot;&gt;https://git.openjdk.org/jdk/pull/14230&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-30 21:36:22 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5103178">JDK-8310036</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5103195">JDK-8310044</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5105117">JDK-8311772</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5105658">JDK-8312217</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5137182">JDK-8338718</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5163104">JDK-8360917</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5133635">JDK-8335845</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31q63:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>