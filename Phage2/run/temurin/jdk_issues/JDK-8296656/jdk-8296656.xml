<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:21:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8296656] java.lang.NoClassDefFoundError exception on running fully legitimate code</title>
                <link>https://bugs.openjdk.org/browse/JDK-8296656</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>ADDITIONAL SYSTEM INFORMATION :&lt;br/&gt;
x86/windows 10/ openjdk 19.0.1&lt;br/&gt;
&lt;br/&gt;
A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
Getting java.lang.NoClassDefFoundError exception on running fully legitimate code&lt;br/&gt;
&lt;br/&gt;
STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :&lt;br/&gt;
run this snippet&lt;br/&gt;
&lt;br/&gt;
public interface Main {&lt;br/&gt;
	&lt;br/&gt;
	@interface Annotation {&lt;br/&gt;
		interface foo {&lt;br/&gt;
			static void print() {System.out.println(&amp;quot;Oops!&amp;quot;);}&lt;br/&gt;
		}&lt;br/&gt;
		&lt;br/&gt;
		@interface Foo {}&lt;br/&gt;
	}&lt;br/&gt;
	&lt;br/&gt;
	static void main(String[] args) {&lt;br/&gt;
		Annotation.foo.print();&lt;br/&gt;
	}&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
EXPECTED VERSUS ACTUAL BEHAVIOR :&lt;br/&gt;
EXPECTED -&lt;br/&gt;
&amp;nbsp;Ooops in the console&lt;br/&gt;
ACTUAL -&lt;br/&gt;
Exception in thread &amp;quot;main&amp;quot; java.lang.NoClassDefFoundError: Main$Annotation$Foo (wrong name: Main$Annotation$foo)&lt;br/&gt;
	at java.base/java.lang.ClassLoader.defineClass1(Native Method)&lt;br/&gt;
	at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1013)&lt;br/&gt;
	at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)&lt;br/&gt;
	at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)&lt;br/&gt;
	at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)&lt;br/&gt;
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)&lt;br/&gt;
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)&lt;br/&gt;
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)&lt;br/&gt;
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)&lt;br/&gt;
	at Main.main(Main.java:13)&lt;br/&gt;
&lt;br/&gt;
---------- BEGIN SOURCE ----------&lt;br/&gt;
public interface Main {&lt;br/&gt;
	&lt;br/&gt;
	@interface Annotation {&lt;br/&gt;
		interface foo {&lt;br/&gt;
			static void print() {System.out.println(&amp;quot;Oops!&amp;quot;);}&lt;br/&gt;
		}&lt;br/&gt;
		&lt;br/&gt;
		@interface Foo {}&lt;br/&gt;
	}&lt;br/&gt;
	&lt;br/&gt;
	static void main(String[] args) {&lt;br/&gt;
		Annotation.foo.print();&lt;br/&gt;
	}&lt;br/&gt;
}&lt;br/&gt;
---------- END SOURCE ----------&lt;br/&gt;
&lt;br/&gt;
CUSTOMER SUBMITTED WORKAROUND :&lt;br/&gt;
rename foo or Foo to something else&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5086355">JDK-8296656</key>
            <summary>java.lang.NoClassDefFoundError exception on running fully legitimate code</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="acobbs">Archie Cobbs</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>dcsaw</label>
                            <label>release-note=yes</label>
                            <label>reproducer-yes</label>
                            <label>webbug</label>
                    </labels>
                <created>Sat, 29 Oct 2022 00:05:26 -0700</created>
                <updated>Fri, 30 Aug 2024 09:04:42 -0700</updated>
                            <resolved>Mon, 27 Mar 2023 14:35:51 -0700</resolved>
                                    <version>8</version>
                    <version>11</version>
                    <version>17</version>
                    <version>18</version>
                    <version>19</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                                                            <comments>
                            <comment id="14589140" author="dholmes" created="Tue, 13 Jun 2023 19:51:50 -0700"  >[~vromero] The changes to the javac.1 manpage that are part of this issue should have been applied to the closed javac.md source and re-generated to apply them to the open java.1 page. These changes will be lost as soon as the manpages are re-generated, both for JDK 21 and JDK 22, so this needs to be fixed in both JDK 21 and JDK 22</comment>
                            <comment id="14569817" author="dukebot" created="Mon, 27 Mar 2023 14:35:50 -0700"  >Changeset: 14b970dc&lt;br/&gt;
Author:    Archie L. Cobbs &amp;lt;&lt;a href=&apos;mailto:archie.cobbs@gmail.com&apos;&gt;archie.cobbs@gmail.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Vicente Romero &amp;lt;&lt;a href=&apos;mailto:vromero@openjdk.org&apos;&gt;vromero@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-27 21:33:01 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/14b970dc9e8d0fe1173039c01cced8a9422ec1ae&quot;&gt;https://git.openjdk.org/jdk/commit/14b970dc9e8d0fe1173039c01cced8a9422ec1ae&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14568106" author="roboduke" created="Mon, 20 Mar 2023 07:50:17 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12754&quot;&gt;https://git.openjdk.org/jdk/pull/12754&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-25 21:22:57 +0000</comment>
                            <comment id="14561852" author="JIRAUSER20702" created="Tue, 21 Feb 2023 16:39:40 -0800"  >This is due to javac not supporting case-insensitive filesystems, which is a &amp;quot;known bug&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
Same underlying issue as &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8287885&quot; title=&quot;Local classes cause ClassLoader error if the type names are similar but not same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8287885&quot;&gt;&lt;strike&gt;JDK-8287885&lt;/strike&gt;&lt;/a&gt;, though this bug is harder to workaround because it doesn&amp;#39;t involve local classes.</comment>
                            <comment id="14535870" author="alanb" created="Wed, 9 Nov 2022 03:25:48 -0800"  >Moving this to tools/javac for now. This is about javac generating Main$Annotation$foo.class containing class Main$Annotation$Foo. That said, it will be very file system dependent on whether Main$Annotation$foo.class and Main$Annotation$Foo.class can exist as distinct files in the same directory.</comment>
                            <comment id="14535855" author="tongwan" created="Wed, 9 Nov 2022 02:35:43 -0800"  >The observations on Windows 10:&lt;br/&gt;
JDK 8: Failed, NoClassDefFoundError thrown.&lt;br/&gt;
JDK 11: Failed.&lt;br/&gt;
JDK 17: Failed.&lt;br/&gt;
JDK 18: Failed.&lt;br/&gt;
JDK 19: Failed.&lt;br/&gt;
JDK 20ea+22: Failed.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10400">
                    <name>CSR</name>
                                            <outwardlinks description="csr for">
                                        <issuelink>
            <issuekey id="5096667">JDK-8304533</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5137852">JDK-8339308</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5103223">JDK-8310067</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5076239">JDK-8287885</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="101521" name="Main.java" size="275" author="tongwan" created="Wed, 9 Nov 2022 02:32:36 -0800"/>
                    </attachments>
                <subtasks>
                                              <subtask id="5097203">JDK-8304995</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2z2ib:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17312"><![CDATA[b16]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="212"><![CDATA[javac]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>