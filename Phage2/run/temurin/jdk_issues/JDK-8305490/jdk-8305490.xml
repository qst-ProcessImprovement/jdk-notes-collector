<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:16:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305490] CLHSDB &quot;dumpclass&quot; command produces classes with invalid field descriptors</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305490</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>CommandProcessor command &amp;quot;dumpclass&amp;quot; produces classes with invalid field descriptors.&lt;br/&gt;
&lt;br/&gt;
`ClhsdbDumpclass` uses javap to verify classes validity.&lt;br/&gt;
Javap prints errors related to invalid constant pool entries, however the exit code is 0 and `ClhsdbDumpclass` test pass with invalid entries.&lt;br/&gt;
&amp;nbsp;&lt;br/&gt;
Work on &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8294969&quot; title=&quot;Convert jdk.jdeps javap to use the Classfile API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8294969&quot;&gt;&lt;strike&gt;JDK-8294969&lt;/strike&gt;&lt;/a&gt; &amp;quot;Convert jdk.jdeps javap to use the Classfile API&amp;quot; triggered `ClhsdbDumpclass` test to start failing on invalid entries.&lt;br/&gt;
&lt;br/&gt;
Root cause of the problem is in `sun.jvm.hotspot.oops.InstanceKlass::getFieldSignatureIndex` returning `getGenericSignatureIndex` instead of `getSignatureIndex`.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5097792">JDK-8305490</key>
            <summary>CLHSDB &quot;dumpclass&quot; command produces classes with invalid field descriptors</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asotona">Adam Sotona</assignee>
                                    <reporter username="asotona">Adam Sotona</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Apr 2023 10:52:52 -0700</created>
                <updated>Sun, 17 Sep 2023 20:21:19 -0700</updated>
                            <resolved>Wed, 5 Apr 2023 06:22:01 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14571989" author="dukebot" created="Wed, 5 Apr 2023 06:22:00 -0700"  >Changeset: 78ff454f&lt;br/&gt;
Author:    Adam Sotona &amp;lt;&lt;a href=&apos;mailto:asotona@openjdk.org&apos;&gt;asotona@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-05 13:19:27 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/78ff454f1986abdb9b72d3c6c5b1f3bbab823540&quot;&gt;https://git.openjdk.org/jdk/commit/78ff454f1986abdb9b72d3c6c5b1f3bbab823540&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14571758" author="cjplummer" created="Tue, 4 Apr 2023 10:37:12 -0700"  >Here&amp;#39;s an example of a passing ClhsdbDumpclass that shows the javap errors:&lt;br/&gt;
&lt;br/&gt;
&amp;gt; javap jdk/test/lib/apps/LingeredApp.class&lt;br/&gt;
[2023-04-04T17:25:37.599235Z] Gathering output for process 23660&lt;br/&gt;
Compiled from &amp;quot;LingeredApp.java&amp;quot;&lt;br/&gt;
public class jdk.test.lib.apps.LingeredApp {&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected ??? appProcess;&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected ??? output;&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected static final ??? appWaitTime;&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected static final ??? appCoreWaitTime;&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected final ??? lockFileName;&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected ??? logFileName;&lt;br/&gt;
Error: invalid index #0&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected ??? forceCrash;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public jdk.test.lib.apps.LingeredApp(java.lang.String);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public jdk.test.lib.apps.LingeredApp();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;static {};&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static void main(java.lang.String[]);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public boolean useDefaultClasspath();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void waitAppReadyOrCrashed(long) throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void waitAppReadyOrCrashed() throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;protected void runAddAppName(java.util.List&amp;lt;java.lang.String&amp;gt;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void printCommandLine(java.util.List&amp;lt;java.lang.String&amp;gt;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public jdk.test.lib.process.OutputBuffer getOutput();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void deleteLock() throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void waitAppTerminate();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void createLock() throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void runAppExactJvmOpts(java.lang.String[]) throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static void checkForDumps();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public java.lang.Process getProcess();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static void stopApp(jdk.test.lib.apps.LingeredApp) throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void stopApp() throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static void startAppExactJvmOpts(jdk.test.lib.apps.LingeredApp, java.lang.String...) throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static jdk.test.lib.apps.LingeredApp startApp(java.lang.String...) throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static void startApp(jdk.test.lib.apps.LingeredApp, java.lang.String...) throws java.io.IOException;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void setForceCrash(boolean);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public java.lang.String getLockFileName();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void setLogFileName(java.lang.String);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public long getPid();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public java.lang.String getProcessStdout();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public void setUseDefaultClasspath(boolean);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;public static boolean isLastModifiedWorking();&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
[2023-04-04T17:25:40.098074Z] Waiting for completion for process 23660&lt;br/&gt;
[2023-04-04T17:25:40.098211Z] Waiting for completion finished for process 23660&lt;br/&gt;
&amp;nbsp;LingeredApp stdout: [];&lt;br/&gt;
&amp;nbsp;LingeredApp stderr: []&lt;br/&gt;
&amp;nbsp;LingeredApp exitValue = 0&lt;br/&gt;
</comment>
                            <comment id="14571576" author="roboduke" created="Tue, 4 Apr 2023 00:49:39 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13321&quot;&gt;https://git.openjdk.org/jdk/pull/13321&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-04 07:44:40 +0000</comment>
                            <comment id="14571562" author="asotona" created="Mon, 3 Apr 2023 23:45:16 -0700"  >[~cjplummer] You are right, it was introduced by typo in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8292818&quot; title=&quot;replace 96-bit representation for field metadata with variable-sized streams&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8292818&quot;&gt;&lt;strike&gt;JDK-8292818&lt;/strike&gt;&lt;/a&gt; commit.&lt;br/&gt;
&lt;br/&gt;
see: &lt;a href=&quot;https://github.com/openjdk/jdk/commit/bfb812a8ff8bca70aed7695c73f019ae66ac6f33#r107436784&quot;&gt;https://github.com/openjdk/jdk/commit/bfb812a8ff8bca70aed7695c73f019ae66ac6f33#r107436784&lt;/a&gt;&lt;br/&gt;
or: &lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/src/jdk.hotspot.agent/share/classes/sun/jvm/hotspot/oops/InstanceKlass.java#L303&quot;&gt;https://github.com/openjdk/jdk/blob/master/src/jdk.hotspot.agent/share/classes/sun/jvm/hotspot/oops/InstanceKlass.java#L303&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14571468" author="cjplummer" created="Mon, 3 Apr 2023 12:28:07 -0700"  >[~asotona]This code was recently changed by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8292818&quot; title=&quot;replace 96-bit representation for field metadata with variable-sized streams&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8292818&quot;&gt;&lt;strike&gt;JDK-8292818&lt;/strike&gt;&lt;/a&gt;. Can you verify if this issue existed before then?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5082129">JDK-8292818</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5110386">JDK-8316342</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30zx7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="2072"><![CDATA[svc-agent]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>