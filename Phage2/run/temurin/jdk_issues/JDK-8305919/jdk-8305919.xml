<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:30:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305919] java/lang/Thread/virtual/HoldsLock.java#id0 failed, ThreadInfo.getLockInfo() return null</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305919</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK21 CI:&lt;br/&gt;
&lt;br/&gt;
java/lang/Thread/virtual/HoldsLock.java#id0&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
#section:junit&lt;br/&gt;
----------messages:(9/357)----------&lt;br/&gt;
command: junit HoldsLock&lt;br/&gt;
reason: User specified action: run junit HoldsLock &lt;br/&gt;
started: Wed Apr 12 14:37:07 UTC 2023&lt;br/&gt;
Mode: agentvm&lt;br/&gt;
Agent id: 121&lt;br/&gt;
Additional exports to unnamed modules from @modules: java.base/java.lang&lt;br/&gt;
Additional opens to unnamed modules from @modules: java.base/java.lang&lt;br/&gt;
finished: Wed Apr 12 14:37:51 UTC 2023&lt;br/&gt;
elapsed time (seconds): 43.903&lt;br/&gt;
----------configuration:(14/1554)----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
----------System.err:(87/8093)----------&lt;br/&gt;
STARTED    HoldsLock::testThreadInfo &amp;#39;testThreadInfo()&amp;#39;&lt;br/&gt;
java.lang.NullPointerException: Cannot invoke &amp;quot;java.lang.management.ThreadInfo.getLockInfo()&amp;quot; because &amp;quot;&amp;lt;local17&amp;gt;&amp;quot; is null&lt;br/&gt;
	at HoldsLock.testThreadInfo(HoldsLock.java:120)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)&lt;br/&gt;
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)&lt;br/&gt;
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)&lt;br/&gt;
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.runWithJUnitPlatform(JUnitRunner.java:143)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.main(JUnitRunner.java:96)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:312)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1592)&lt;br/&gt;
FAILED     HoldsLock::testThreadInfo &amp;#39;testThreadInfo()&amp;#39;&lt;br/&gt;
SKIPPED    HoldsLock::testHoldsLock &amp;#39;testHoldsLock()&amp;#39; &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8281642&quot; title=&quot;Thread.holdsLock returns true on a virtual thread when monitor is owned by the carrier&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8281642&quot;&gt;JDK-8281642&lt;/a&gt;&lt;br/&gt;
JavaTest Message: JUnit Platform Failure(s): 1&lt;br/&gt;
&lt;br/&gt;
[ JUnit Containers: found 3, started 3, succeeded 3, failed 0, aborted 0, skipped 0]&lt;br/&gt;
[ JUnit Tests: found 2, started 1, succeeded 0, failed 1, aborted 0, skipped 1]&lt;br/&gt;
&lt;br/&gt;
java.lang.Exception: JUnit test failure&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.runWithJUnitPlatform(JUnitRunner.java:150)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.main(JUnitRunner.java:96)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:312)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1592)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.Exception&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
----------System.out:(30/888)----------&lt;br/&gt;
VirtualThread[#42]/waiting@Thread-0 is waiting on &lt;a href=&apos;mailto:java.lang.Object@b5fdba4&apos;&gt;java.lang.Object@b5fdba4&lt;/a&gt;&lt;br/&gt;
		&lt;a href=&apos;mailto:java.lang.Object@b5fdba4&apos;&gt;java.lang.Object@b5fdba4&lt;/a&gt;&lt;br/&gt;
&amp;quot;main&amp;quot; prio=5 Id=1 WAITING on &lt;a href=&apos;mailto:java.lang.Thread@762a8eeb&apos;&gt;java.lang.Thread@762a8eeb&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Reference Handler&amp;quot; daemon prio=10 Id=8 RUNNABLE&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Finalizer&amp;quot; daemon prio=8 Id=9 WAITING on java.lang.ref.NativeReferenceQueue$&lt;a href=&apos;mailto:Lock@15385f3d&apos;&gt;Lock@15385f3d&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Signal Dispatcher&amp;quot; daemon prio=9 Id=10 RUNNABLE&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Common-Cleaner&amp;quot; daemon prio=8 Id=17 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$&lt;a href=&apos;mailto:ConditionObject@12870738&apos;&gt;ConditionObject@12870738&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Notification Thread&amp;quot; daemon prio=9 Id=18 RUNNABLE&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;pool-1-thread-1&amp;quot; daemon prio=5 Id=28 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$&lt;a href=&apos;mailto:ConditionObject@36ce136e&apos;&gt;ConditionObject@36ce136e&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;ForkJoinPool-1-worker-1&amp;quot; daemon prio=5 Id=31 WAITING on &lt;a href=&apos;mailto:java.util.concurrent.ForkJoinPool@200ab8b7&apos;&gt;java.util.concurrent.ForkJoinPool@200ab8b7&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;ForkJoinPool-1-worker-2&amp;quot; daemon prio=5 Id=32 WAITING on &lt;a href=&apos;mailto:java.util.concurrent.ForkJoinPool@200ab8b7&apos;&gt;java.util.concurrent.ForkJoinPool@200ab8b7&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
null&lt;br/&gt;
result: Failed. Execution failed: `main&amp;#39; threw exception: java.lang.Exception: JUnit test failure</description>
                <environment></environment>
        <key id="5098308">JDK-8305919</key>
            <summary>java/lang/Thread/virtual/HoldsLock.java#id0 failed, ThreadInfo.getLockInfo() return null</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alanb">Alan Bateman</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>loom</label>
                            <label>noreg-self</label>
                            <label>problemlist</label>
                            <label>tier1</label>
                            <label>tier5</label>
                            <label>tier6</label>
                            <label>tier8</label>
                    </labels>
                <created>Wed, 12 Apr 2023 09:44:19 -0700</created>
                <updated>Mon, 8 May 2023 13:10:58 -0700</updated>
                            <resolved>Tue, 2 May 2023 00:22:13 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                                                            <comments>
                            <comment id="14578285" author="dcubed" created="Tue, 2 May 2023 07:04:31 -0700"  >The fix for this bug is integrated in jdk-21+21-1749.</comment>
                            <comment id="14578180" author="dukebot" created="Tue, 2 May 2023 00:22:12 -0700"  >Changeset: 86f97fe7&lt;br/&gt;
Author:    Alan Bateman &amp;lt;&lt;a href=&apos;mailto:alanb@openjdk.org&apos;&gt;alanb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-05-02 07:20:19 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/86f97fe70c9b55d196876e1e144f26a576492ebe&quot;&gt;https://git.openjdk.org/jdk/commit/86f97fe70c9b55d196876e1e144f26a576492ebe&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14577830" author="roboduke" created="Sun, 30 Apr 2023 11:27:22 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13738&quot;&gt;https://git.openjdk.org/jdk/pull/13738&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-30 18:18:09 +0000</comment>
                            <comment id="14576664" author="dcubed" created="Tue, 25 Apr 2023 06:51:08 -0700"  >Here&amp;#39;s a log file snippet from the jdk-21+20-1635-tier1 sighting:&lt;br/&gt;
&lt;br/&gt;
java/lang/Thread/virtual/HoldsLock.java#id0&lt;br/&gt;
&lt;br/&gt;
----------System.err:(88/8299)----------&lt;br/&gt;
STARTED    HoldsLock::testThreadInfo &amp;#39;testThreadInfo()&amp;#39;&lt;br/&gt;
java.lang.NullPointerException: Cannot invoke &amp;quot;java.lang.management.ThreadInfo.getLockInfo()&amp;quot; because &amp;quot;&amp;lt;local17&amp;gt;&amp;quot; is null&lt;br/&gt;
	at HoldsLock.testThreadInfo(HoldsLock.java:120)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)&lt;br/&gt;
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)&lt;br/&gt;
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)&lt;br/&gt;
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)&lt;br/&gt;
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.runWithJUnitPlatform(JUnitRunner.java:142)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.main(JUnitRunner.java:95)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1592)&lt;br/&gt;
FAILED     HoldsLock::testThreadInfo &amp;#39;testThreadInfo()&amp;#39;&lt;br/&gt;
SKIPPED    HoldsLock::testHoldsLock &amp;#39;testHoldsLock()&amp;#39; &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8281642&quot; title=&quot;Thread.holdsLock returns true on a virtual thread when monitor is owned by the carrier&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8281642&quot;&gt;JDK-8281642&lt;/a&gt;&lt;br/&gt;
JavaTest Message: JUnit Platform Failure(s): 1&lt;br/&gt;
&lt;br/&gt;
[ JUnit Containers: found 4, started 4, succeeded 4, failed 0, aborted 0, skipped 0]&lt;br/&gt;
[ JUnit Tests: found 2, started 1, succeeded 0, failed 1, aborted 0, skipped 1]&lt;br/&gt;
&lt;br/&gt;
java.lang.Exception: JUnit test failure&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.runWithJUnitPlatform(JUnitRunner.java:149)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.JUnitRunner.main(JUnitRunner.java:95)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1592)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.Exception&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
----------System.out:(24/686)----------&lt;br/&gt;
VirtualThread[#35]/waiting@Thread-2 is waiting on &lt;a href=&apos;mailto:java.lang.Object@2b6ac532&apos;&gt;java.lang.Object@2b6ac532&lt;/a&gt;&lt;br/&gt;
		&lt;a href=&apos;mailto:java.lang.Object@2b6ac532&apos;&gt;java.lang.Object@2b6ac532&lt;/a&gt;&lt;br/&gt;
&amp;quot;main&amp;quot; prio=5 Id=1 WAITING on &lt;a href=&apos;mailto:java.lang.Thread@1dcafb77&apos;&gt;java.lang.Thread@1dcafb77&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Reference Handler&amp;quot; daemon prio=10 Id=8 RUNNABLE&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Finalizer&amp;quot; daemon prio=8 Id=9 WAITING on java.lang.ref.NativeReferenceQueue$&lt;a href=&apos;mailto:Lock@2fa5c42f&apos;&gt;Lock@2fa5c42f&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Signal Dispatcher&amp;quot; daemon prio=9 Id=10 RUNNABLE&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Common-Cleaner&amp;quot; daemon prio=8 Id=17 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$&lt;a href=&apos;mailto:ConditionObject@679ec169&apos;&gt;ConditionObject@679ec169&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;Notification Thread&amp;quot; daemon prio=9 Id=18 RUNNABLE&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;quot;pool-1-thread-1&amp;quot; daemon prio=5 Id=20 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$&lt;a href=&apos;mailto:ConditionObject@25837fa5&apos;&gt;ConditionObject@25837fa5&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
null&lt;br/&gt;
result: Failed. Execution failed: `main&amp;#39; threw exception: java.lang.Exception: JUnit test failure&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
test result: Failed. Execution failed: `main&amp;#39; threw exception: java.lang.Exception: JUnit test failure&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The test task has no JVM args (typical for Tier1) so the -Xcomp ProblemListing doesn&amp;#39;t count.</comment>
                            <comment id="14576662" author="dcubed" created="Tue, 25 Apr 2023 06:47:31 -0700"  >[~alanb] - Sorry I missed the above comment from yesterday. At this point, I&amp;#39;ve ProblemListed&lt;br/&gt;
the test in -Xcomp mode, but I&amp;#39;m about to add a non -Xcomp mode sighting from Tier1... sigh...&lt;br/&gt;
&lt;br/&gt;
Update: And as it turns out, I did the ProblemListing incorrectly. See:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8306780?focusedCommentId=14577822&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14577822&quot;&gt;https://bugs.openjdk.org/browse/JDK-8306780?focusedCommentId=14577822&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14577822&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
so the test failures continue to appear even in -Xcomp mode.</comment>
                            <comment id="14576287" author="alanb" created="Mon, 24 Apr 2023 12:22:40 -0700"  >[~dcubed] We can change the test to /othervm (so there is no interference from previous tests that run in the same VM) or try this patch&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
diff --git a/test/jdk/java/lang/Thread/virtual/HoldsLock.java b/test/jdk/java/lang/Thread/virtual/HoldsLock.java&lt;br/&gt;
index 7878502373a..2ecc2b2d5bf 100644&lt;br/&gt;
--- a/test/jdk/java/lang/Thread/virtual/HoldsLock.java&lt;br/&gt;
+++ b/test/jdk/java/lang/Thread/virtual/HoldsLock.java&lt;br/&gt;
@@ -115,6 +115,11 @@ class HoldsLock {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;boolean foundCarrier = false;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for (long tid : tids) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ThreadInfo info = bean.getThreadInfo(tid);&lt;br/&gt;
+            if (info == null) {&lt;br/&gt;
+                // thread has terminated&lt;br/&gt;
+                continue;&lt;br/&gt;
+            }&lt;br/&gt;
+&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(info); // System.out.format(&amp;quot;%d\t%s%n&amp;quot;, tid, info.getThreadName());&lt;br/&gt;
```&lt;br/&gt;
</comment>
                            <comment id="14576282" author="dcubed" created="Mon, 24 Apr 2023 12:14:08 -0700"  >All 13 sightings of this failure have the &amp;#39;-Xcomp&amp;#39; option (CI and non-CI job sets).&lt;br/&gt;
The platforms are linux-aarch64, linux-x64, macosx-x64 and windows-x64. So&lt;br/&gt;
far no macosx-aarch64 sightings in Mach5... but I can&amp;#39;t think of a reason that&lt;br/&gt;
this bug would not happen on macosx-aarch64.&lt;br/&gt;
&lt;br/&gt;
I&amp;#39;m planning to ProblemList the test in -Xcomp mode on all platforms.</comment>
                            <comment id="14573375" author="alanb" created="Wed, 12 Apr 2023 10:09:38 -0700"  >I suspect ThreadMXBean::getAllThreadIds has included the thread ID of a thread that has terminated by the time that ThreadMXBean::getThreadInfo is called to get its ThreadInfo. This scenario isn&amp;#39;t handled by the test. The test no longer runs with --enable-preview so maybe there is more re-use of agent VMs, which might explain a terminating thread from a previous test that ran in the same VM.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5098896">JDK-8306445</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5099300">JDK-8306780</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19300"><![CDATA[aarch64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3133v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17412"><![CDATA[b21]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="190"><![CDATA[java.lang]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>