<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:36:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298187] (fs) BsdFileAttributeViews::setTimes does not support lastAccessTime on HFS+</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298187</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The BasicFileAttributeView.setTimes(null, time, null) does not work when the file is on the &amp;quot;hfs&amp;quot; file store. The call does not throw any exception but the last access time is not updated. It works fine on the &amp;quot;apfs&amp;quot; file store. On the JDK-19 it used to work both on &amp;quot;hfs&amp;quot; and &amp;quot;apfs&amp;quot;. The problem is caused by the fix of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8151430&quot; title=&quot;(fs) BasicFileAttributeView.setTimes should support setting file create time on OS X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8151430&quot;&gt;&lt;strike&gt;JDK-8151430&lt;/strike&gt;&lt;/a&gt;.</description>
                <environment>&lt;p&gt;Darwin 21.6.0 Darwin Kernel Version 21.6.0: Mon Aug 22 20:17:10 PDT 2022; root:xnu-8020.140.49~2/RELEASE_X86_64 x86_64&lt;/p&gt;

&lt;p&gt;openjdk version &quot;20-ea&quot; 2023-03-21&lt;br/&gt;
OpenJDK Runtime Environment (build 20-ea+23-1677)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 20-ea+23-1677, mixed mode, sharing)&lt;/p&gt;</environment>
        <key id="5089003">JDK-8298187</key>
            <summary>(fs) BsdFileAttributeViews::setTimes does not support lastAccessTime on HFS+</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://bugs.openjdk.org/images/jbsImages/p5.png">P5</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bpb">Brian Burkhalter</assignee>
                                    <reporter username="tzezula">Tom&#225;&#353; Zezula</reporter>
                        <labels>
                            <label>noreg-hard</label>
                    </labels>
                <created>Tue, 6 Dec 2022 08:21:26 -0800</created>
                <updated>Wed, 21 Dec 2022 17:19:11 -0800</updated>
                            <resolved>Thu, 15 Dec 2022 14:48:51 -0800</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14545848" author="dukebot" created="Thu, 15 Dec 2022 14:48:49 -0800"  >Changeset: 54124394&lt;br/&gt;
Author:    Brian Burkhalter &amp;lt;&lt;a href=&apos;mailto:bpb@openjdk.org&apos;&gt;bpb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-15 22:47:29 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/5412439445fadcf66101018a9bd051f8e5d751e8&quot;&gt;https://git.openjdk.org/jdk/commit/5412439445fadcf66101018a9bd051f8e5d751e8&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14544007" author="roboduke" created="Thu, 8 Dec 2022 11:23:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11600&quot;&gt;https://git.openjdk.org/jdk/pull/11600&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-08 19:13:03 +0000</comment>
                            <comment id="14543966" author="bpb" created="Thu, 8 Dec 2022 08:51:53 -0800"  >Thanks [~tzezula]. That worked, of course, and verified the problem:&lt;br/&gt;
&lt;br/&gt;
$ ./main&lt;br/&gt;
Unexpected time: 1670461380, expected: 1670517204&lt;br/&gt;
&lt;br/&gt;
C++ is not one of my strengths.</comment>
                            <comment id="14543806" author="tzezula" created="Thu, 8 Dec 2022 00:34:07 -0800"  >&amp;gt;  I had problems compiling the attached main.cpp program&lt;br/&gt;
&lt;br/&gt;
The main.cpp requires at least C++ 17.&lt;br/&gt;
c++ --std=c++17 -o main main.cpp&lt;br/&gt;
</comment>
                            <comment id="14543673" author="bpb" created="Wed, 7 Dec 2022 15:07:09 -0800"  >As I had problems compiling the attached main.cpp program, I created the attached program modtime,c from some C code I wrote when testing setattrlist(2) earlier this year. This code also verifies that setting the last access time does not work on HFS. Hence the root problem is an Apple bug as stated above. It appears that the last access time is being set to the time when setattrlist modifies the file attributes instead of to the time specified by the ATTR_CMN_ACCTIME bit(s).&lt;br/&gt;
&lt;br/&gt;
A workaround is possible if we think that this is worth fixing.</comment>
                            <comment id="14543226" author="bpb" created="Tue, 6 Dec 2022 10:05:36 -0800"  >[~tzezula] Thanks for the corroboration.</comment>
                            <comment id="14543223" author="tzezula" created="Tue, 6 Dec 2022 09:59:10 -0800"  >[~bpb] Yes, in the JDK 19 it works fine. </comment>
                            <comment id="14543220" author="bpb" created="Tue, 6 Dec 2022 09:56:10 -0800"  >[~tzezula] Given the above statement &amp;quot;The problem is caused by the fix of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8151430&quot; title=&quot;(fs) BasicFileAttributeView.setTimes should support setting file create time on OS X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8151430&quot;&gt;&lt;strike&gt;JDK-8151430&lt;/strike&gt;&lt;/a&gt;&amp;quot;, was it actually verified that the problem does not occur in JDK 19? Thanks.</comment>
                            <comment id="14543209" author="tzezula" created="Tue, 6 Dec 2022 09:26:20 -0800"  >I think that&amp;#39;s more Apple&amp;#39;s bug. The problem can be reproduced by the attached C++ program.</comment>
                            <comment id="14543191" author="alanb" created="Tue, 6 Dec 2022 08:35:54 -0800"  >I wonder if this is a macOS issue with setattrlist rather than a JDK issue.</comment>
                    </comments>
                    <attachments>
                            <attachment id="101919" name="Main.java" size="1226" author="tzezula" created="Tue, 6 Dec 2022 08:20:31 -0800"/>
                            <attachment id="101920" name="main.cpp" size="1065" author="tzezula" created="Tue, 6 Dec 2022 09:26:46 -0800"/>
                            <attachment id="101945" name="modtime.c" size="1794" author="bpb" created="Wed, 7 Dec 2022 15:00:57 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17004"><![CDATA[x86]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zi9v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17305"><![CDATA[b03]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="228"><![CDATA[java.nio]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>