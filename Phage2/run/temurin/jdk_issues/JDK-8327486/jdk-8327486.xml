<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:10:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8327486] java/util/Properties/PropertiesStoreTest.java fails &quot;Text &apos;xxx&apos; could not be parsed at index 20&quot; after 8174269</title>
                <link>https://bugs.openjdk.org/browse/JDK-8327486</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>java/util/Properties/PropertiesStoreTest.java fails:&lt;br/&gt;
&lt;br/&gt;
Using locale:  for Properties#store(OutputStream) test&lt;br/&gt;
test PropertiesStoreTest.testStoreOutputStreamDateComment(): failure&lt;br/&gt;
java.lang.AssertionError: Unexpected date comment: Wed Mar 06 23:25:14 CST 2024&lt;br/&gt;
	at org.testng.Assert.fail(Assert.java:87)&lt;br/&gt;
	at PropertiesStoreTest.testDateComment(PropertiesStoreTest.java:247)&lt;br/&gt;
	at PropertiesStoreTest.testStoreOutputStreamDateComment(PropertiesStoreTest.java:217)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)&lt;br/&gt;
	at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)&lt;br/&gt;
	at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)&lt;br/&gt;
	at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)&lt;br/&gt;
	at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)&lt;br/&gt;
	at org.testng.TestRunner.privateRun(TestRunner.java:764)&lt;br/&gt;
	at org.testng.TestRunner.run(TestRunner.java:585)&lt;br/&gt;
	at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)&lt;br/&gt;
	at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)&lt;br/&gt;
	at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)&lt;br/&gt;
	at org.testng.SuiteRunner.run(SuiteRunner.java:286)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)&lt;br/&gt;
	at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)&lt;br/&gt;
	at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)&lt;br/&gt;
	at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)&lt;br/&gt;
	at org.testng.TestNG.runSuites(TestNG.java:1069)&lt;br/&gt;
	at org.testng.TestNG.run(TestNG.java:1037)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:102)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.TestNGRunner.main(TestNGRunner.java:58)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainTask.run(MainWrapper.java:138)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1575)&lt;br/&gt;
Caused by: java.time.format.DateTimeParseException: Text &amp;#39;Wed Mar 06 23:25:14 CST 2024&amp;#39; could not be parsed at index 20&lt;br/&gt;
	at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)&lt;br/&gt;
	at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1936)&lt;br/&gt;
	at PropertiesStoreTest.testDateComment(PropertiesStoreTest.java:245)&lt;br/&gt;
	... 30 more&lt;br/&gt;
Using locale: ksh for Properties#store(OutputStream) test&lt;br/&gt;
&lt;br/&gt;
This testcase failed on 2024-03-06 04:00:00 CST, passed on 2024-03-06 02:00:06 CST</description>
                <environment>&lt;p&gt;&amp;gt; cat /etc/os-release ; uname -a&lt;br/&gt;
NAME=&quot;Alibaba Cloud Linux&quot;&lt;br/&gt;
VERSION=&quot;3 (Soaring Falcon)&quot;&lt;br/&gt;
ID=&quot;alinux&quot;&lt;br/&gt;
ID_LIKE=&quot;rhel fedora centos anolis&quot;&lt;br/&gt;
VERSION_ID=&quot;3&quot;&lt;br/&gt;
PLATFORM_ID=&quot;platform:al8&quot;&lt;br/&gt;
PRETTY_NAME=&quot;Alibaba Cloud Linux 3 (Soaring Falcon)&quot;&lt;br/&gt;
ANSI_COLOR=&quot;0;31&quot;&lt;br/&gt;
HOME_URL=&quot;https://www.aliyun.com/&quot;&lt;/p&gt;

&lt;p&gt;Linux x31k05047.sqa.na131 5.10.134-007.ali5000.al8.aarch64 #1 SMP Fri Mar 3 18:39:24 CST 2023 aarch64 aarch64 aarch64 GNU/Linux&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&amp;gt; locale&lt;br/&gt;
LANG=en_US.UTF-8&lt;br/&gt;
LC_CTYPE=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_NUMERIC=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_TIME=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_COLLATE=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_MONETARY=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_MESSAGES=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_PAPER=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_NAME=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_ADDRESS=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_TELEPHONE=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_MEASUREMENT=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_IDENTIFICATION=&quot;en_US.UTF-8&quot;&lt;br/&gt;
LC_ALL=&lt;/p&gt;</environment>
        <key id="5123435">JDK-8327486</key>
            <summary>java/util/Properties/PropertiesStoreTest.java fails &quot;Text &apos;xxx&apos; could not be parsed at index 20&quot; after 8174269</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="naoto">Naoto Sato</assignee>
                                    <reporter username="syan">Sendao Yan</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>ursqe-triaged</label>
                    </labels>
                <created>Wed, 6 Mar 2024 09:08:01 -0800</created>
                <updated>Mon, 22 Apr 2024 06:59:59 -0700</updated>
                            <resolved>Mon, 11 Mar 2024 18:40:50 -0700</resolved>
                                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14666523" author="roboduke" created="Fri, 19 Apr 2024 04:30:32 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/511&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/511&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-19 11:25:12 +0000</comment>
                            <comment id="14666520" author="goetz" created="Fri, 19 Apr 2024 04:25:41 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.4-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.&lt;br/&gt;
</comment>
                            <comment id="14656385" author="dukebot" created="Mon, 11 Mar 2024 18:40:49 -0700"  >Changeset: e21da4ca&lt;br/&gt;
Author:    SendaoYan &amp;lt;&lt;a href=&apos;mailto:syan@openjdk.org&apos;&gt;syan@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Jie Fu &amp;lt;&lt;a href=&apos;mailto:jiefu@openjdk.org&apos;&gt;jiefu@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-03-12 01:38:20 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/e21da4caacb464827270d20b8fc62a50a1706316&quot;&gt;https://git.openjdk.org/jdk/commit/e21da4caacb464827270d20b8fc62a50a1706316&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14655557" author="roboduke" created="Thu, 7 Mar 2024 08:50:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18155&quot;&gt;https://git.openjdk.org/jdk/pull/18155&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-07 16:47:01 +0000</comment>
                            <comment id="14655492" author="JIRAUSER21405" created="Thu, 7 Mar 2024 05:07:14 -0800"  >If I change the line 62 from DateTimeFormatter.ofPattern(DATE_FORMAT_PATTERN, Locale.ROOT) to DateTimeFormatter.ofPattern(DATE_FORMAT_PATTERN), i.e. delete the 2rd paramater Locale.ROOT, the java.time.format.DateTimeParseException disappear, and this testcase passed.</comment>
                            <comment id="14655480" author="michaelm" created="Thu, 7 Mar 2024 04:29:36 -0800"  >The release note for 8325889 does say that some locale sensitive behavior changes may be possible:&lt;br/&gt;
&lt;br/&gt;
The `COMPAT` locale data provider has been removed from the JDK. Specifying `COMPAT` in `java.locale.providers` system property to the launcher command line will have no effect and will use the data from `CLDR`, which may cause incompatible locale-sensitive behavior, such as date/time/number formatting and parsing issues. Such applications are encouraged to migrate to CLDR data or consider a workaround discussed in the [CSR](&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8325568&quot;&gt;https://bugs.openjdk.org/browse/JDK-8325568&lt;/a&gt;).</comment>
                            <comment id="14655469" author="JIRAUSER21405" created="Thu, 7 Mar 2024 04:02:05 -0800"  >Mine OS version information is:&lt;br/&gt;
&amp;gt; cat /etc/os-release ; uname -a&lt;br/&gt;
NAME=&amp;quot;Alibaba Cloud Linux&amp;quot;&lt;br/&gt;
VERSION=&amp;quot;3 (Soaring Falcon)&amp;quot;&lt;br/&gt;
ID=&amp;quot;alinux&amp;quot;&lt;br/&gt;
ID_LIKE=&amp;quot;rhel fedora centos anolis&amp;quot;&lt;br/&gt;
VERSION_ID=&amp;quot;3&amp;quot;&lt;br/&gt;
PLATFORM_ID=&amp;quot;platform:al8&amp;quot;&lt;br/&gt;
PRETTY_NAME=&amp;quot;Alibaba Cloud Linux 3 (Soaring Falcon)&amp;quot;&lt;br/&gt;
ANSI_COLOR=&amp;quot;0;31&amp;quot;&lt;br/&gt;
HOME_URL=&amp;quot;&lt;a href=&quot;https://www.aliyun.com/&quot;&gt;https://www.aliyun.com/&lt;/a&gt;&amp;quot;&lt;br/&gt;
&lt;br/&gt;
Linux x31k05047.sqa.na131 5.10.134-007.ali5000.al8.aarch64 #1 SMP Fri Mar 3 18:39:24 CST 2023 aarch64 aarch64 aarch64 GNU/Linux&lt;br/&gt;
&lt;br/&gt;
&amp;gt; locale&lt;br/&gt;
LANG=en_US.UTF-8&lt;br/&gt;
LC_CTYPE=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_NUMERIC=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_TIME=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_COLLATE=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_MONETARY=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_MESSAGES=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_PAPER=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_NAME=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_ADDRESS=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_TELEPHONE=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_MEASUREMENT=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_IDENTIFICATION=&amp;quot;en_US.UTF-8&amp;quot;&lt;br/&gt;
LC_ALL=&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
This testcase passed with commit id c6641c7d2d5fd3e085e39646c9a350eeb83e3c5b, and failed with commit id 809995b526ea79e4fd9fd4f911bcce811f77eb89, show as below&lt;br/&gt;
&lt;br/&gt;
+ cat PropertiesStoreTest.java&lt;br/&gt;
import java.time.format.DateTimeFormatter;&lt;br/&gt;
import java.util.Locale;&lt;br/&gt;
&lt;br/&gt;
public class PropertiesStoreTest {&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private static final String DATE_FORMAT_PATTERN = &amp;quot;EEE MMM dd HH:mm:ss zzz uuuu&amp;quot;;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(DATE_FORMAT_PATTERN, Locale.ROOT);&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public static void main(String[] args) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String comment = &amp;quot;Thu Mar 07 16:54:36 CST 2024&amp;quot;;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;FORMATTER.parse(comment);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
}&lt;br/&gt;
+ javac PropertiesStoreTest.java&lt;br/&gt;
+ ./build/jdk-c6641c7d2d5fd3e085e39646c9a350eeb83e3c5b-0305-1624/bin/java PropertiesStoreTest&lt;br/&gt;
+ ./build/jdk-809995b526ea79e4fd9fd4f911bcce811f77eb89-0305-1932/bin/java PropertiesStoreTest&lt;br/&gt;
Exception in thread &amp;quot;main&amp;quot; java.time.format.DateTimeParseException: Text &amp;#39;Thu Mar 07 16:54:36 CST 2024&amp;#39; could not be parsed at index 20&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2108)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1936)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at PropertiesStoreTest.main(PropertiesStoreTest.java:11)</comment>
                            <comment id="14655407" author="michaelm" created="Thu, 7 Mar 2024 01:40:08 -0800"  >The test passes for me on Macos and Linux in JDK mainline. Can you specify what OS and release it fails for you?&lt;br/&gt;
&lt;br/&gt;
Could there be a configuration problem on your test system?</comment>
                            <comment id="14655404" author="JIRAUSER21405" created="Thu, 7 Mar 2024 01:16:24 -0800"  >fails after 8174269</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5125008">JDK-8328840</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5127568">JDK-8330828</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4914699">JDK-8174269</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="108556" name="PropertiesStoreTest.log" size="26735" author="syan" created="Wed, 6 Mar 2024 09:07:45 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="23032">23</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35bfn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17407"><![CDATA[b14]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="239"><![CDATA[java.util:i18n]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>