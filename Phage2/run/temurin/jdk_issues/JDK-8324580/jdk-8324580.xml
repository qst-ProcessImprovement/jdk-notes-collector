<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:44:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8324580] SIGFPE on THP initialization on kernels &lt; 4.10</title>
                <link>https://bugs.openjdk.org/browse/JDK-8324580</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Problem:&lt;br/&gt;
When THP is enabled, JDK reads /sys/kernel/mm/transparent_hugepage/hpage_pmd_size file to detect large page size. However this file only appeared in kernel 4.10 and does not exist on kernel old kernels (such as 3.10 used by RHEL-7).&lt;br/&gt;
&lt;br/&gt;
This results in detected large page size of 0B and crash, when -XX:+UseTransparentHugePages is used on old kernel.&lt;br/&gt;
&lt;br/&gt;
gdb --args jdk-23+6/bin/java -XX:+UseTransparentHugePages -Xmx128m -Xlog:pagesize -version&lt;br/&gt;
...&lt;br/&gt;
[0.005s][info][pagesize] Static hugepage support:&lt;br/&gt;
[0.005s][info][pagesize]   hugepage size: 2M&lt;br/&gt;
[0.005s][info][pagesize]   hugepage size: 1G&lt;br/&gt;
[0.005s][info][pagesize]   default hugepage size: 2M&lt;br/&gt;
[0.005s][info][pagesize] Transparent hugepage (THP) support:&lt;br/&gt;
[0.005s][info][pagesize]   THP mode: always&lt;br/&gt;
[0.005s][info][pagesize]   THP pagesize: 0B&lt;br/&gt;
[0.005s][info][pagesize] Shared memory transparent hugepage (THP) support:&lt;br/&gt;
[0.005s][info][pagesize]   Shared memory THP mode: unknown&lt;br/&gt;
[0.005s][info][pagesize] JVM will attempt to prevent THPs in thread stacks.&lt;br/&gt;
[0.005s][info][pagesize] UseLargePages=1, UseTransparentHugePages=1&lt;br/&gt;
[0.005s][info][pagesize] Large page support enabled. Usable page sizes: 4k. Default large page size: 0B.&lt;br/&gt;
&lt;br/&gt;
Program received signal SIGFPE, Arithmetic exception.&lt;br/&gt;
[Switching to Thread 0x7ffff7fc2700 (LWP 31385)]&lt;br/&gt;
0x00007ffff68eeb20 in lcm(unsigned long, unsigned long) () from /home/tester/jdk-23+6/lib/server/libjvm.so&lt;br/&gt;
(gdb) bt&lt;br/&gt;
#0  0x00007ffff68eeb20 in lcm(unsigned long, unsigned long) () from /home/tester/jdk-23+6/lib/server/libjvm.so&lt;br/&gt;
#1  0x00007ffff64a68f2 in Arguments::apply_ergo() () from /home/tester/jdk-23+6/lib/server/libjvm.so&lt;br/&gt;
#2  0x00007ffff700458f in Threads::create_vm(JavaVMInitArgs*, bool*) () from /home/tester/jdk-23+6/lib/server/libjvm.so&lt;br/&gt;
#3  0x00007ffff6a2373f in JNI_CreateJavaVM () from /home/tester/jdk-23+6/lib/server/libjvm.so&lt;br/&gt;
#4  0x00007ffff7fe704b in InitializeJVM (ifn=&amp;lt;synthetic pointer&amp;gt;, penv=0x7ffff7fc1ea8, pvm=0x7ffff7fc1ea0) at src/java.base/share/native/libjli/java.c:1550&lt;br/&gt;
#5  JavaMain (_args=&amp;lt;optimized out&amp;gt;) at src/java.base/share/native/libjli/java.c:491&lt;br/&gt;
#6  0x00007ffff7feb1c9 in ThreadJavaMain (args=&amp;lt;optimized out&amp;gt;) at src/java.base/unix/native/libjli/java_md.c:650&lt;br/&gt;
#7  0x00007ffff7bc6ea5 in start_thread (arg=0x7ffff7fc2700) at pthread_create.c:307&lt;br/&gt;
#8  0x00007ffff76ebb0d in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:111&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5119882">JDK-8324580</key>
            <summary>SIGFPE on THP initialization on kernels &lt; 4.10</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zzambers">Zdenek Zambersky</assignee>
                                    <reporter username="zzambers">Zdenek Zambersky</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>memory</label>
                    </labels>
                <created>Tue, 23 Jan 2024 16:35:22 -0800</created>
                <updated>Fri, 2 Aug 2024 00:59:28 -0700</updated>
                            <resolved>Thu, 15 Feb 2024 08:03:01 -0800</resolved>
                                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14692876" author="roboduke" created="Thu, 25 Jul 2024 19:42:07 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2745&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2745&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-26 02:36:20 +0000</comment>
                            <comment id="14691219" author="roboduke" created="Fri, 19 Jul 2024 02:48:16 -0700"  >[jdk21u-fix-request] Approval Request from luwang1103&lt;br/&gt;
.The changes is related to the execution of THP. Fix low kernel version execution, such as 3.10.0-1160.108.1.el7.x86_64</comment>
                            <comment id="14689681" author="roboduke" created="Mon, 15 Jul 2024 02:15:32 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/840&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/840&lt;/a&gt;&lt;br/&gt;
Date: 2024-07-15 09:09:04 +0000</comment>
                            <comment id="14649739" author="dukebot" created="Thu, 15 Feb 2024 08:03:00 -0800"  >Changeset: a231706a&lt;br/&gt;
Author:    Zdenek Zambersky &amp;lt;&lt;a href=&apos;mailto:zzambers@openjdk.org&apos;&gt;zzambers@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Thomas Stuefe &amp;lt;&lt;a href=&apos;mailto:stuefe@openjdk.org&apos;&gt;stuefe@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-02-15 16:01:18 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/a231706a06a86abb16d0040e8ca1b76a9741a0b2&quot;&gt;https://git.openjdk.org/jdk/commit/a231706a06a86abb16d0040e8ca1b76a9741a0b2&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14643250" author="roboduke" created="Tue, 23 Jan 2024 16:39:56 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17545&quot;&gt;https://git.openjdk.org/jdk/pull/17545&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-24 00:36:03 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5135836">JDK-8337725</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5121608">JDK-8325983</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34q77:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>