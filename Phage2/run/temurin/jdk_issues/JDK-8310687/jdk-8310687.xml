<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:30:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8310687] JDK-8303215 is incomplete</title>
                <link>https://bugs.openjdk.org/browse/JDK-8310687</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303215&quot; title=&quot;Make thread stacks not use huge pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303215&quot;&gt;&lt;strike&gt;JDK-8303215&lt;/strike&gt;&lt;/a&gt; added a workaround to deal with too-eager THP page coalescation for thread stacks that could lead to a much higher thread stack use than planned.&lt;br/&gt;
&lt;br/&gt;
The workaround helps a lot already, but it is still incomplete in light of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8310233&quot; title=&quot;Fix THP detection on Linux&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8310233&quot;&gt;&lt;strike&gt;JDK-8310233&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
We do this workaround even if unnecessary (when THPs are disabled on the system). And we may use the wrong page size when multiple *static* hugepage sizes are configured on the system, which may make the fix ineffectual for java threads (e.g. THP assumes lp size is 1G, causing the condition in os::create_thread to fail).&lt;br/&gt;
&lt;br/&gt;
I am working on a solution for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8310233&quot; title=&quot;Fix THP detection on Linux&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8310233&quot;&gt;&lt;strike&gt;JDK-8310233&lt;/strike&gt;&lt;/a&gt;. I plan to separate cleanly, at the os::Linux namespace, *static* hugepages from THPs such that we can query the THP page size and mode independently from the large-page-abstraction in the os namespace. Once done, the &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303215&quot; title=&quot;Make thread stacks not use huge pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303215&quot;&gt;&lt;strike&gt;JDK-8303215&lt;/strike&gt;&lt;/a&gt; workaround can be altered to use THP state and THP page size instead.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5103930">JDK-8310687</key>
            <summary>JDK-8303215 is incomplete</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stuefe">Thomas Stuefe</assignee>
                                    <reporter username="stuefe">Thomas Stuefe</reporter>
                        <labels>
                            <label>jdk21u-fix-SQE-ok</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>large-pages</label>
                            <label>sustaining</label>
                    </labels>
                <created>Thu, 22 Jun 2023 21:29:37 -0700</created>
                <updated>Tue, 5 Dec 2023 01:39:03 -0800</updated>
                            <resolved>Fri, 21 Jul 2023 07:21:56 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14607640" author="roboduke" created="Wed, 30 Aug 2023 02:38:36 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1697&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1697&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-25 11:57:30 +0000</comment>
                            <comment id="14606758" author="roboduke" created="Fri, 25 Aug 2023 23:06:44 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/103&quot;&gt;https://git.openjdk.org/jdk21u/pull/103&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-25 12:48:36 +0000</comment>
                            <comment id="14605363" author="roboduke" created="Mon, 21 Aug 2023 09:11:08 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1679&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1679&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-21 12:47:15 +0000</comment>
                            <comment id="14605129" author="roboduke" created="Fri, 18 Aug 2023 23:36:09 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2086&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2086&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-17 14:50:49 +0000</comment>
                            <comment id="14597865" author="dukebot" created="Fri, 21 Jul 2023 07:21:55 -0700"  >Changeset: 84b325b8&lt;br/&gt;
Author:    Thomas Stuefe &amp;lt;&lt;a href=&apos;mailto:stuefe@openjdk.org&apos;&gt;stuefe@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-07-21 14:19:57 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/84b325b844c08809448a9c073a11443d9e3c3f8e&quot;&gt;https://git.openjdk.org/jdk/commit/84b325b844c08809448a9c073a11443d9e3c3f8e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14596916" author="roboduke" created="Tue, 18 Jul 2023 08:46:20 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14919&quot;&gt;https://git.openjdk.org/jdk/pull/14919&lt;/a&gt;&lt;br/&gt;
Date: 2023-07-18 08:14:56 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5108986">JDK-8315123</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5109317">JDK-8315397</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5115858">JDK-8321111</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5103423">JDK-8310233</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5103455">JDK-8310261</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095026">JDK-8303215</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3216j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17337"><![CDATA[b08]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>