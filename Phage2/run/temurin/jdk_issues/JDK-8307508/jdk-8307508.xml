<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 08:58:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8307508] IndirectVarHandle.isAccessModeSupported throws NPE</title>
                <link>https://bugs.openjdk.org/browse/JDK-8307508</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>IndirectVarHandle, added by foreign API to support coordinate mapping, value filtering, etc. does not properly implement VarHandle.isAccessModeSupported. It throws an NPE upon invocation, which is most likely undesired.&lt;br/&gt;
&lt;br/&gt;
Example code in JShell (run with --enable-preview):&lt;br/&gt;
```java&lt;br/&gt;
var lookup = MethodHandles.lookup();&lt;br/&gt;
var arrayVh = MethodHandles.arrayElementVarHandle(int[].class);&lt;br/&gt;
var addOne = lookup.bind((IntUnaryOperator) a -&amp;gt; a + 1, &amp;quot;applyAsInt&amp;quot;, MethodType.methodType(int.class, int.class));&lt;br/&gt;
var patchedArrayVh = MethodHandles.filterCoordinates(arrayVh, 1, addOne);&lt;br/&gt;
patchedArrayVh.isAccessModeSupported(VarHandle.AccessMode.GET); // NPE&lt;br/&gt;
```</description>
                <environment></environment>
        <key id="5100189">JDK-8307508</key>
            <summary>IndirectVarHandle.isAccessModeSupported throws NPE</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liach">Chen Liang</assignee>
                                    <reporter username="liach">Chen Liang</reporter>
                        <labels>
                            <label>hgupdate-sync</label>
                    </labels>
                <created>Thu, 4 May 2023 20:40:45 -0700</created>
                <updated>Fri, 21 Feb 2025 14:02:35 -0800</updated>
                            <resolved>Tue, 13 Jun 2023 10:06:53 -0700</resolved>
                                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>22</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14589124" author="roboduke" created="Tue, 13 Jun 2023 16:22:23 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21/pull/16&quot;&gt;https://git.openjdk.org/jdk21/pull/16&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-13 23:14:29 +0000</comment>
                            <comment id="14589046" author="mchung" created="Tue, 13 Jun 2023 11:11:25 -0700"  >[~liach] I think it&amp;#39;s good to backport this low-risk fix to jdk21 fixing NPE.</comment>
                            <comment id="14589032" author="dukebot" created="Tue, 13 Jun 2023 10:06:51 -0700"  >Changeset: 75dcc4ef&lt;br/&gt;
Author:    Chen Liang &amp;lt;&lt;a href=&apos;mailto:liach@openjdk.org&apos;&gt;liach@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Mandy Chung &amp;lt;&lt;a href=&apos;mailto:mchung@openjdk.org&apos;&gt;mchung@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-13 17:05:52 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/75dcc4ef94d90e4aa7f8ca5eccc97c91492d6eed&quot;&gt;https://git.openjdk.org/jdk/commit/75dcc4ef94d90e4aa7f8ca5eccc97c91492d6eed&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14588401" author="roboduke" created="Sun, 11 Jun 2023 22:32:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14409&quot;&gt;https://git.openjdk.org/jdk/pull/14409&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-12 05:27:35 +0000</comment>
                            <comment id="14588232" author="mchung" created="Fri, 9 Jun 2023 10:50:56 -0700"  >I suggest to split the fix for this issue from PR 13821 in its own PR as it has no relationship with &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8291065&quot; title=&quot;Creating a VarHandle for a static field triggers class initialization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8291065&quot;&gt;&lt;strike&gt;JDK-8291065&lt;/strike&gt;&lt;/a&gt;.  That would also make it easier to backport if desirable.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5103116">JDK-8309980</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5151188">JDK-8350519</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ea3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17317"><![CDATA[b02]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="213"><![CDATA[java.lang.invoke]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>