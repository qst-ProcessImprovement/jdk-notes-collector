<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:59:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8308593] Add KEEPALIVE Extended Socket Options Support for Windows</title>
                <link>https://bugs.openjdk.org/browse/JDK-8308593</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The mssql-jdbc driver uses the keepAliveTime and keepAliveInterval socket options in order to facilitate logic to maintain idle connections to the server. However, this feature of maintaining idle connections by driver is only supported on Linux and Mac as the KEEPALIVE extended socket options are only supported on Linux and Mac within the JDK. In order to maintain feature parity, support for KEEPALIVE socket options need to be implemented within the JDK for Windows. KEEPALIVE extended socket options were originally implemented by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8194298&quot; title=&quot;Add support for per Socket configuration of TCP keepalive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8194298&quot;&gt;&lt;strike&gt;JDK-8194298&lt;/strike&gt;&lt;/a&gt; for Linux and Mac. The main JDK changes would be adding the required native Windows socket API calls in order to set the KEEPALIVE values.</description>
                <environment></environment>
        <key id="5101511">JDK-8308593</key>
            <summary>Add KEEPALIVE Extended Socket Options Support for Windows</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bstafford">Brian Stafford</assignee>
                                    <reporter username="scrater">Stephanie Crater</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-SQE-ok</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>release-note=yes</label>
                    </labels>
                <created>Mon, 22 May 2023 13:41:20 -0700</created>
                <updated>Sun, 12 Nov 2023 23:21:46 -0800</updated>
                            <resolved>Mon, 24 Jul 2023 02:05:15 -0700</resolved>
                                                    <fixVersion>22</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                                                            <comments>
                            <comment id="14625563" author="roboduke" created="Fri, 10 Nov 2023 12:08:46 -0800"  >[jdk11u-fix-request] Approval Request from Terry Chow&lt;br/&gt;
Requesting backport approval to 11u to have keepalive parity with the other OS platforms. Risk is low as the new code path in the backported code applies to Windows only and requires the new socket options to be set to take effect. Backport was ran against Tier 1 tests and was also manually tested. There&amp;#39;s also existing tests in 11u that cover this scenario and so no new tests were added.</comment>
                            <comment id="14625562" author="roboduke" created="Fri, 10 Nov 2023 12:08:25 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2278&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2278&lt;/a&gt;&lt;br/&gt;
Date: 2023-11-10 20:04:31 +0000</comment>
                            <comment id="14614473" author="dfuchs" created="Wed, 27 Sep 2023 12:11:54 -0700"  >Hi, this issue is marked as needing a release note but none has been produced.&lt;br/&gt;
Could you please add a release note for this? &lt;br/&gt;
Instructions are available here: &lt;a href=&quot;https://openjdk.org/guide/#release-notes&quot;&gt;https://openjdk.org/guide/#release-notes&lt;/a&gt;</comment>
                            <comment id="14611853" author="roboduke" created="Mon, 18 Sep 2023 11:47:24 -0700"  >[jdk17u-fix-request] Approval Request from Terry Chow&lt;br/&gt;
The reason for the backport to 17u is to have keepalive parity with the other OS platforms. The risk is low as the backported code introduces a new code path that only takes effect when keepalive extended socket options are set on a Windows platform. I manually tested the patch and Tier 1 tests were ran and they&amp;#39;re passing. No new tests were added as there are existing tests in 17u that cover this scenario.</comment>
                            <comment id="14611851" author="roboduke" created="Mon, 18 Sep 2023 11:43:08 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1751&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1751&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-18 18:33:42 +0000</comment>
                            <comment id="14607382" author="roboduke" created="Tue, 29 Aug 2023 10:15:13 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/117&quot;&gt;https://git.openjdk.org/jdk21u/pull/117&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-29 17:08:31 +0000</comment>
                            <comment id="14607330" author="sgehwolf" created="Tue, 29 Aug 2023 05:32:31 -0700"  >Fix Request 21u:&lt;br/&gt;
&lt;br/&gt;
Fix request comment on behalf of Terry Chow: The reason for backporting the Windows keepalive extended socket options to 21u is to have keepalive parity with the other OS platforms. The risk is low as the backported code introduces a new code path that only takes effect when keepalive extended socket options are set on a Windows platform. It isn&amp;#39;t expected to cause unintended effects or affect any current users as the keepalive options were never supported in the JDK for Windows before this patch. Tier 1 tests were ran and they&amp;#39;re passing. I also manually tested and confirmed the patch to be working on Windows (specifically Windows 10 since that&amp;#39;s the only Windows platform available to me at the moment). Test coverage is covered by existing tests from another backport from &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8194298&quot; title=&quot;Add support for per Socket configuration of TCP keepalive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8194298&quot;&gt;&lt;strike&gt;JDK-8194298&lt;/strike&gt;&lt;/a&gt;. The backport cleanly applies to 21u without any conflicts.</comment>
                            <comment id="14598140" author="dukebot" created="Mon, 24 Jul 2023 02:05:13 -0700"  >Changeset: f3ade388&lt;br/&gt;
Author:    Terry Chow &amp;lt;&lt;a href=&apos;mailto:v-terrychow@microsoft.com&apos;&gt;v-terrychow@microsoft.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Michael McMahon &amp;lt;&lt;a href=&apos;mailto:michaelm@openjdk.org&apos;&gt;michaelm@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-07-24 09:03:10 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/f3ade388dac0b882e671462caa762138f44817fb&quot;&gt;https://git.openjdk.org/jdk/commit/f3ade388dac0b882e671462caa762138f44817fb&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14587618" author="alanb" created="Wed, 7 Jun 2023 05:52:31 -0700"  >Daniel Jeli&#324;ski points out that new releases of Windows 10 have TCP_KEEPIDLE and TCP_KEEPINTVL&lt;br/&gt;
&lt;a href=&quot;https://mail.openjdk.org/pipermail/net-dev/2023-June/021465.html&quot;&gt;https://mail.openjdk.org/pipermail/net-dev/2023-June/021465.html&lt;/a&gt;</comment>
                            <comment id="14586224" author="alanb" created="Thu, 1 Jun 2023 01:55:29 -0700"  >[~scrater] The starting point for this is probably a discussion on net-dev mailing list. It&amp;#39;s a bit premature to create a PR without first bringing the problem to the mailing list and discussing options.</comment>
                            <comment id="14586126" author="JIRAUSER20405" created="Wed, 31 May 2023 13:54:58 -0700"  >As Terry (the author of the PR) does not have a JBS account, it may be easier to post any comments directly on his PR so he can reply directly. Or if talking via JBS is preferred, I can post messages on his behalf.</comment>
                            <comment id="14586097" author="roboduke" created="Wed, 31 May 2023 11:34:09 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14232&quot;&gt;https://git.openjdk.org/jdk/pull/14232&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-30 22:46:05 +0000</comment>
                            <comment id="14585898" author="alanb" created="Wed, 31 May 2023 00:28:37 -0700"  >It would be useful to know if the semantics of the SIO_KEEPALIVE_VALS control code is the equivalent of the TCP_KEEPIDLE + TCP_KEEPINTERVAL on other platforms. It would also be useful to know if Windows has a system-wide default value for both the keep alive idle and interval. If it does then it might be possible to use the existing extended options, which if under the covers that both need to be set at the same time.&lt;br/&gt;
&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5109993">JDK-8315991</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5113602">JDK-8319144</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4948614">JDK-8194298</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5111419">JDK-8317259</subtask>
                                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31m9v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17337"><![CDATA[b08]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="193"><![CDATA[java.net]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>