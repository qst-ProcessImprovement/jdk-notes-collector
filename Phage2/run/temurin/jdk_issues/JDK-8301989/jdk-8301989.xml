<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 16:36:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8301989] new javax.swing.text.DefaultCaret().setBlinkRate(N) results in NPE</title>
                <link>https://bugs.openjdk.org/browse/JDK-8301989</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Execution of the following code:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;new DefaultCaret().setBlinkRate(100);&lt;br/&gt;
&lt;br/&gt;
leads to&lt;br/&gt;
&lt;br/&gt;
Exception in thread &amp;quot;main&amp;quot; java.lang.NullPointerException: Cannot invoke &amp;quot;javax.swing.text.JTextComponent.isEditable()&amp;quot; because &amp;quot;this.component&amp;quot; is null&lt;br/&gt;
	at java.desktop/javax.swing.text.DefaultCaret.setBlinkRate(DefaultCaret.java:1053)</description>
                <environment></environment>
        <key id="5093563">JDK-8301989</key>
            <summary>new javax.swing.text.DefaultCaret().setBlinkRate(N) results in NPE</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kizune">Alexander Zuev</assignee>
                                    <reporter username="dbessono">Dmitry Bessonov</reporter>
                        <labels>
                            <label>CPU25_04-critical-SQE-OK</label>
                            <label>CPU25_04-critical-approved</label>
                            <label>conformance</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk20-fix-request</label>
                            <label>jdk20-fix-yes</label>
                            <label>regression</label>
                            <label>sn_137</label>
                            <label>tck-red-11.0.27-oracle</label>
                            <label>tck-red-17.0.15-oracle</label>
                            <label>tck-red-20</label>
                            <label>tck-red-8u451</label>
                    </labels>
                <created>Tue, 7 Feb 2023 07:07:52 -0800</created>
                <updated>Sat, 22 Feb 2025 07:15:15 -0800</updated>
                            <resolved>Wed, 8 Feb 2023 15:57:58 -0800</resolved>
                                    <version>20</version>
                    <version>20.0.1</version>
                    <version>21</version>
                                    <fixVersion>20</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                                                                <comments>
                            <comment id="14755244" author="roboduke" created="Thu, 20 Feb 2025 05:28:57 -0800"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3284&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3284&lt;/a&gt;&lt;br/&gt;
Date: 2025-02-20 13:23:31 +0000</comment>
                            <comment id="14755243" author="goetz" created="Thu, 20 Feb 2025 05:21:33 -0800"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.15-oracle.&lt;br/&gt;
Low risk, simple fix in java.desktop.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.</comment>
                            <comment id="14558672" author="dukebot" created="Wed, 8 Feb 2023 15:57:57 -0800"  >Changeset: e81f20b5&lt;br/&gt;
Author:    Alexander Zuev &amp;lt;&lt;a href=&apos;mailto:kizune@openjdk.org&apos;&gt;kizune@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-08 23:55:58 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk20/commit/e81f20b50405dc02963c8bf549000c60e78152d8&quot;&gt;https://git.openjdk.org/jdk20/commit/e81f20b50405dc02963c8bf549000c60e78152d8&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14558355" author="kizune" created="Wed, 8 Feb 2023 04:25:21 -0800"  >Fix Request &lt;br/&gt;
&lt;br/&gt;
Reason: &lt;br/&gt;
While implementing fix for the bug &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-4512626&quot; title=&quot;Non-editable JTextArea provides no visual indication of keyboard focus&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-4512626&quot;&gt;&lt;strike&gt;JDK-4512626&lt;/strike&gt;&lt;/a&gt; the new code was added that slightly alters the behaviour of the default Caret implementation for Swing text based components. The fix was contained within the javax.swing.text.DefaultCaret class and employed analyzing of the editability status of the component to which the caret is assigned. In doing so the new code fails to take into account possibility that the caret can be initialized and configured separately from the component and assigned to the component later. Because of that the method can be called from a null which causes a NullPointerException. If such code exists in the client application that can cause a slew of side effects ranging from missing UI components to abnormal termination of the application. In addition this behaviour is undocumented and as such was deemed as a JCK certification failure by the JCK team.&lt;br/&gt;
&lt;br/&gt;
Giving all that with heavy hart must I request to amend the code on such a late stage of the development. The idea of the proposed fix is simple: we should ensure that there is a text component associated with the Caret before calling methods from it. In case when the component is not yet assigned we should safely store the provided value in a way that will preserve the Caret configuration so when caret is assigned to the component it will not loose customization of the blink rate made by the user.&lt;br/&gt;
&lt;br/&gt;
The nature of the fix makes code safer and the fix in question will not bring any additional instability to the amended class. Fix was tested using both automated regression tests for the components affected by the change and with manual tests that were created to simulate various scenarios of the DefaultCaret use on different text components (JTextArea, JTextField, JTextPane).&lt;br/&gt;
&lt;br/&gt;
Risk: &lt;br/&gt;
Low &lt;br/&gt;
&lt;br/&gt;
Testing: &lt;br/&gt;
New automated regression test test/jdk/javax/swing/text/DefaultCaret/SetCaretRateTest.java is created to prevent the potential unnoticed reappearance of the problem.&lt;br/&gt;
</comment>
                            <comment id="14558135" author="prr" created="Tue, 7 Feb 2023 22:10:14 -0800"  >I am unhappy with the justification, &amp;quot;minimal and non-destrcutive&amp;quot;&lt;br/&gt;
Minimal means small but a small change can be really high risk&lt;br/&gt;
&amp;quot;non-destructive&amp;quot; is just an uninterpretable comment. I have zero idea what you mean.&lt;br/&gt;
And &amp;quot;crash&amp;quot; ? you mean the VM exits ? oh, you mean an NPE .. that is NOT a crash.&lt;br/&gt;
&lt;br/&gt;
So start over and write a new justification with clear explanation and details and no generalisation.</comment>
                            <comment id="14558085" author="kizune" created="Tue, 7 Feb 2023 15:21:59 -0800"  >Fix Request&lt;br/&gt;
&lt;br/&gt;
Reason:&lt;br/&gt;
This is a fix for regression that potentially can cause client applications to crash with the new JDK. Regression was introduced by the fix for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-4512626&quot; title=&quot;Non-editable JTextArea provides no visual indication of keyboard focus&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-4512626&quot;&gt;&lt;strike&gt;JDK-4512626&lt;/strike&gt;&lt;/a&gt;. The change is minimal and non-destructive.&lt;br/&gt;
&lt;br/&gt;
Risk:&lt;br/&gt;
low&lt;br/&gt;
&lt;br/&gt;
Testing:&lt;br/&gt;
new automated regression test test/jdk/javax/swing/text/DefaultCaret/SetCaretRateTest.java is created to track this issue.</comment>
                            <comment id="14558083" author="roboduke" created="Tue, 7 Feb 2023 14:55:56 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/122&quot;&gt;https://git.openjdk.org/jdk20/pull/122&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-07 22:49:55 +0000</comment>
                            <comment id="14558040" author="kizune" created="Tue, 7 Feb 2023 11:26:58 -0800"  >While trying to implement a logic of tracking the editable state of the component we neglected the check that the component is already assigned.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5094317">JDK-8302629</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5094321">JDK-8302633</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150507">JDK-8349886</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150510">JDK-8349889</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150538">JDK-8349916</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5151206">JDK-8350533</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5093739">JDK-8302134</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150574">JDK-8349949</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150575">JDK-8349950</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5150628">JDK-8350005</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                                        </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5090081">JDK-8299077</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="102612" name="JTextAreaTests.jtr" size="7267" author="dtm" created="Fri, 10 Feb 2023 01:53:41 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30a43:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17434"><![CDATA[b36]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="206"><![CDATA[javax.swing]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>