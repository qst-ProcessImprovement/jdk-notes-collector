<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:14:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305403] Shenandoah evacuation workers may deadlock</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305403</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>We&amp;#39;ve observed a situation where the JVM was deadlocked by Shenandoah&amp;#39;s evacuation workers. This may happen if a safepoint begins during concurrent evacuation _and_ a GC worker thread experiences an out of memory error during the evacuation.&lt;br/&gt;
&lt;br/&gt;
This situation occurs because some of the workers have set the cancelled state to `NOT_CANCELLED` and then yielded to the suspendible thread set because a safepoint is starting. Other workers who then experience an OOM during evacuation attempt to transition the heap from `CANCELLABLE` to `CANCELLED` in a CAS loop that will never succeed (because the cancelled state is `NOT_CANCELLED`). These workers are unable to join the suspendible thread set, so the threads which have yielded are unable to resume and reset the heap to `CANCELLABLE`. The VM thread cannot enter the safepoint and eventually all of the mutator threads block when they are unable to allocate.&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5097646">JDK-8305403</key>
            <summary>Shenandoah evacuation workers may deadlock</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wkemper">William Kemper</assignee>
                                    <reporter username="wkemper">William Kemper</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>gc-shenandoah</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk20u-fix-request</label>
                            <label>jdk20u-fix-yes</label>
                    </labels>
                <created>Fri, 31 Mar 2023 14:30:04 -0700</created>
                <updated>Tue, 5 Dec 2023 11:44:55 -0800</updated>
                            <resolved>Fri, 14 Apr 2023 13:39:15 -0700</resolved>
                                    <version>17</version>
                    <version>18</version>
                    <version>19</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14577453" author="wkemper" created="Thu, 27 Apr 2023 09:21:22 -0700"  >Fix request 20u.&lt;br/&gt;
&lt;br/&gt;
Backport is clean.&lt;br/&gt;
&lt;br/&gt;
The same set of tests were conducted for the 20 backport:&lt;br/&gt;
* Dacapo&lt;br/&gt;
* Specjbb 2015&lt;br/&gt;
* HyperAlloc&lt;br/&gt;
* Heapothesys&lt;br/&gt;
* jtreg:hotspot_gc_shenandoah</comment>
                            <comment id="14577060" author="roboduke" created="Wed, 26 Apr 2023 08:46:18 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20u/pull/65&quot;&gt;https://git.openjdk.org/jdk20u/pull/65&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-26 15:38:30 +0000</comment>
                            <comment id="14574363" author="wkemper" created="Mon, 17 Apr 2023 15:40:44 -0700"  >Fix request 17u.&lt;br/&gt;
&lt;br/&gt;
This is a rare, but fairly devastating bug that results in the deadlock of most threads in the JVM.&lt;br/&gt;
Backport was not clean, but conflicts were trivial to resolve. &lt;br/&gt;
&lt;br/&gt;
The same set of tests were conducted for the 17 backport:&lt;br/&gt;
* Dacapo&lt;br/&gt;
* Specjbb 2015&lt;br/&gt;
* HyperAlloc&lt;br/&gt;
* Heapothesys&lt;br/&gt;
* jtreg:hotspot_gc_shenandoah&lt;br/&gt;
</comment>
                            <comment id="14573938" author="roboduke" created="Fri, 14 Apr 2023 15:43:05 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1242&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1242&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-14 22:39:01 +0000</comment>
                            <comment id="14573918" author="dukebot" created="Fri, 14 Apr 2023 13:39:14 -0700"  >Changeset: 793da60e&lt;br/&gt;
Author:    William Kemper &amp;lt;&lt;a href=&apos;mailto:wkemper@openjdk.org&apos;&gt;wkemper@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Y. Srinivas Ramakrishna &amp;lt;&lt;a href=&apos;mailto:ysr@openjdk.org&apos;&gt;ysr@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-14 20:37:35 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/793da60ee833d09db0f6f14b50a7cbd7f4549e3b&quot;&gt;https://git.openjdk.org/jdk/commit/793da60ee833d09db0f6f14b50a7cbd7f4549e3b&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14571504" author="roboduke" created="Mon, 3 Apr 2023 15:28:11 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13309&quot;&gt;https://git.openjdk.org/jdk/pull/13309&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-03 21:45:39 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5099691">JDK-8307066</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5099745">JDK-8307111</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5100970">JDK-8308126</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5070069">JDK-8282997</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5116196">JDK-8321410</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30zb7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17414"><![CDATA[b19]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="209"><![CDATA[gc]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>