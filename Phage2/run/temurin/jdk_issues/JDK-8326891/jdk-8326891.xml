<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:07:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8326891] Prefer RPATH over RUNPATH for $ORIGIN rpaths in internal JDK binaries</title>
                <link>https://bugs.openjdk.org/browse/JDK-8326891</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Executables and dynamic libraries on Linux can encode a search path that the dynamic linker will use when looking up library dependencies, generally referred to as an &amp;quot;rpath&amp;quot;. In the JDK we use this with the $ORIGIN feature to set search paths relative to the location of the binary itself. Typically executables in the bin/ directory have the rpath &amp;quot;$ORIGIN/../lib&amp;quot; to find libjli.so. Most of the libraries in lib/ have rpath set to just &amp;quot;$ORIGIN&amp;quot; to find each other.&lt;br/&gt;
&lt;br/&gt;
There are two different types of such rpaths, RPATH and RUNPATH. The former is the earlier incantation but RUNPATH has been around since about 2003 and has been default in prominent Linux distros for a long time, and now also seems to be default in the linker directly from binutils. The toolchain used by Oracle defaulted to RPATH until at least JDK 11, but since then with some toolchain upgrade, the default was flipped to RUNPATH.&lt;br/&gt;
&lt;br/&gt;
The main (relevant in this case) difference between the two is that RPATH is considered before the LD_LIBRARY_PATH environment variable, while RUNPATH is only considered after LD_LIBRARY_PATH. For libraries that are part of a Linux distribution, letting users, or the system, control and override builtin rpaths with LD_LIBRARY_PATH seems like a reasonable thing to prefer. However, for the JDK, there really is no usecase for having an externally configured LD_LIBRARY_PATH potentially getting in the way of the JDK libraries finding internal dependencies between each other correctly. If a user environment sets LD_LIBRARY_PATH, and there is a library in that path with the same name as a JDK library (e.g. libnet.so or some other generically named library) that external library will be loaded instead of the JDK internal library and that is basically guaranteed to break the JDK. There is no supported usecase that I can think of for injecting other versions of such libraries in a JDK distribution.&lt;br/&gt;
&lt;br/&gt;
An alternate solution to this would be to better name any internal JDK library with a namespace prefix to make clashes with other external libraries less likely.&lt;br/&gt;
&lt;br/&gt;
I propose that we explicitly configure the JDK build to set RPATH instead of RUNPATH for Linux binaries. This is done with the linker flag &amp;quot;--disable-new-dtags&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5122663">JDK-8326891</key>
            <summary>Prefer RPATH over RUNPATH for $ORIGIN rpaths in internal JDK binaries</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erikj">Erik Joelsson</assignee>
                                    <reporter username="erikj">Erik Joelsson</reporter>
                        <labels>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok-next</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                    </labels>
                <created>Tue, 27 Feb 2024 16:09:42 -0800</created>
                <updated>Thu, 19 Dec 2024 05:39:24 -0800</updated>
                            <resolved>Tue, 5 Mar 2024 12:32:49 -0800</resolved>
                                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                                                            <comments>
                            <comment id="14656538" author="JIRAUSER20917" created="Mon, 11 Mar 2024 23:44:18 -0700"  >Fix request [11u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 11.0.24-oracle.&lt;br/&gt;
No risk, only tests change.&lt;br/&gt;
Set RPATH instead of RUNPATH for Linux binaries&lt;br/&gt;
Test pass. SAP nightly testing passed.&lt;br/&gt;
</comment>
                            <comment id="14656537" author="JIRAUSER20917" created="Mon, 11 Mar 2024 23:44:09 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.11-oracle.&lt;br/&gt;
No risk, only tests change.&lt;br/&gt;
Set RPATH instead of RUNPATH for Linux binaries&lt;br/&gt;
Test pass. SAP nightly testing passed.</comment>
                            <comment id="14656536" author="JIRAUSER20917" created="Mon, 11 Mar 2024 23:43:51 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.3-oracle.&lt;br/&gt;
Set RPATH instead of RUNPATH for Linux binaries&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test pass.  SAP nightly testing passed.</comment>
                            <comment id="14656112" author="roboduke" created="Sun, 10 Mar 2024 23:05:52 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2592&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2592&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-11 06:02:10 +0000</comment>
                            <comment id="14656107" author="roboduke" created="Sun, 10 Mar 2024 22:43:27 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2282&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2282&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-11 05:39:18 +0000</comment>
                            <comment id="14656106" author="roboduke" created="Sun, 10 Mar 2024 22:42:47 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/345&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/345&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-11 05:38:10 +0000</comment>
                            <comment id="14655272" author="roboduke" created="Wed, 6 Mar 2024 15:17:17 -0800"  >[jdk22u-fix-request] Approval Request from Erik Joelsson&lt;br/&gt;
I&amp;#39;m backporting this build change to all Oracle maintained update releases and would like to include jdk22u for uniformity. The risk is low.</comment>
                            <comment id="14655268" author="roboduke" created="Wed, 6 Mar 2024 14:53:23 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/89&quot;&gt;https://git.openjdk.org/jdk22u/pull/89&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-06 22:48:01 +0000</comment>
                            <comment id="14654898" author="dukebot" created="Tue, 5 Mar 2024 12:32:48 -0800"  >Changeset: 721bfee5&lt;br/&gt;
Author:    Erik Joelsson &amp;lt;&lt;a href=&apos;mailto:erikj@openjdk.org&apos;&gt;erikj@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-03-05 20:31:17 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/721bfee53af5bc2e2d67eebc7b82f09a642d5309&quot;&gt;https://git.openjdk.org/jdk/commit/721bfee53af5bc2e2d67eebc7b82f09a642d5309&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14653263" author="roboduke" created="Wed, 28 Feb 2024 11:32:59 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18050&quot;&gt;https://git.openjdk.org/jdk/pull/18050&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-28 19:29:13 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5123588">JDK-8327632</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123589">JDK-8327633</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123590">JDK-8327634</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123591">JDK-8327635</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123665">JDK-8327699</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123946">JDK-8327956</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123950">JDK-8327960</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123951">JDK-8327961</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                                        </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                                <inwardlinks description="relates to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5122829">JDK-8327055</subtask>
                                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3579n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17339"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="199"><![CDATA[build]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>