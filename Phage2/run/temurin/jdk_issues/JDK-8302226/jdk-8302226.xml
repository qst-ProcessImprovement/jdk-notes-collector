<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 16:44:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8302226] failure_handler native.core should wait for coredump to finish</title>
                <link>https://bugs.openjdk.org/browse/JDK-8302226</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The failure_handler configuration for linux[1] and macos[2] uses&lt;br/&gt;
&lt;br/&gt;
kill -ABRT %p&lt;br/&gt;
&lt;br/&gt;
to dump the core of a timed out jtreg test. This command returns immediatelly and the coredump is initiated in the background by the OS, making it impossible for the failure_handler to properly track the timeout of this action. Let&amp;#39;s change to a coredump method which will wait until the coredump is actually finished before returning:&lt;br/&gt;
&lt;br/&gt;
On Linux:&lt;br/&gt;
bash -c &amp;quot;kill -ABRT %p &amp;amp;&amp;amp; tail --pid=%p -f /dev/null&amp;quot;&lt;br/&gt;
On Mac:&lt;br/&gt;
bash -c &amp;quot;kill -ABRT %p &amp;amp;&amp;amp; lsof -p %p +r 1 &amp;amp;&amp;gt;/dev/null&amp;quot;&lt;br/&gt;
(credit: &lt;a href=&quot;https://stackoverflow.com/a/41613532)&quot;&gt;https://stackoverflow.com/a/41613532)&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Dumping a core can also take longer than the default action timeout of 20 seconds. Some personal testing showed coredumps for heaps of size 10-20G to take roughly 1-2 minutes. Let&amp;#39;s set a safe default of 10 minutes for this action.&lt;br/&gt;
&lt;br/&gt;
[1]:&lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/test/failure_handler/src/share/conf/linux.properties&quot;&gt;https://github.com/openjdk/jdk/blob/master/test/failure_handler/src/share/conf/linux.properties&lt;/a&gt;&lt;br/&gt;
[2]:&lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/test/failure_handler/src/share/conf/mac.properties&quot;&gt;https://github.com/openjdk/jdk/blob/master/test/failure_handler/src/share/conf/mac.properties&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5093856">JDK-8302226</key>
            <summary>failure_handler native.core should wait for coredump to finish</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lujaniuk">Ludvig Janiuk</assignee>
                                    <reporter username="lujaniuk">Ludvig Janiuk</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                    </labels>
                <created>Fri, 10 Feb 2023 10:04:07 -0800</created>
                <updated>Tue, 27 May 2025 05:06:51 -0700</updated>
                            <resolved>Fri, 17 Feb 2023 06:59:01 -0800</resolved>
                                    <version>18</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14782591" author="roboduke" created="Thu, 22 May 2025 04:17:57 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3604&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3604&lt;/a&gt;&lt;br/&gt;
Date: 2025-05-22 11:10:45 +0000</comment>
                            <comment id="14782590" author="goetz" created="Thu, 22 May 2025 04:11:23 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this to improve testing with the failure handler.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.</comment>
                            <comment id="14561051" author="dukebot" created="Fri, 17 Feb 2023 06:59:00 -0800"  >Changeset: 6120319a&lt;br/&gt;
Author:    Ludvig Janiuk &amp;lt;&lt;a href=&apos;mailto:lujaniuk@openjdk.org&apos;&gt;lujaniuk@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Erik Joelsson &amp;lt;&lt;a href=&apos;mailto:erikj@openjdk.org&apos;&gt;erikj@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-17 14:57:00 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/6120319afdba98b5ff547b870a0260479e8b683c&quot;&gt;https://git.openjdk.org/jdk/commit/6120319afdba98b5ff547b870a0260479e8b683c&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14559208" author="roboduke" created="Fri, 10 Feb 2023 10:26:51 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12515&quot;&gt;https://git.openjdk.org/jdk/pull/12515&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-10 18:19:01 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5159710">JDK-8357858</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Blocks</name>
                                            <outwardlinks description="blocks">
                                                        </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30bx7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="225"><![CDATA[test]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>