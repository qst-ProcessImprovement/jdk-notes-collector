<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 16:42:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8302173] Button border overlaps with button icon on macOS system LaF</title>
                <link>https://bugs.openjdk.org/browse/JDK-8302173</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
Looks GOOD on JDK 17&lt;br/&gt;
&amp;lt;link&amp;gt;&lt;br/&gt;
&lt;br/&gt;
Looks BAD on JDK 19:&lt;br/&gt;
&amp;lt;llink&amp;gt;&lt;br/&gt;
&lt;br/&gt;
The issue seems to be specific to (1) macOS system LaF and (2) using HTML as button text and (3) using setHorizontalAlignment(LEFT) which in combination leads to icon / text / button border not aligning correctly.&lt;br/&gt;
&lt;br/&gt;
REGRESSION : Last worked in version 17.0.6&lt;br/&gt;
&lt;br/&gt;
STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :&lt;br/&gt;
Please run the self-contained test case below on macOS with JDK 17 and JDK 19 and you will find that that JDK 19 does not render the icon in the correct location.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
---------- BEGIN SOURCE ----------&lt;br/&gt;
package test;&lt;br/&gt;
&lt;br/&gt;
import java.awt.BorderLayout;&lt;br/&gt;
import java.awt.Color;&lt;br/&gt;
import java.awt.Component;&lt;br/&gt;
import java.awt.Graphics;&lt;br/&gt;
&lt;br/&gt;
import javax.swing.Icon;&lt;br/&gt;
import javax.swing.JButton;&lt;br/&gt;
import javax.swing.JFrame;&lt;br/&gt;
import javax.swing.SwingUtilities;&lt;br/&gt;
import javax.swing.UIManager;&lt;br/&gt;
&lt;br/&gt;
public class Main {&lt;br/&gt;
&lt;br/&gt;
	public static void main(String[] args) throws Exception {&lt;br/&gt;
		SwingUtilities.invokeLater(() -&amp;gt; {&lt;br/&gt;
			try {&lt;br/&gt;
				UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());&lt;br/&gt;
			} catch (Exception e) {&lt;br/&gt;
				e.printStackTrace();&lt;br/&gt;
			}&lt;br/&gt;
&lt;br/&gt;
			JButton button = new JButton(&amp;quot;&amp;lt;html&amp;gt;&amp;lt;nobr&amp;gt;&amp;lt;u&amp;gt;Test&amp;lt;/u&amp;gt;&amp;lt;/nobr&amp;gt;&amp;lt;/html&amp;gt;&amp;quot;, new TestIcon());&lt;br/&gt;
			button.setHorizontalAlignment(JButton.LEFT);&lt;br/&gt;
&lt;br/&gt;
			JFrame window = new JFrame();&lt;br/&gt;
			window.getContentPane().add(button, BorderLayout.CENTER);&lt;br/&gt;
&lt;br/&gt;
			window.pack();&lt;br/&gt;
			window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);&lt;br/&gt;
			window.setVisible(true);&lt;br/&gt;
		});&lt;br/&gt;
	}&lt;br/&gt;
&lt;br/&gt;
	public static class TestIcon implements Icon {&lt;br/&gt;
&lt;br/&gt;
		@Override&lt;br/&gt;
		public void paintIcon(Component c, Graphics g, int x, int y) {&lt;br/&gt;
			g.setColor(Color.MAGENTA);&lt;br/&gt;
			g.fillRect(x, y, 16, 16);&lt;br/&gt;
		}&lt;br/&gt;
&lt;br/&gt;
		@Override&lt;br/&gt;
		public int getIconWidth() {&lt;br/&gt;
			return 16;&lt;br/&gt;
		}&lt;br/&gt;
&lt;br/&gt;
		@Override&lt;br/&gt;
		public int getIconHeight() {&lt;br/&gt;
			return 16;&lt;br/&gt;
		}&lt;br/&gt;
	}&lt;br/&gt;
&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
---------- END SOURCE ----------&lt;br/&gt;
&lt;br/&gt;
CUSTOMER SUBMITTED WORKAROUND :&lt;br/&gt;
Use JDK 17 instead of JDK 19.&lt;br/&gt;
&lt;br/&gt;
FREQUENCY : always&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5093666">JDK-8302173</key>
            <summary>Button border overlaps with button icon on macOS system LaF</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dnguyen">Damon Nguyen</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>dcspn</label>
                            <label>macos</label>
                            <label>regression</label>
                            <label>reproducer-yes</label>
                            <label>sn_137</label>
                            <label>sn_138</label>
                            <label>webbug</label>
                    </labels>
                <created>Wed, 8 Feb 2023 07:49:57 -0800</created>
                <updated>Wed, 1 Mar 2023 22:55:15 -0800</updated>
                            <resolved>Thu, 23 Feb 2023 12:42:39 -0800</resolved>
                                    <version>19</version>
                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14562529" author="dukebot" created="Thu, 23 Feb 2023 12:42:37 -0800"  >Changeset: 1a078714&lt;br/&gt;
Author:    Damon Nguyen &amp;lt;&lt;a href=&apos;mailto:dnguyen@openjdk.org&apos;&gt;dnguyen@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Harshitha Onkar &amp;lt;&lt;a href=&apos;mailto:honkar@openjdk.org&apos;&gt;honkar@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-23 20:41:25 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/1a078714546c7582c310537dcae91b521f3c2b40&quot;&gt;https://git.openjdk.org/jdk/commit/1a078714546c7582c310537dcae91b521f3c2b40&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14559565" author="roboduke" created="Mon, 13 Feb 2023 09:11:55 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12520&quot;&gt;https://git.openjdk.org/jdk/pull/12520&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-11 00:23:05 +0000</comment>
                            <comment id="14559195" author="JIRAUSER19816" created="Fri, 10 Feb 2023 09:58:57 -0800"  >Regression caused by HTML contents being text only. The change in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8015854&quot; title=&quot;[macosx] JButton&amp;#39;s HTML ImageView adding unwanted padding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8015854&quot;&gt;&lt;strike&gt;JDK-8015854&lt;/strike&gt;&lt;/a&gt; is for HTML img. Fix understood by adding conditional to check if HTML is for img and testing to make sure provided test and existing HTML test passes.</comment>
                            <comment id="14559007" author="psadhukhan" created="Thu, 9 Feb 2023 19:13:51 -0800"  >Seems to be regression of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8015854&quot; title=&quot;[macosx] JButton&amp;#39;s HTML ImageView adding unwanted padding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8015854&quot;&gt;&lt;strike&gt;JDK-8015854&lt;/strike&gt;&lt;/a&gt;</comment>
                            <comment id="14558951" author="pnarayanaswa" created="Thu, 9 Feb 2023 13:01:26 -0800"  >Checked with attached testcase in macOS v11.7.3(BigSur), Issue is reproducible&amp;lt;attached screenshot&amp;gt;&lt;br/&gt;
Test Result&lt;br/&gt;
=========&lt;br/&gt;
8u361: Pass&lt;br/&gt;
jdk11: Pass&lt;br/&gt;
jdk17: Pass&lt;br/&gt;
jdk19 b12: Pass&lt;br/&gt;
jdk19 b13: Fail &amp;lt;-Regression&lt;br/&gt;
jdk20ea35: Fail</comment>
                    </comments>
                    <attachments>
                            <attachment id="102603" name="Main.java" size="1101" author="pnarayanaswa" created="Thu, 9 Feb 2023 13:03:13 -0800"/>
                            <attachment id="102605" name="jdk17_capture.png" size="67712" author="pnarayanaswa" created="Thu, 9 Feb 2023 13:04:15 -0800"/>
                            <attachment id="102604" name="jdk19_capture.png" size="66874" author="pnarayanaswa" created="Thu, 9 Feb 2023 13:04:10 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10003" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Introduced In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17543"><![CDATA[b13]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="22020">19</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30aqz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17349"><![CDATA[b12]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="206"><![CDATA[javax.swing]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>