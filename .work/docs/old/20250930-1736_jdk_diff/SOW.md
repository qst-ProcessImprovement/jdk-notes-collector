# SOW: JDK差分抽出モジュール作成

## 背景・目的
- `Phage2/run/temurin/output_temurin/jdk-21.0.8.txt` と `Phage2/run/openjdk/output_openjdk/jdk-21.0.8.txt` に記録されたJDK番号の差分を抽出したい。
- 差分JDK番号を `Phage2/run/diff/output/` に出力するPythonモジュールを `Phage2/run/diff/` 配下に新規作成する。

## スコープ
- 入力ファイルの読み込み（UTF-8想定、行単位でJDK番号を扱う）。
- JDK番号集合の差分（temurinに存在しopenjdkに無いもの、およびその逆方向が必要か要確認）。
- 差分の書き出しファイル（ファイル名と出力形式はテキストで1行1番号を想定）。
- モジュール実行手順の記載（スクリプトまたは関数）。

## 非スコープ
- JDK番号の検証・正規化ロジックの追加。
- 入力ファイル不在時の再取得や自動生成。
- CLIエントリポイントの提供（必要であれば別途対応）。

## 作業項目 (AT)
1. LSPで既存差分関連モジュールの有無を調査（影響範囲確認）。
2. 差分抽出モジュールの設計：入出力、出力ファイル名方針、差分方向（片方向/双方向）を定義。
3. Pythonモジュール実装と必要な初期化ファイルの整備。
4. 実ファイルを用いた動作確認：差分ファイルが期待通り生成されることを確認。

## 影響範囲（LSP調査）
- 既存の `Phage2/run/diff/` 配下にシンボル定義は未確認。新規ファイル追加のみを想定。
  - LSP検索結果：`Phage2/run/diff/` 配下に既存Pythonシンボルの登録なし（新規追加のみ）。

## 成果物
- `Phage2/run/diff/<モジュール名>.py`：差分計算のエントリポイント（関数化）。
- 必要に応じて `Phage2/run/diff/__init__.py`（パッケージ化用、未存在の場合のみ）。
- `Phage2/run/diff/output/<差分ファイル>`：実行結果（例：`temurin_minus_openjdk.txt`）。
- 実行手順メモ（リポジトリ内README追記はスコープ外のためSOW内に記載予定）。

## 検証方針
- モジュールをローカル実行し、生成された差分ファイルの内容を手動確認。
- 差分ファイルにtemurin側にのみ存在する番号、openjdk側にのみ存在する番号が正しく出力されることをファイル内容で検証。

---
ご確認のうえ、問題なければ実装に着手します。差分の方向（temurinのみ or 双方向）のご要望があれば併せてご指示ください。

## 追加要件 (20250930)
- 差分で抽出されたJDK issue番号ごとに、`jdk_issues` ディレクトリ内に存在する詳細情報を出力に含める。
- issue詳細情報の所在：リポジトリ内の `jdk_issues/<Issue-ID>/` 配下（現状: `Phage1/run/jdk_issues/` 等）を参照。
- 出力仕様変更：差分ファイルには issue番号とともに詳細テキスト（例: 要約ファイルやREADME）を含める形式とする。該当issueが存在しない場合はその旨を明示する。
- 差分抽出時に参照する詳細ファイルのフォーマット要確認。
- 実装変更前後で出力検証を行い、詳細が正しく付与されていることを確認する。
