<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:31:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8317581] [s390x] Multiple test failure with LockingMode=2</title>
                <link>https://bugs.openjdk.org/browse/JDK-8317581</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>I&amp;#39;m getting these three test failures on s390x (probably) after Light Weight locking mode became default. &lt;br/&gt;
&lt;br/&gt;
jdk/jshell/ClassMembersTest.java&lt;br/&gt;
java/lang/invoke/condy/CondyWrongType.java&lt;br/&gt;
java/lang/invoke/condy/CondyWithGarbageTest.java&lt;br/&gt;
&lt;br/&gt;
log: &lt;br/&gt;
&lt;br/&gt;
#&lt;br/&gt;
# A fatal error has been detected by the Java Runtime Environment:&lt;br/&gt;
#&lt;br/&gt;
#  Internal Error (/home/amit/jdk/src/hotspot/cpu/s390/assembler_s390.hpp:143), pid=920072, tid=920276&lt;br/&gt;
#  guarantee(is_in_range_of_RelAddr(target, pc, shortForm)) failed: target not within reach at 0x000003ffa01588be, distance = 131738&lt;br/&gt;
#&lt;br/&gt;
# JRE version: OpenJDK Runtime Environment (22.0) (fastdebug build 22-internal-adhoc.amit.jdk)&lt;br/&gt;
# Java VM: OpenJDK 64-Bit Server VM (fastdebug 22-internal-adhoc.amit.jdk, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-s390x)&lt;br/&gt;
# Problematic frame:&lt;br/&gt;
# V  [libjvm.so+0x21545c]  RelAddr::pcrel_off(unsigned char*, unsigned char*, bool)+0x74&lt;br/&gt;
#&lt;br/&gt;
# Core dump will be written. Default location: Core dumps may be processed with &amp;quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&amp;quot; (or dumping to /home/amit/jdk/build/linux-s390x-server-fastdebug/test-support/jtreg_test_jdk_tier1/scratch/16/core.920072)&lt;br/&gt;
#&lt;br/&gt;
# An error report file with more information is saved as:&lt;br/&gt;
# /home/amit/jdk/build/linux-s390x-server-fastdebug/test-support/jtreg_test_jdk_tier1/scratch/16/hs_err_pid920072.log&lt;br/&gt;
[thread 920186 also had an error]&lt;br/&gt;
#&lt;br/&gt;
# Compiler replay data is saved as:&lt;br/&gt;
# /home/amit/jdk/build/linux-s390x-server-fastdebug/test-support/jtreg_test_jdk_tier1/scratch/16/replay_pid920072.log&lt;br/&gt;
#&lt;br/&gt;
# If you would like to submit a bug report, please visit:&lt;br/&gt;
#   &lt;a href=&quot;https://bugreport.java.com/bugreport/crash.jsp&quot;&gt;https://bugreport.java.com/bugreport/crash.jsp&lt;/a&gt;&lt;br/&gt;
#&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5111794">JDK-8317581</key>
            <summary>[s390x] Multiple test failure with LockingMode=2</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitkumar">Amit Kumar</assignee>
                                    <reporter username="amitkumar">Amit Kumar</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk21u-fix-SQE-ok</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>oracle-triage-22</label>
                            <label>oraclejdk-na</label>
                    </labels>
                <created>Thu, 5 Oct 2023 03:25:00 -0700</created>
                <updated>Tue, 9 Jan 2024 10:41:19 -0800</updated>
                            <resolved>Wed, 11 Oct 2023 20:36:45 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14626200" author="roboduke" created="Tue, 14 Nov 2023 08:12:29 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/362&quot;&gt;https://git.openjdk.org/jdk21u/pull/362&lt;/a&gt;&lt;br/&gt;
Date: 2023-11-14 16:07:28 +0000</comment>
                            <comment id="14626196" author="roboduke" created="Tue, 14 Nov 2023 08:09:36 -0800"  >[jdk21u-fix-request] Approval Request from Amit Kumar&lt;br/&gt;
This fix needs to be backported after Lightweight locking changes are merged with JDK-21, as code size has grown and few of jump-address are not reachable anymore which is leading to straight JVM crash.</comment>
                            <comment id="14624253" author="JIRAUSER20704" created="Mon, 6 Nov 2023 22:20:18 -0800"  >Hi Aleksey,&lt;br/&gt;
&lt;br/&gt;
Lightweight locking mode was enabled by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8308479&quot; title=&quot;[s390x] Implement alternative fast-locking scheme&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8308479&quot;&gt;&lt;strike&gt;JDK-8308479&lt;/strike&gt;&lt;/a&gt; and some nit changes done by &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8316935&quot; title=&quot;[s390x] Use consistent naming for lightweight locking in MacroAssembler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8316935&quot;&gt;&lt;strike&gt;JDK-8316935&lt;/strike&gt;&lt;/a&gt;. If you&amp;#39;re enabling this locking mode on 21 then I guess we need to backport these two as well. Do you have any thoughts over this ? &lt;br/&gt;
&lt;br/&gt;
Update: I just gone through the issues, which enabled fast locking and changed name to lightweight lock, are either merged with jdk-21 or backported to it. So I&amp;#39;m moving ahead as well with backporting them to jdk21 for s390x.</comment>
                            <comment id="14624021" author="shade" created="Mon, 6 Nov 2023 04:36:37 -0800"  >I think it should be in reverse: you first do 21u PR, and then ask for approval request.</comment>
                            <comment id="14624016" author="JIRAUSER20704" created="Mon, 6 Nov 2023 04:30:35 -0800"  >I&amp;#39;ve raised the request and backport it soon, Aleksey.</comment>
                            <comment id="14624009" author="shade" created="Mon, 6 Nov 2023 03:57:04 -0800"  >Amit, do you want to pull this to 21u to make sure S390 works even if we enable another LockingMode there?</comment>
                            <comment id="14617636" author="dukebot" created="Wed, 11 Oct 2023 20:36:44 -0700"  >Changeset: 839cb19e&lt;br/&gt;
Author:    Amit Kumar &amp;lt;&lt;a href=&apos;mailto:amitkumar@openjdk.org&apos;&gt;amitkumar@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-10-12 03:33:30 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/839cb19ec29e3803c834ca60697943aee580569f&quot;&gt;https://git.openjdk.org/jdk/commit/839cb19ec29e3803c834ca60697943aee580569f&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14617402" author="roboduke" created="Wed, 11 Oct 2023 01:16:28 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16136&quot;&gt;https://git.openjdk.org/jdk/pull/16136&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-11 06:47:08 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5114882">JDK-8320236</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118529">JDK-8323396</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5112098">JDK-8317851</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19600"><![CDATA[s390x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33dl7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17351"><![CDATA[b20]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>