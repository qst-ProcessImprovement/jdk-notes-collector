<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:23:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8316540] StoreReproducibilityTest fails on some locales</title>
                <link>https://bugs.openjdk.org/browse/JDK-8316540</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>It was discovered that java/util/Properties/StoreReproducibilityTest fails on some locales (Europe/Dublin), see:&lt;br/&gt;
&lt;a href=&quot;https://github.com/adoptium/aqa-tests/issues/4751&quot;&gt;https://github.com/adoptium/aqa-tests/issues/4751&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Stack Trace:&lt;br/&gt;
java.lang.RuntimeException: Expected date comment Tue Sep 05 00:03:43 IST 2023 to be after Tue Sep 05 00:03:42 IST 2023 but was Mon Sep 04 19:33:43 IST 2023&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at StoreReproducibilityTest.assertCurrentDate(StoreReproducibilityTest.java:434)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at StoreReproducibilityTest.testEmptySysPropValue(StoreReproducibilityTest.java:256)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at StoreReproducibilityTest.main(StoreReproducibilityTest.java:71)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at java.base/java.lang.reflect.Method.invoke(Method.java:580)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:333)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;	at java.base/java.lang.Thread.run(Thread.java:1583)&lt;br/&gt;
&lt;br/&gt;
Details:&lt;br/&gt;
Problem was tracked down to ambiguous time zone abbreviations. For Europe/Dublin timezone, Date.toString (used by Properties.store) specifies timezone as IST (&amp;quot;Irish Summer Time&amp;quot;), but IST is decoded by FORMATER (in test) as &amp;quot;India Standard Time&amp;quot; resulting in unexpected date and test failure.&lt;br/&gt;
&lt;br/&gt;
I have found mention of this issue in DateTimeFormatterBuilder class:&lt;br/&gt;
... Many textual zone names are not unique, such as CST can be for both &amp;quot;Central Standard Time&amp;quot; and &amp;quot;China Standard Time&amp;quot;. In this situation, the zone id will be determined by the region information from formatter&amp;#39;s locale and the standard zone id for that area, ...&lt;br/&gt;
&lt;br/&gt;
However FORMATER (used in this test to parse date string) has to use ROOT locale (see: &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8282023&quot; title=&quot;PropertiesStoreTest and StoreReproducibilityTest jtreg failures due to en_CA locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8282023&quot;&gt;&lt;strike&gt;JDK-8282023&lt;/strike&gt;&lt;/a&gt;).&lt;br/&gt;
&lt;br/&gt;
Possible workarounds would be ether to avoid ambiguous time zone abbreviations by explicitly setting timezone in test. Or skipping check which compares dates.</description>
                <environment></environment>
        <key id="5110612">JDK-8316540</key>
            <summary>StoreReproducibilityTest fails on some locales</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="naoto">Naoto Sato</assignee>
                                    <reporter username="zzambers">Zdenek Zambersky</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>jdk21u-fix-SQE-ok-next</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                    </labels>
                <created>Tue, 19 Sep 2023 09:36:07 -0700</created>
                <updated>Thu, 5 Oct 2023 00:38:46 -0700</updated>
                            <resolved>Fri, 22 Sep 2023 09:56:53 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14615192" author="roboduke" created="Mon, 2 Oct 2023 05:25:09 -0700"  >[jdk21u-fix-request] Approval Request from zzambers&lt;br/&gt;
Fix for issue in StoreReproducibilityTest.java causing failure on some locales. Only modifies test. Clean. GH testing passed.</comment>
                            <comment id="14615191" author="roboduke" created="Mon, 2 Oct 2023 05:21:04 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/221&quot;&gt;https://git.openjdk.org/jdk21u/pull/221&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-02 12:12:32 +0000</comment>
                            <comment id="14613247" author="dukebot" created="Fri, 22 Sep 2023 09:56:52 -0700"  >Changeset: f7578e80&lt;br/&gt;
Author:    Naoto Sato &amp;lt;&lt;a href=&apos;mailto:naoto@openjdk.org&apos;&gt;naoto@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-09-22 16:53:56 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/f7578e8048ee961f22b57ee2b7eed9e9ab783cf5&quot;&gt;https://git.openjdk.org/jdk/commit/f7578e8048ee961f22b57ee2b7eed9e9ab783cf5&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14612374" author="roboduke" created="Tue, 19 Sep 2023 15:57:59 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15829&quot;&gt;https://git.openjdk.org/jdk/pull/15829&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-19 22:49:36 +0000</comment>
                            <comment id="14612370" author="naoto" created="Tue, 19 Sep 2023 15:17:17 -0700"  >Possibly supplying `-Duser.timezone=UTC` when starting a JVM would correct this issue.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5111788">JDK-8317573</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i336az:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="216"><![CDATA[java.util]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>