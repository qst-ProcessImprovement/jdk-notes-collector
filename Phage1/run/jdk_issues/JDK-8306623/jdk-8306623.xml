<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:46:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8306623] (bf) CharBuffer::allocate throws unexpected exception type with some CharSequences</title>
                <link>https://bugs.openjdk.org/browse/JDK-8306623</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Consider the following code:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CharSequence csq = java.nio.CharBuffer.wrap(new char[]{&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;, &amp;#39;d&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;f&amp;#39;, &amp;#39;g&amp;#39;});&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// CharBuffer::allocate spec&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// Throws:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//   BufferOverflowException &#8211; If there is insufficient space in this buffer&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;//   IndexOutOfBoundsException &#8211; If start or end are negative, start is greater than end, or end is greater than csq.length()&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(&amp;quot;csq.length() = &amp;quot; + csq.length());&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;int capacity = 1;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;java.nio.CharBuffer.allocate(capacity).append(csq, 0, 4);&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The expectations are to get java.nio.BufferOverflowException which is the case for JDK21 b18, however for b19 IOOBE is thrown:&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt;         java.nio.CharBuffer.allocate(1)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;                 .append(java.nio.CharBuffer.wrap(new char[]{&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;, &amp;#39;d&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;f&amp;#39;, &amp;#39;g&amp;#39;}), 0, 4);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt; &lt;br/&gt;
|  Exception java.lang.IndexOutOfBoundsException: Range [0, 0 + 4) out of bounds for length 1&lt;br/&gt;
|        at Preconditions.outOfBounds (Preconditions.java:100)&lt;br/&gt;
|        at Preconditions.outOfBoundsCheckFromIndexSize (Preconditions.java:118)&lt;br/&gt;
|        at Preconditions.checkFromIndexSize (Preconditions.java:397)&lt;br/&gt;
|        at Objects.checkFromIndexSize (Objects.java:437)&lt;br/&gt;
|        at CharBuffer.put (CharBuffer.java:1088)&lt;br/&gt;
|        at HeapCharBuffer.put (HeapCharBuffer.java:260)&lt;br/&gt;
|        at CharBuffer.append (CharBuffer.java:2050)&lt;br/&gt;
|        at HeapCharBuffer.append (HeapCharBuffer.java:329)&lt;br/&gt;
|        at (#5:2)&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5099107">JDK-8306623</key>
            <summary>(bf) CharBuffer::allocate throws unexpected exception type with some CharSequences</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bpb">Brian Burkhalter</assignee>
                                    <reporter username="dbessono">Dmitry Bessonov</reporter>
                        <labels>
                            <label>conformance</label>
                            <label>regression</label>
                            <label>tck-red-21</label>
                    </labels>
                <created>Thu, 20 Apr 2023 15:13:41 -0700</created>
                <updated>Mon, 24 Jul 2023 10:17:47 -0700</updated>
                            <resolved>Tue, 25 Apr 2023 13:21:18 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14576792" author="dukebot" created="Tue, 25 Apr 2023 13:21:17 -0700"  >Changeset: e3ccaa65&lt;br/&gt;
Author:    Brian Burkhalter &amp;lt;&lt;a href=&apos;mailto:bpb@openjdk.org&apos;&gt;bpb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-25 20:18:19 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/e3ccaa6541e98aaa57b31a05cb998d48a0f7ee87&quot;&gt;https://git.openjdk.org/jdk/commit/e3ccaa6541e98aaa57b31a05cb998d48a0f7ee87&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14576370" author="roboduke" created="Mon, 24 Apr 2023 18:49:32 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13632&quot;&gt;https://git.openjdk.org/jdk/pull/13632&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-25 01:44:14 +0000</comment>
                            <comment id="14576114" author="bpb" created="Mon, 24 Apr 2023 09:28:21 -0700"  >&lt;a href=&quot;https://github.com/openjdk/jdk/pull/13415#pullrequestreview-1396740613&quot;&gt;https://github.com/openjdk/jdk/pull/13415#pullrequestreview-1396740613&lt;/a&gt;</comment>
                            <comment id="14575866" author="alanb" created="Sat, 22 Apr 2023 06:26:10 -0700"  >Yes, the changes mean the check for insufficient space in the buffer is skipped and the IndexOutOfBoundsException from the absolute bulk op is thrown instead.&lt;br/&gt;
</comment>
                            <comment id="14575576" author="dbessono" created="Thu, 20 Apr 2023 15:16:03 -0700"  >Could be possibly caused by the &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8305811&quot; title=&quot;(bf) Improve performance of CharBuffer::append(CharSequence[,int,int])&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8305811&quot;&gt;&lt;strike&gt;JDK-8305811&lt;/strike&gt;&lt;/a&gt; fix ?</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5099577">JDK-8306959</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5098820">JDK-8306374</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5098184">JDK-8305811</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10003" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Introduced In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17431"><![CDATA[b19]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="22711">21</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31817:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17351"><![CDATA[b20]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="228"><![CDATA[java.nio]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>