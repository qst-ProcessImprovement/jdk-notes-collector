<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:38:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298271] java/security/SignedJar/spi-calendar-provider/TestSPISigned.java failing on Windows</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298271</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK20 CI:&lt;br/&gt;
&lt;br/&gt;
java/security/SignedJar/spi-calendar-provider/TestSPISigned.java&lt;br/&gt;
&lt;br/&gt;
The test was added with &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298108&quot; title=&quot;Add a regression test for JDK-8297684&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298108&quot;&gt;&lt;strike&gt;JDK-8298108&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
----------System.err:(25/1266)----------&lt;br/&gt;
&amp;nbsp;stdout: [Debug: Running test&lt;br/&gt;
];&lt;br/&gt;
&amp;nbsp;stderr: [Exception in thread &amp;quot;main&amp;quot; java.lang.RuntimeException: Test failed with signed jar and  argument java.locale.providers=SPI&lt;br/&gt;
	at TestSPISigned.doRunTest(TestSPISigned.java:115)&lt;br/&gt;
	at TestSPISigned.main(TestSPISigned.java:75)&lt;br/&gt;
Caused by: java.lang.RuntimeException: Expected calendar from SPI to be in effect: expected 4 to equal 1&lt;br/&gt;
	at jdk.test.lib.Asserts.fail(Asserts.java:594)&lt;br/&gt;
	at jdk.test.lib.Asserts.assertEquals(Asserts.java:205)&lt;br/&gt;
	at TestSPISigned.check(TestSPISigned.java:121)&lt;br/&gt;
	at TestSPISigned.doRunTest(TestSPISigned.java:112)&lt;br/&gt;
	... 1 more&lt;br/&gt;
]&lt;br/&gt;
&amp;nbsp;exitValue = 1&lt;br/&gt;
&lt;br/&gt;
java.lang.RuntimeException: Expected to get exit value of [0], exit value is: [1]&lt;br/&gt;
	at jdk.test.lib.process.OutputAnalyzer.shouldHaveExitValue(OutputAnalyzer.java:490)&lt;br/&gt;
	at TestSPISigned.main(TestSPISigned.java:103)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:312)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: java.lang.RuntimeException&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
result: Failed. Execution failed: `main&amp;#39; threw exception: java.lang.RuntimeException: Expected to get exit value of [0], exit value is: [1]</description>
                <environment></environment>
        <key id="5089096">JDK-8298271</key>
            <summary>java/security/SignedJar/spi-calendar-provider/TestSPISigned.java failing on Windows</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgehwolf">Severin Gehwolf</assignee>
                                    <reporter username="mullan">Sean Mullan</reporter>
                        <labels>
                            <label>ProblemList</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>tier2</label>
                    </labels>
                <created>Wed, 7 Dec 2022 06:16:46 -0800</created>
                <updated>Tue, 17 Jun 2025 10:35:41 -0700</updated>
                            <resolved>Mon, 12 Dec 2022 07:52:01 -0800</resolved>
                                    <version>20</version>
                                    <fixVersion>20</fixVersion>
                                    <component>security-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                                                            <comments>
                            <comment id="14571800" author="roboduke" created="Tue, 4 Apr 2023 12:13:29 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk8u-dev/pull/269&quot;&gt;https://git.openjdk.org/jdk8u-dev/pull/269&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-27 19:13:58 +0000</comment>
                            <comment id="14547683" author="roboduke" created="Fri, 23 Dec 2022 09:17:56 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/1609&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/1609&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-23 17:10:24 +0000</comment>
                            <comment id="14547681" author="sgehwolf" created="Fri, 23 Dec 2022 09:12:27 -0800"  >Fix Request (11u):&lt;br/&gt;
&lt;br/&gt;
Please approve this follow-up for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298108&quot; title=&quot;Add a regression test for JDK-8297684&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298108&quot;&gt;&lt;strike&gt;JDK-8298108&lt;/strike&gt;&lt;/a&gt; in order to fix the test on Windows. The patch is not clean as it omits the ProblemList.txt change. The test verifies the fix of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8280890&quot; title=&quot;Cannot use &amp;#39;-Djava.system.class.loader&amp;#39; with class loader in signed JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8280890&quot;&gt;&lt;strike&gt;JDK-8280890&lt;/strike&gt;&lt;/a&gt; which got integrated today (Dec 23, 2022). Test only patch, little risk. I intend to integrate only once &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8280890&quot; title=&quot;Cannot use &amp;#39;-Djava.system.class.loader&amp;#39; with class loader in signed JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8280890&quot;&gt;&lt;strike&gt;JDK-8280890&lt;/strike&gt;&lt;/a&gt; and &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298108&quot; title=&quot;Add a regression test for JDK-8297684&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298108&quot;&gt;&lt;strike&gt;JDK-8298108&lt;/strike&gt;&lt;/a&gt; are both in the 11u-dev tree.</comment>
                            <comment id="14547479" author="sgehwolf" created="Thu, 22 Dec 2022 09:32:00 -0800"  >Fix Request (17u):&lt;br/&gt;
&lt;br/&gt;
Please approve this follow-up for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298108&quot; title=&quot;Add a regression test for JDK-8297684&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298108&quot;&gt;&lt;strike&gt;JDK-8298108&lt;/strike&gt;&lt;/a&gt; in order to fix the test on Windows. The patch is not clean (only omits ProblemList.txt) as this is the fix for the original problem list. The test verifies the fix of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8280890&quot; title=&quot;Cannot use &amp;#39;-Djava.system.class.loader&amp;#39; with class loader in signed JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8280890&quot;&gt;&lt;strike&gt;JDK-8280890&lt;/strike&gt;&lt;/a&gt; which got integrated today (Dec 23, 2022). Test only patch, little risk. I intend to integrate only once &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8280890&quot; title=&quot;Cannot use &amp;#39;-Djava.system.class.loader&amp;#39; with class loader in signed JAR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8280890&quot;&gt;&lt;strike&gt;JDK-8280890&lt;/strike&gt;&lt;/a&gt; and &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8298108&quot; title=&quot;Add a regression test for JDK-8297684&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8298108&quot;&gt;&lt;strike&gt;JDK-8298108&lt;/strike&gt;&lt;/a&gt; are both in the 17u-dev tree.</comment>
                            <comment id="14547476" author="roboduke" created="Thu, 22 Dec 2022 09:28:01 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/978&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/978&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-22 17:18:26 +0000</comment>
                            <comment id="14544649" author="dukebot" created="Mon, 12 Dec 2022 07:52:00 -0800"  >Changeset: cf93933e&lt;br/&gt;
Author:    Severin Gehwolf &amp;lt;&lt;a href=&apos;mailto:sgehwolf@openjdk.org&apos;&gt;sgehwolf@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-12 15:49:31 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk20/commit/cf93933e21d146fe296b1e4b8e2ef06b699175d6&quot;&gt;https://git.openjdk.org/jdk20/commit/cf93933e21d146fe296b1e4b8e2ef06b699175d6&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14544570" author="roboduke" created="Mon, 12 Dec 2022 02:43:52 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk20/pull/18&quot;&gt;https://git.openjdk.org/jdk20/pull/18&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-12 10:37:18 +0000</comment>
                            <comment id="14544162" author="roboduke" created="Fri, 9 Dec 2022 02:28:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11606&quot;&gt;https://git.openjdk.org/jdk/pull/11606&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-09 10:18:36 +0000</comment>
                            <comment id="14544160" author="sgehwolf" created="Fri, 9 Dec 2022 02:19:27 -0800"  >Thanks, posted for review!</comment>
                            <comment id="14543928" author="mullan" created="Thu, 8 Dec 2022 07:14:26 -0800"  >[~sgehwolf] The following change should fix the issue. I just tested it and it passes on Windows platforms. Please submit a PR when you have a chance and also remove the test from the ProblemList.&lt;br/&gt;
&lt;br/&gt;
diff --git a/test/jdk/java/security/SignedJar/spi-calendar-provider/TestSPISigned.java b/test/jdk/java/security/SignedJar/spi-calendar-provider/TestSPISigned.java&lt;br/&gt;
index e7cf5146252..1c882100fab 100644&lt;br/&gt;
--- a/test/jdk/java/security/SignedJar/spi-calendar-provider/TestSPISigned.java&lt;br/&gt;
+++ b/test/jdk/java/security/SignedJar/spi-calendar-provider/TestSPISigned.java&lt;br/&gt;
@@ -26,6 +26,7 @@ import jdk.test.lib.SecurityTools;&lt;br/&gt;
&amp;nbsp;import jdk.test.lib.Asserts;&lt;br/&gt;
&amp;nbsp;import jdk.test.lib.process.ProcessTools;&lt;br/&gt;
&amp;nbsp;import jdk.test.lib.process.OutputAnalyzer;&lt;br/&gt;
+import java.io.File;&lt;br/&gt;
&amp;nbsp;import java.util.Calendar;&lt;br/&gt;
&amp;nbsp;import java.util.Locale;&lt;br/&gt;
&amp;nbsp;import java.util.List;&lt;br/&gt;
@@ -95,7 +96,8 @@ public class TestSPISigned {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;testRun.add(&amp;quot;-Djava.locale.providers=SPI&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;testRun.add(&amp;quot;-cp&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;String classPath = System.getProperty(&amp;quot;java.class.path&amp;quot;);&lt;br/&gt;
-            classPath = classPath + &amp;quot;:&amp;quot; + SIGNED_JAR.toAbsolutePath().toString();&lt;br/&gt;
+            classPath = classPath + File.pathSeparator +&lt;br/&gt;
+                    SIGNED_JAR.toAbsolutePath().toString();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;testRun.add(classPath);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;testRun.add(TestSPISigned.class.getSimpleName());&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;testRun.add(&amp;quot;run-test&amp;quot;);</comment>
                            <comment id="14543596" author="sgehwolf" created="Wed, 7 Dec 2022 09:46:04 -0800"  >OK, thanks! I need to find someone to test this for me. I&amp;#39;ll post a PR with a fix as soon as we have something verified.</comment>
                            <comment id="14543558" author="mullan" created="Wed, 7 Dec 2022 08:14:18 -0800"  >[~sgehwolf] Yes, I think it is ok to lower the priority to P3 now that it is on the ProblemList. I took a look at the test. My best guess is that the classpath separator used in the test (&amp;quot;:&amp;quot;) is Unix specific, and you should be using the &amp;quot;path.separator&amp;quot; system property.</comment>
                            <comment id="14543542" author="sgehwolf" created="Wed, 7 Dec 2022 07:46:35 -0800"  >[~mullan] With the problem list in place the priority (P2) of this can be lowered, now?</comment>
                            <comment id="14543524" author="sgehwolf" created="Wed, 7 Dec 2022 06:42:10 -0800"  >[~mullan] &lt;a href=&quot;https://github.com/openjdk/jdk/pull/11560&quot;&gt;https://github.com/openjdk/jdk/pull/11560&lt;/a&gt; is the problem list PR.</comment>
                            <comment id="14543520" author="sgehwolf" created="Wed, 7 Dec 2022 06:31:44 -0800"  >[~mullan] OK.</comment>
                            <comment id="14543517" author="mullan" created="Wed, 7 Dec 2022 06:22:43 -0800"  >[~sgehwolf] I would advise ProblemListing this test ASAP for the Windows platforms if a fix is not imminent as JDK 20 RDP is tomorrow. </comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5089558">JDK-8298662</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5090336">JDK-8299294</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5091008">JDK-8299866</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5091013">JDK-8299871</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5101850">JDK-8308890</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5105396">JDK-8312008</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5161952">JDK-8359851</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5089099">JDK-8298274</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5088906">JDK-8298108</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5067336">JDK-8280890</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5089099">JDK-8298274</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ziuj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17423"><![CDATA[b28]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="195"><![CDATA[java.security]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>