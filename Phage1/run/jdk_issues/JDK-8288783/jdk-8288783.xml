<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:00:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8288783] Error messages are confusing when options conflict in -XX:StartFlightRecording</title>
                <link>https://bugs.openjdk.org/browse/JDK-8288783</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>-XX:StartFlightRecording has a very unfriendly error message when the same option is specified multiple times.&lt;br/&gt;
&lt;br/&gt;
If we run java application with -XX:StartFlightRecording=name=abc,name=abc2 option, currently the error message is &lt;br/&gt;
&lt;br/&gt;
[0.564s][error][jfr,startup] Duplicates in diagnostic command arguments&lt;br/&gt;
Error occurred during initialization of VM&lt;br/&gt;
Failure when starting JFR on_create_vm_3&lt;br/&gt;
&lt;br/&gt;
Since the production runs with many JVM arguments, this message makes it difficult for the user to know what to change.&lt;br/&gt;
&lt;br/&gt;
I would recommend the following changes to make the issue more clear to the user&lt;br/&gt;
&lt;br/&gt;
filename is conflicted in starting FlightRecording&lt;br/&gt;
disk and filename are conflicted in starting FlightRecording&lt;br/&gt;
disk, filename and name are conflicted in starting FlightRecording</description>
                <environment></environment>
        <key id="5077438">JDK-8288783</key>
            <summary>Error messages are confusing when options conflict in -XX:StartFlightRecording</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cito">Chihiro Ito</assignee>
                                    <reporter username="cito">Chihiro Ito</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jun 2022 19:33:27 -0700</created>
                <updated>Wed, 15 Feb 2023 23:17:12 -0800</updated>
                            <resolved>Wed, 8 Feb 2023 19:46:13 -0800</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14558693" author="dukebot" created="Wed, 8 Feb 2023 19:46:12 -0800"  >Changeset: 36478ee1&lt;br/&gt;
Author:    Chihiro Ito &amp;lt;&lt;a href=&apos;mailto:cito@openjdk.org&apos;&gt;cito@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-09 03:44:01 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/36478ee13f0877447852470150c01397388b3f82&quot;&gt;https://git.openjdk.org/jdk/commit/36478ee13f0877447852470150c01397388b3f82&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14510083" author="roboduke" created="Fri, 15 Jul 2022 11:06:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/9302&quot;&gt;https://git.openjdk.org/jdk/pull/9302&lt;/a&gt;&lt;br/&gt;
Date: 2022-06-28 05:50:38 +0000</comment>
                            <comment id="14504099" author="egahlin" created="Tue, 21 Jun 2022 09:15:10 -0700"  >I think the error message was copied from the native implementation of jcmd. A similar message is printed if you do:&lt;br/&gt;
&amp;nbsp;&lt;br/&gt;
&amp;nbsp;$ jcmd &amp;lt;pid&amp;gt; GC.heap_dump -all -all heapdump&lt;br/&gt;
&lt;br/&gt;
That said, seems reasonable to fix, perhaps for native dcmd as well and JFR.dump, JFR.check and JFR.stop. The option &amp;#39;settings&amp;#39; should be able to exists more than once, so settings from multiple files can be aggregated.&lt;br/&gt;
&lt;br/&gt;
An error message for -XX:StartFlightRecording could perhaps be: &lt;br/&gt;
&lt;br/&gt;
[0.564s][error][jfr,startup] Option name can only be specified once with -XX:StartFlightRecording&lt;br/&gt;
[0.564s][error][jfr,startup] Options name and disk can only be specified once with -XX:StartFlightRecording&lt;br/&gt;
[0.564s][error][jfr,startup] Options name, disk and filename can only be specified once with -XX:StartFlightRecording&lt;br/&gt;
&lt;br/&gt;
A fix should also work with jcmd and DiagnosticCommandMBean, i.e &lt;br/&gt;
&lt;br/&gt;
$ jcmd &amp;lt;pid&amp;gt; JFR.start name=hello name=hello &lt;br/&gt;
&lt;br/&gt;
Option name can only be specified once with JFR.start.&lt;br/&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xjwj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17338"><![CDATA[b10]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="374"><![CDATA[jfr]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>