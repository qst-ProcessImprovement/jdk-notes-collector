<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:49:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8298619] java/io/File/GetXSpace.java is failing</title>
                <link>https://bugs.openjdk.org/browse/JDK-8298619</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>FAILED: &amp;#39;c:\\sb\\prod\\1670897315\\testoutput\\test-support\\jtreg_open_test_jdk_tier2_part2\\tmp\\5545770776958884423\\10856438924569857750\\foo11530941174951796680.tmp total space&amp;#39;: 26401810644992 &amp;gt; 161051996160&lt;br/&gt;
4 tests: 1 failure(s); first: java.lang.RuntimeException: &amp;#39;c:\\sb\\prod\\1670897315\\testoutput\\test-support\\jtreg_open_test_jdk_tier2_part2\\tmp\\5545770776958884423\\10856438924569857750\\foo11530941174951796680.tmp total space&amp;#39;: 26401810644992 &amp;gt; 161051996160&lt;br/&gt;
java.lang.RuntimeException: 1 test(s) failed&lt;br/&gt;
	at GetXSpace.main(GetXSpace.java:491)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)</description>
                <environment></environment>
        <key id="5089509">JDK-8298619</key>
            <summary>java/io/File/GetXSpace.java is failing</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bpb">Brian Burkhalter</assignee>
                                    <reporter username="dholmes">David Holmes</reporter>
                        <labels>
                            <label>11u-tier2</label>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>sust-test-stabilization</label>
                            <label>tier2</label>
                    </labels>
                <created>Mon, 12 Dec 2022 19:01:11 -0800</created>
                <updated>Thu, 19 Dec 2024 05:43:21 -0800</updated>
                            <resolved>Tue, 4 Apr 2023 08:58:23 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                                                                <comments>
                            <comment id="14620957" author="roboduke" created="Wed, 25 Oct 2023 04:47:05 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1912&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1912&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-24 13:42:22 +0000</comment>
                            <comment id="14613667" author="goetz" created="Mon, 25 Sep 2023 08:17:48 -0700"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.10-oracle.&lt;br/&gt;
No risk, only a test change. Included in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8291911&quot; title=&quot;java/io/File/GetXSpace.java fails with &amp;quot;53687091200 != 161051996160&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8291911&quot;&gt;&lt;strike&gt;JDK-8291911&lt;/strike&gt;&lt;/a&gt;. Follow-ups &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8305646&quot; title=&quot;compile error on Alpine with gcc12 after 8298619 in libGetXSpace.c&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8305646&quot;&gt;&lt;strike&gt;JDK-8305646&lt;/strike&gt;&lt;/a&gt;, &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8309216&quot; title=&quot;Cast from jchar* to char* in test java/io/GetXSpace.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8309216&quot;&gt;&lt;strike&gt;JDK-8309216&lt;/strike&gt;&lt;/a&gt; also included.&lt;br/&gt;
I had to resolve. Trivial.&lt;br/&gt;
Test passes. SAP nightly testiing passed. </comment>
                            <comment id="14571898" author="mbaesken" created="Wed, 5 Apr 2023 00:28:56 -0700"  >On Alpine Linux, using gcc12, we run now into this compile warning as error :&lt;br/&gt;
In file included from /openjdk/linuxmuslx86_64/jdk/test/jdk/java/io/File/libGetXSpace.c:31:&lt;br/&gt;
/usr/include/sys/errno.h:1:2: error: #warning redirecting incorrect #include &amp;lt;sys/errno.h&amp;gt; to &amp;lt;errno.h&amp;gt; [-Werror=cpp]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;1 | #warning redirecting incorrect #include &amp;lt;sys/errno.h&amp;gt; to &amp;lt;errno.h&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;|  ^~~~~~~&lt;br/&gt;
cc1: all warnings being treated as errors&lt;br/&gt;
&lt;br/&gt;
Not sure if this warning makes a lot of sense, but we probably better just include &amp;lt;errno.h&amp;gt; like it is done at almost all other places in the codebase ?&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14571724" author="dukebot" created="Tue, 4 Apr 2023 08:58:22 -0700"  >Changeset: 3ef834fc&lt;br/&gt;
Author:    Brian Burkhalter &amp;lt;&lt;a href=&apos;mailto:bpb@openjdk.org&apos;&gt;bpb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-04 15:56:51 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/3ef834fc6fc245accffc41da714358fc82f22657&quot;&gt;https://git.openjdk.org/jdk/commit/3ef834fc6fc245accffc41da714358fc82f22657&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14570502" author="bpb" created="Wed, 29 Mar 2023 11:42:49 -0700"  >I expect that a quota is in effect and 161051996160 is CallerTotalAllocationUnits and 26401810382848 is ActualTotalAllocationUnits. I was unable to run the revised test in Mach 5 on the same node which I suppose is not in the machine pool.</comment>
                            <comment id="14557228" author="bpb" created="Fri, 3 Feb 2023 09:01:23 -0800"  >This particular failure occurred because the conditional s.total() &amp;gt; ts was true where s.total() is the total space on the disk as derived from df and ts is the total space on the disk as derived by getTotalSpace(). The former value does not recognize quotas whereas the latter value does, do if there is a quota in place for the volume then the conditional will always be true and the test will always fail.&lt;br/&gt;
&lt;br/&gt;
If however the value of s.total() is derived from fsutil volume diskFree, then it will account for any quota and the conditional should instead be ts &amp;gt; s.total() instead and should always be false unless there is truly an error.</comment>
                            <comment id="14557060" author="roboduke" created="Thu, 2 Feb 2023 18:11:35 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12397&quot;&gt;https://git.openjdk.org/jdk/pull/12397&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-03 02:02:39 +0000</comment>
                            <comment id="14554845" author="bpb" created="Thu, 26 Jan 2023 17:08:49 -0800"  >The failures listed so far appear to have occurred for the same reason: `File::getTotalSpace` returned a value (much) less than that indicated by the output of `df`. This is presumably because quotas are in effect for the current user. From the documentation of `GetDiskFreeSpaceExW`:&lt;br/&gt;
&lt;br/&gt;
&amp;quot;If per-user quotas are being used, this value may be less than the total number of bytes on a disk.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
It is possible that `GetDiskSpaceInformationW` might be useful for this problem, either in the test or in the implementation itself.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5107591">JDK-8313910</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5113332">JDK-8318928</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5139545">JDK-8340546</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5121352">JDK-8325753</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5097964">JDK-8305646</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5102230">JDK-8309216</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5114578">JDK-8319958</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zlej:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="244"><![CDATA[java.io]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>