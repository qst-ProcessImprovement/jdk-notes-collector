<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 15:38:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8300109] RISC-V: Improve code generation for MinI/MaxI nodes</title>
                <link>https://bugs.openjdk.org/browse/JDK-8300109</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Code generation for MinI/MaxI nodes could be improved when one of the source register is the same as the destination register. &lt;br/&gt;
&lt;br/&gt;
For example, C2 PrintOptoAssembly output snippet:&lt;br/&gt;
/////////////&lt;br/&gt;
0aa +   slliw  R28, R8, (#24 &amp;amp; 0x1f)    #@lShiftI_reg_imm&lt;br/&gt;
0ae +   bge R7, R10, Lsrc1      #@maxI_rReg&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mv R29, R10&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;j Ldone&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;bind Lsrc1&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mv R29, R7&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;bind    #@maxI_rReg&lt;br/&gt;
0ba +   sraiw  R31, R28, (#24 &amp;amp; 0x1f)   #@rShiftI_reg_imm&lt;br/&gt;
&lt;br/&gt;
0be     B5: #   out( B30 B6 ) &amp;lt;- in( B4 B8 ) Loop( B5-B8 inner pre of N255) Freq: 1.96481&lt;br/&gt;
0be +   addw  R7, R18, zr       #@convI2L_reg_reg&lt;br/&gt;
0c2 +   add R7, R9, R7  # ptr, #@addP_reg_reg&lt;br/&gt;
0c4 +   bgeu  R18, R11, B30     #@cmpU_branch  P=0.000001 C=-1.000000&lt;br/&gt;
&lt;br/&gt;
0c8     B6: #   out( B37 B7 ) &amp;lt;- in( B5 )  Freq: 1.96481&lt;br/&gt;
0c8 +   lb  R28, [R7, #16]      # byte, #@loadB&lt;br/&gt;
0cc +   beq  R28, R31, B37      #@cmpI_branch  P=0.000000 C=24017.000000&lt;br/&gt;
&lt;br/&gt;
0d0     B7: #   out( B9 B8 ) &amp;lt;- in( B6 )  Freq: 1.96481&lt;br/&gt;
0d0 +   addiw  R7, R18, #-1     #@addI_reg_imm&lt;br/&gt;
0d4 +   ble  R7, R29, B9        #@cmpI_loop  P=0.500000 C=24447.000000&lt;br/&gt;
/////////////&lt;br/&gt;
&lt;br/&gt;
This snippet could be optimized into following snippet:&lt;br/&gt;
/////////////&lt;br/&gt;
0aa +   slliw  R28, R8, (#24 &amp;amp; 0x1f)    #@lShiftI_reg_imm&lt;br/&gt;
0ae +   sraiw  R12, R28, (#24 &amp;amp; 0x1f)   #@rShiftI_reg_imm&lt;br/&gt;
0b2 +   bge R7, R10, skip       #@maxI_reg_reg&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;mv  R7, R10&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;skip:&lt;br/&gt;
&lt;br/&gt;
0b8     B5: #   out( B30 B6 ) &amp;lt;- in( B4 B8 ) Loop( B5-B8 inner pre of N255) Freq: 1.96481&lt;br/&gt;
0b8     addw  R28, R18, zr      #@convI2L_reg_reg&lt;br/&gt;
0bc +   add R28, R9, R28        # ptr, #@addP_reg_reg&lt;br/&gt;
0be +   bgeu  R18, R11, B30     #@cmpU_branch  P=0.000001 C=-1.000000&lt;br/&gt;
&lt;br/&gt;
0c2     B6: #   out( B37 B7 ) &amp;lt;- in( B5 )  Freq: 1.96481&lt;br/&gt;
0c2 +   lb  R28, [R28, #16]     # byte, #@loadB&lt;br/&gt;
0c6 +   beq  R28, R12, B37      #@cmpI_branch  P=0.000000 C=24017.000000&lt;br/&gt;
&lt;br/&gt;
0ca     B7: #   out( B9 B8 ) &amp;lt;- in( B6 )  Freq: 1.96481&lt;br/&gt;
0ca +   addiw  R29, R18, #-1    #@addI_reg_imm&lt;br/&gt;
0ce +   ble  R29, R7, B9        #@cmpI_loop  P=0.500000 C=24447.000000&lt;br/&gt;
/////////////</description>
                <environment></environment>
        <key id="5091352">JDK-8300109</key>
            <summary>RISC-V: Improve code generation for MinI/MaxI nodes</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fyang">Fei Yang</assignee>
                                    <reporter username="fyang">Fei Yang</reporter>
                        <labels>
                            <label>c2</label>
                            <label>oraclejdk-na</label>
                    </labels>
                <created>Fri, 13 Jan 2023 01:24:02 -0800</created>
                <updated>Sun, 9 Jul 2023 19:25:27 -0700</updated>
                            <resolved>Tue, 17 Jan 2023 17:17:06 -0800</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14590422" author="roboduke" created="Mon, 19 Jun 2023 20:38:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1427&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1427&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-13 09:43:25 +0000</comment>
                            <comment id="14569129" author="roboduke" created="Thu, 23 Mar 2023 09:20:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/riscv-port-jdk17u/pull/25&quot;&gt;https://git.openjdk.org/riscv-port-jdk17u/pull/25&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-23 16:10:53 +0000</comment>
                            <comment id="14552035" author="dukebot" created="Tue, 17 Jan 2023 17:17:03 -0800"  >Changeset: f1194dc0&lt;br/&gt;
Author:    Fei Yang &amp;lt;&lt;a href=&apos;mailto:fyang@openjdk.org&apos;&gt;fyang@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-01-18 01:14:47 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/f1194dc07ec347f4f9d785e7647983da61441c0e&quot;&gt;https://git.openjdk.org/jdk/commit/f1194dc07ec347f4f9d785e7647983da61441c0e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14550968" author="roboduke" created="Fri, 13 Jan 2023 01:54:00 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11988&quot;&gt;https://git.openjdk.org/jdk/pull/11988&lt;/a&gt;&lt;br/&gt;
Date: 2023-01-13 09:45:01 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5105090">JDK-8311745</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="20300"><![CDATA[riscv]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zwgz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17334"><![CDATA[b06]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>