<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 19:10:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8307375] Alignment check on layouts used as sequence element is not correct</title>
                <link>https://bugs.openjdk.org/browse/JDK-8307375</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Sometimes layouts are used as elements in a &amp;quot;sequence&amp;quot; where the element is repeated, back to back, several times.&lt;br/&gt;
&lt;br/&gt;
We have several instance of this usage of memory layouts in the API:&lt;br/&gt;
&lt;br/&gt;
* MemorySegment::getAtIndex //1&lt;br/&gt;
* MemorySegment::copy //1&lt;br/&gt;
* ValueLayout::arrayElementVarHandle //1&lt;br/&gt;
* MemoryLayout::sequenceLayout //2&lt;br/&gt;
* MemorySegment::spliterator //2&lt;br/&gt;
* MemorySegment::elements //2&lt;br/&gt;
&lt;br/&gt;
In some cases (1) the layout parameter is a ValueLayout, in other cases (2), the API point is more general and accepts a MemoryLayout.&lt;br/&gt;
&lt;br/&gt;
The implementation asserts layout well-formedness by checking that the layout size is bigger than the alignment. Now, for value layouts, since both are power of two (by construction), this check turns out ok.&lt;br/&gt;
&lt;br/&gt;
But if the accepted layout is more general than a ValueLayout (as in (2)) then we can no longer rely on the &amp;quot;power of two&amp;quot; assumption, and we have to check that the layout size is effectively a multiple of the alignment (otherwise we end up with a &amp;quot;bad&amp;quot; sequence where not all elements are correctly aligned).</description>
                <environment></environment>
        <key id="5100043">JDK-8307375</key>
            <summary>Alignment check on layouts used as sequence element is not correct</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcimadamore">Maurizio Cimadamore</assignee>
                                    <reporter username="mcimadamore">Maurizio Cimadamore</reporter>
                        <labels>
                            <label>foreign-memaccess+abi</label>
                    </labels>
                <created>Wed, 3 May 2023 10:36:01 -0700</created>
                <updated>Mon, 24 Jul 2023 10:07:13 -0700</updated>
                            <resolved>Fri, 5 May 2023 09:05:45 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14579417" author="dukebot" created="Fri, 5 May 2023 09:05:43 -0700"  >Changeset: 47422be2&lt;br/&gt;
Author:    Maurizio Cimadamore &amp;lt;&lt;a href=&apos;mailto:mcimadamore@openjdk.org&apos;&gt;mcimadamore@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-05-05 15:59:13 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/47422be2d1d74e5e1b4b6c8e1a75e134e4f6aaf5&quot;&gt;https://git.openjdk.org/jdk/commit/47422be2d1d74e5e1b4b6c8e1a75e134e4f6aaf5&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14579306" author="roboduke" created="Fri, 5 May 2023 01:29:57 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13784&quot;&gt;https://git.openjdk.org/jdk/pull/13784&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-03 17:44:55 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10400">
                    <name>CSR</name>
                                            <outwardlinks description="csr for">
                                        <issuelink>
            <issuekey id="5100044">JDK-8307376</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31ddn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17415"><![CDATA[b22]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="2492"><![CDATA[java.lang.foreign]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>