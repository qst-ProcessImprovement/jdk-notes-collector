<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:25:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8325672] C2: allocate PhaseIdealLoop::_loop_or_ctrl from C-&gt;comp_arena()</title>
                <link>https://bugs.openjdk.org/browse/JDK-8325672</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>If we don&amp;#39;t do that, then this array is ResourceArea allocated. That means we can get in trouble with ResourceMarks inside the PhaseIdealLoop. If the array is updated because of new nodes, and this grows the area in a ResourceMark scope, then the data behind _loop_or_ctrl becomes invalid, and we get use-after-free memory corruption bugs.&lt;br/&gt;
&lt;br/&gt;
The array was added in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8302670&quot; title=&quot;use-after-free related to PhaseIterGVN interaction with Unique_Node_List and Node_Stack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8302670&quot;&gt;&lt;strike&gt;JDK-8302670&lt;/strike&gt;&lt;/a&gt;, hence this is a fix to that regression. We should backport down to JDK21.&lt;br/&gt;
&lt;br/&gt;
I don&amp;#39;t yet have a reproducer. But this triggered with my patch for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8325589&quot; title=&quot;C2 SuperWord refactoring: create VLoopAnalyzer with Submodules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8325589&quot;&gt;&lt;strike&gt;JDK-8325589&lt;/strike&gt;&lt;/a&gt;.</description>
                <environment></environment>
        <key id="5121261">JDK-8325672</key>
            <summary>C2: allocate PhaseIdealLoop::_loop_or_ctrl from C-&gt;comp_arena()</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="epeter">Emanuel Peter</assignee>
                                    <reporter username="epeter">Emanuel Peter</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>c2</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>oracle-triage-23</label>
                            <label>regression</label>
                    </labels>
                <created>Mon, 12 Feb 2024 09:50:14 -0800</created>
                <updated>Thu, 25 Sep 2025 04:49:19 -0700</updated>
                            <resolved>Tue, 13 Feb 2024 08:11:21 -0800</resolved>
                                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14653033" author="roboduke" created="Tue, 27 Feb 2024 22:42:45 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/72&quot;&gt;https://git.openjdk.org/jdk22u/pull/72&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-28 06:38:28 +0000</comment>
                            <comment id="14653032" author="thartmann" created="Tue, 27 Feb 2024 22:37:18 -0800"  >Fix Request (JDK 22u)&lt;br/&gt;
Potential use-after-free in C2 code. Regression in JDK 21, the fix was already backported to JDK 21u. The fix is low risk because it only changes the location some data is allocated in. Tested with tier1,tier2,tier3,hs-comp-stress,hs-precheckin-comp. Applies cleanly.</comment>
                            <comment id="14649560" author="roboduke" created="Thu, 15 Feb 2024 00:16:32 -0800"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Simple fix to resolve C2 use-after-free bug introduced in JDK 21. Applies cleanly. Testing passes. The usual risk for C2 changes applies, but the error looks real and fix is simple.</comment>
                            <comment id="14649140" author="roboduke" created="Wed, 14 Feb 2024 01:33:30 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/261&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/261&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-14 09:29:26 +0000</comment>
                            <comment id="14648799" author="dukebot" created="Tue, 13 Feb 2024 08:11:20 -0800"  >Changeset: 74b90aa8&lt;br/&gt;
Author:    Emanuel Peter &amp;lt;&lt;a href=&apos;mailto:epeter@openjdk.org&apos;&gt;epeter@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-02-13 16:09:09 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/74b90aa87e7cfa52ac09bf2e57258d792f740f00&quot;&gt;https://git.openjdk.org/jdk/commit/74b90aa87e7cfa52ac09bf2e57258d792f740f00&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14648648" author="thartmann" created="Tue, 13 Feb 2024 01:02:00 -0800"  >ILW = Potential use-after-free memory corruption bug, never observed, no workaround but disable compilation of affected method = HLM = P3</comment>
                            <comment id="14648366" author="roboduke" created="Mon, 12 Feb 2024 10:01:49 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17814&quot;&gt;https://git.openjdk.org/jdk/pull/17814&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-12 17:54:14 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5121793">JDK-8326134</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122202">JDK-8326504</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5123099">JDK-8327193</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5134957">JDK-8337015</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5170077">JDK-8366990</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5094373">JDK-8302670</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10003" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Introduced In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17695"><![CDATA[b25]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10004" key="com.atlassian.jira.plugin.system.customfieldtypes:version">
                        <customfieldname>Introduced In Version</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="22711">21</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34ymb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17338"><![CDATA[b10]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>