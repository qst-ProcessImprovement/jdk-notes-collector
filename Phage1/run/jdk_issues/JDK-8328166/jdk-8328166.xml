<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:11:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8328166] Epsilon: &apos;EpsilonHeap::allocate_work&apos; misuses the parameter &apos;size&apos; as size in bytes</title>
                <link>https://bugs.openjdk.org/browse/JDK-8328166</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following code in `EpsilonHeap::allocate_work` misuses the parameter `size` as size in bytes. Actually, the parameter `size` is a size in words. The comment `// &amp;lt;---- here` indicates the concrete misused code location.&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;size_t space_left = max_capacity() - capacity();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;size_t want_space = MAX2(size, EpsilonMinHeapExpand); // &amp;lt;---- here&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if (want_space &amp;lt; space_left) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// Enough space to expand in bulk:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;bool expand = _virtual_space.expand_by(want_space);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;assert(expand, &amp;quot;Should be able to expand&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;} else if (size &amp;lt; space_left) { // &amp;lt;---- here&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// No space to expand in bulk, and this allocation is still possible,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// take all the remaining space:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;bool expand = _virtual_space.expand_by(space_left);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;assert(expand, &amp;quot;Should be able to expand&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
```</description>
                <environment></environment>
        <key id="5124211">JDK-8328166</key>
            <summary>Epsilon: &apos;EpsilonHeap::allocate_work&apos; misuses the parameter &apos;size&apos; as size in bytes</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gli">Guoxiong Li</assignee>
                                    <reporter username="gli">Guoxiong Li</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>gc-epsilon</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                    </labels>
                <created>Thu, 14 Mar 2024 06:05:43 -0700</created>
                <updated>Wed, 23 Oct 2024 04:57:45 -0700</updated>
                            <resolved>Fri, 15 Mar 2024 06:07:54 -0700</resolved>
                                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14666851" author="roboduke" created="Mon, 22 Apr 2024 01:47:51 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2423&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2423&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-22 08:27:54 +0000</comment>
                            <comment id="14666845" author="roboduke" created="Mon, 22 Apr 2024 01:44:53 -0700"  >[jdk17u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Fixes a corner case bug/inefficiency in Epsilon. Applies cleanly. Testing passes. Risk is low, the patch is simple and limited to Epsilon.</comment>
                            <comment id="14666629" author="roboduke" created="Fri, 19 Apr 2024 11:13:39 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/157&quot;&gt;https://git.openjdk.org/jdk22u/pull/157&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-19 18:08:29 +0000</comment>
                            <comment id="14666628" author="roboduke" created="Fri, 19 Apr 2024 11:10:57 -0700"  >[jdk22u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Fixes a corner case bug/inefficiency in Epsilon. Applies cleanly. Testing passes. Risk is low, the patch is simple and limited to Epsilon.</comment>
                            <comment id="14666627" author="roboduke" created="Fri, 19 Apr 2024 11:09:46 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/515&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/515&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-19 18:04:39 +0000</comment>
                            <comment id="14666626" author="roboduke" created="Fri, 19 Apr 2024 11:08:52 -0700"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Fixes a corner case bug/inefficiency in Epsilon. Applies cleanly. Testing passes. Risk is low, the patch is simple and limited to Epsilon.</comment>
                            <comment id="14657711" author="dukebot" created="Fri, 15 Mar 2024 06:07:53 -0700"  >Changeset: 90ab52e5&lt;br/&gt;
Author:    Guoxiong Li &amp;lt;&lt;a href=&apos;mailto:gli@openjdk.org&apos;&gt;gli@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-03-15 13:06:14 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/90ab52e598f74ed872fe404130d57f6596430727&quot;&gt;https://git.openjdk.org/jdk/commit/90ab52e598f74ed872fe404130d57f6596430727&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14657423" author="roboduke" created="Thu, 14 Mar 2024 06:47:39 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18303&quot;&gt;https://git.openjdk.org/jdk/pull/18303&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-14 13:42:45 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5127513">JDK-8330778</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128014">JDK-8331171</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5127768">JDK-8331010</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5142279">JDK-8342885</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5124213">JDK-8328168</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35g83:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17352"><![CDATA[b15]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="209"><![CDATA[gc]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>