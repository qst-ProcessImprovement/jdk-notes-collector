<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:43:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8169475] WheelModifier.java fails by timeout</title>
                <link>https://bugs.openjdk.org/browse/JDK-8169475</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>FULL PRODUCT VERSION :&lt;br/&gt;
java version &amp;quot;1.8.0_51&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_51-b16)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 25.51-b03, mixed mode)&lt;br/&gt;
&lt;br/&gt;
ADDITIONAL OS VERSION INFORMATION :&lt;br/&gt;
Microsoft Windows [Version 6.1.7601]&lt;br/&gt;
&lt;br/&gt;
A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
The test java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.java fails by time out on Windows.&lt;br/&gt;
This issue was not observed on Linux, OSX&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
ERROR MESSAGES/STACK TRACES THAT OCCUR :&lt;br/&gt;
#section:main&lt;br/&gt;
----------messages:(7/254)----------&lt;br/&gt;
command: main WheelModifier&lt;br/&gt;
reason: Assumed action based on file name: run main WheelModifier &lt;br/&gt;
Mode: othervm&lt;br/&gt;
Timeout information:&lt;br/&gt;
Could not find process id for the process that timed out.&lt;br/&gt;
Skipping timeout handling.&lt;br/&gt;
elapsed time (seconds): 240.022&lt;br/&gt;
&lt;br/&gt;
REPRODUCIBILITY :&lt;br/&gt;
This bug can be reproduced always.&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="4906373">JDK-8169475</key>
            <summary>WheelModifier.java fails by timeout</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rkannathpari">Renjith Kannath Pariyangad</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>cssn23_10_01</label>
                            <label>dcsroy</label>
                            <label>intellij_found_test_bug</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>problemlist</label>
                            <label>reproducer-yes</label>
                            <label>testbug</label>
                            <label>top_level_awt_jtreg_run</label>
                            <label>webbug</label>
                    </labels>
                <created>Tue, 8 Nov 2016 19:56:57 -0800</created>
                <updated>Mon, 22 Jan 2024 00:47:16 -0800</updated>
                            <resolved>Tue, 31 Oct 2023 11:21:59 -0700</resolved>
                                    <version>8</version>
                    <version>9</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>client-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="14642117" author="JIRAUSER20917" created="Sun, 21 Jan 2024 18:21:35 -0800"  >Fix request [11u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 11.0.23-oracle.&lt;br/&gt;
No risk, only tests change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test passes. SAP nightly testing passed.</comment>
                            <comment id="14642116" author="JIRAUSER20917" created="Sun, 21 Jan 2024 18:20:15 -0800"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.11-oracle.&lt;br/&gt;
No risk, only tests change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Test pass. SAP nightly testing passed.</comment>
                            <comment id="14642115" author="JIRAUSER20917" created="Sun, 21 Jan 2024 18:06:26 -0800"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.3-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
SAP nightly testing passed.</comment>
                            <comment id="14641383" author="roboduke" created="Wed, 17 Jan 2024 18:19:01 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/190&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/190&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-18 02:10:39 +0000</comment>
                            <comment id="14641076" author="roboduke" created="Wed, 17 Jan 2024 01:41:25 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2461&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2461&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-17 09:06:03 +0000</comment>
                            <comment id="14641074" author="roboduke" created="Wed, 17 Jan 2024 01:39:05 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2134&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2134&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-17 09:00:27 +0000</comment>
                            <comment id="14622502" author="dukebot" created="Tue, 31 Oct 2023 11:21:58 -0700"  >Changeset: 613d32c2&lt;br/&gt;
Author:    Renjith Kannath Pariyangad &amp;lt;&lt;a href=&apos;mailto:renjith.kannath.pariyangad@oracle.com&apos;&gt;renjith.kannath.pariyangad@oracle.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Alexey Ivanov &amp;lt;&lt;a href=&apos;mailto:aivanov@openjdk.org&apos;&gt;aivanov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-10-31 18:20:22 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/613d32c2822a443fdcb131a7d67c528410e9f7e6&quot;&gt;https://git.openjdk.org/jdk/commit/613d32c2822a443fdcb131a7d67c528410e9f7e6&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14619722" author="roboduke" created="Fri, 20 Oct 2023 00:05:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/16281&quot;&gt;https://git.openjdk.org/jdk/pull/16281&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-20 06:59:17 +0000</comment>
                            <comment id="14619522" author="aivanov" created="Thu, 19 Oct 2023 07:48:27 -0700"  >Fix:&lt;br/&gt;
[~rkannathpari] is working on updating the test.&lt;br/&gt;
An additional CountDownLatch is added to wait for &#8216;focusGained&#8217; event.&lt;br/&gt;
It&amp;#39;s followed by Robot.waitForIdle() and SunToolkit.realSync().&lt;br/&gt;
(The latter is for 8u only because waitForIdle uses realSync internally in later versions.)&lt;br/&gt;
&lt;br/&gt;
Then the test logic is executed.&lt;br/&gt;
&lt;br/&gt;
Renjith is also replacing unconditional waits &#8212; await() &#8212; with timed waits &#8212; await(1, TimeUnit.SECONDS). It makes the fail quickly without waiting for jtreg timeout which is 5 minutes by default.</comment>
                            <comment id="14619521" author="aivanov" created="Thu, 19 Oct 2023 07:31:47 -0700"  >Root cause (for 8u):&lt;br/&gt;
The test times out because presses mouse button before UI is shown on the screen.&lt;br/&gt;
&lt;br/&gt;
~/dev/tests/jdk1.8.0_401/bin/java -cp ./build WheelModifier&lt;br/&gt;
1,697,216,092,894 - windowOpened&lt;br/&gt;
1,697,216,093,006 - # Started&lt;br/&gt;
1,697,216,093,027 - Got location and size&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;sLoc: java.awt.Point[x=105,y=69]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;bSize: java.awt.Dimension[width=129,height=25]&lt;br/&gt;
1,697,216,093,027 - Going to press: 169, 81&lt;br/&gt;
1,697,216,093,141 - Pressed - waiting for latch&lt;br/&gt;
1,697,216,093,386 - windowActivated&lt;br/&gt;
1,697,216,093,410 - windowGainedFocus&lt;br/&gt;
&lt;br/&gt;
The number is System.currentTimeMillis() formatted with group separator.&lt;br/&gt;
&lt;br/&gt;
This is why adding a delay resolves the problem. It&amp;#39;s also because waitForIdle() in 8u is not realSync(). In fact, the test does not work correct without using realSync().</comment>
                            <comment id="14618065" author="aivanov" created="Fri, 13 Oct 2023 07:30:58 -0700"  >The test consistently fails on Linux when run with the latest build of 8u. So the test may need specially crafted updates for 8u.</comment>
                            <comment id="14617740" author="aivanov" created="Thu, 12 Oct 2023 05:57:52 -0700"  >I ran many test jobs today in CI but I cannot reproduce failure, not at least once out of more than 40 runs with JTREG_TEST_REPEAT=50.&lt;br/&gt;
&lt;br/&gt;
Yet the test could be improved: fb.getLocationOnScreen() and fb.getSize() are to be called on EDT.&lt;br/&gt;
I&amp;#39;d rather not add the additional delay just yet, at least to mainline, 21u, 17u and 11u.&lt;br/&gt;
&lt;br/&gt;
Java 8u is a different story though. Robot.waitForIdle is not realSync, it does not provide the same guarantees. For 8u, we probably need to replace the usage of waitForIdle() with realSync(). If there are still failures, add an additional delay.</comment>
                            <comment id="14611705" author="vprovodin" created="Sun, 17 Sep 2023 15:19:15 -0700"  >The test is still intermittently failing on 17, 21, 22. The failure was observed on Ubuntu-20.04, Ubuntu-22.04, Windows 11 on both platforms x86-64, aarch64</comment>
                            <comment id="14467865" author="aivanov" created="Fri, 7 Jan 2022 12:33:54 -0800"  >According to the messages and the stack dump, the test on Linux is waiting for the first event.&lt;br/&gt;
&lt;br/&gt;
&amp;quot;MainThread&amp;quot; #11 prio=5 os_prio=0 tid=0x00007f079013f000 nid=0x25c9 waiting on condition [0x00007f07534f2000]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;java.lang.Thread.State: WAITING (parking)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at sun.misc.Unsafe.park(Native Method)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- parking to wait for  &amp;lt;0x00000000f5772620&amp;gt; (a java.util.concurrent.CountDownLatch$Sync)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at &#8230;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at WheelModifier.run(WheelModifier.java:105)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at WheelModifier.main(WheelModifier.java:131)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at &#8230;&lt;br/&gt;
&lt;br/&gt;
Additional delay after robot.waitForIdle() could resolve the failure.</comment>
                            <comment id="14467607" author="aivanov" created="Thu, 6 Jan 2022 07:58:23 -0800"  >Recently, the test consistently fails on Linux in 8u. There are only several failures on Windows.&lt;br/&gt;
&lt;br/&gt;
The test fails in jdk-dev too, on Linux and Windows, yet not as often.</comment>
                            <comment id="14275432" author="nnigam" created="Mon, 1 Jul 2019 01:53:57 -0700"  >Issue is reproducible with JDK8u231b01 on Ubuntu machines.&lt;br/&gt;
Logs : &lt;br/&gt;
&lt;a href=&quot;http://llg00gql.uk.oracle.com:9504/runs/02464/2464524.ManualSubmit/2464524.ManualSubmit-1/workDir/java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.jtr&quot;&gt;http://llg00gql.uk.oracle.com:9504/runs/02464/2464524.ManualSubmit/2464524.ManualSubmit-1/workDir/java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.jtr&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
RULE &amp;quot;java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.java&amp;quot; Exception java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
&lt;br/&gt;
RULE &amp;quot;java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.java&amp;quot; Exception java.lang.Thread.State: WAITING (parking)&lt;br/&gt;
&lt;br/&gt;
RULE &amp;quot;java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.java&amp;quot; StatusError Program `...java&amp;#39; timed out (timeout set to ...ms, elapsed time including timeout handling was ...ms).&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14021443" author="akolarkunnu" created="Fri, 11 Nov 2016 02:32:10 -0800"  >Reproduced with java/awt group test in windows environment - attached the error log. &lt;br/&gt;
&lt;br/&gt;
JDK9 build 142 - JDK9_build142_WheelModifier_error_log.txt&lt;br/&gt;
JDK8 build132 - JDK8_build132_WheelModifier_error_log.txt</comment>
                            <comment id="14020689" author="vdyakov" created="Wed, 9 Nov 2016 08:02:28 -0800"  >does it affect 9?</comment>
                            <comment id="14020514" author="aroy" created="Tue, 8 Nov 2016 20:41:40 -0800"  >Source Code : &lt;a href=&quot;http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/f7be58eb30bc/test/java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.java&quot;&gt;http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/f7be58eb30bc/test/java/awt/event/MouseWheelEvent/WheelModifier/WheelModifier.java&lt;/a&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5118312">JDK-8323195</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118315">JDK-8323198</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118316">JDK-8323199</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118447">JDK-8323317</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119557">JDK-8324282</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119558">JDK-8324283</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5119560">JDK-8324285</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5065983">JDK-8279784</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="64534" name="JDK8_build132_WheelModifier_error_log.txt" size="7473" author="akolarkunnu" created="Thu, 10 Nov 2016 23:08:23 -0800"/>
                            <attachment id="64549" name="JDK9_build142_WheelModifier_error_log.txt" size="15797" author="akolarkunnu" created="Fri, 11 Nov 2016 02:02:56 -0800"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24qzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17415"><![CDATA[b22]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="196"><![CDATA[java.awt]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>