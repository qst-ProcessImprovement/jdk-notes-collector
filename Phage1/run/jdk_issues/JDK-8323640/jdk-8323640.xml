<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:20:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8323640] [TESTBUG]testMemoryFailCount in jdk/internal/platform/docker/TestDockerMemoryMetrics.java always fail because OOM killed </title>
                <link>https://bugs.openjdk.org/browse/JDK-8323640</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Create on behalf of &lt;a href=&apos;mailto:yansendao.ysd@alibaba-inc.com&apos;&gt;yansendao.ysd@alibaba-inc.com&lt;/a&gt;&lt;br/&gt;
-----&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
## test command(make sure docker service work correctly before test):&lt;br/&gt;
&lt;br/&gt;
jtreg -va -nr -w tmp test/jdk/jdk/internal/platform/docker/TestDockerMemoryMetrics.java&lt;br/&gt;
cd tmp/scratch&lt;br/&gt;
docker build --no-cache --tag jdk-internal:test-jdk-internal-platform-docker-TestDockerMemoryMetrics-metrics-memory jdk-internal-test-jdk-internal-platform-docker-TestDockerMemoryMetrics-metrics-memory&lt;br/&gt;
cd -&lt;br/&gt;
javac @tmp/jdk/internal/platform/docker/TestDockerMemoryMetrics.d/compile.0.jta &amp;amp;&amp;amp; docker run --tty=true --rm --volume $PWD/tmp/classes/jdk/internal/platform/docker/TestDockerMemoryMetrics.d:/test-classes/ --memory=64m jdk-internal:test-jdk-internal-platform-docker-TestDockerMemoryMetrics-metrics-memory bash -c &amp;quot;free -h ;  /jdk/bin/java -Xmx64m -cp /test-classes/ --add-exports java.base/jdk.internal.platform=ALL-UNNAMED MetricsMemoryTester failcount&amp;quot; ; echo exit code: $?&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
## actual result:&lt;br/&gt;
&lt;br/&gt;
STDERR:&lt;br/&gt;
&amp;nbsp;stdout: [[failcount]&lt;br/&gt;
];&lt;br/&gt;
&amp;nbsp;stderr: []&lt;br/&gt;
&amp;nbsp;exitValue = 137&lt;br/&gt;
&lt;br/&gt;
java.lang.RuntimeException: Expected to get exit value of [0], exit value is: [137]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at jdk.test.lib.process.OutputAnalyzer.shouldHaveExitValue(OutputAnalyzer.java:521)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at TestDockerMemoryMetrics.testMemoryFailCount(TestDockerMemoryMetrics.java:142)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;at TestDockerMemoryMetrics.main(TestDockerMemoryMetrics.java:78)&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;total        used        free      shared  buff/cache   available&lt;br/&gt;
Mem:           185Gi       2.9Gi        49Gi       2.0Mi       133Gi       181Gi&lt;br/&gt;
Swap:             0B          0B          0B&lt;br/&gt;
[failcount]&lt;br/&gt;
exit code: 137&lt;br/&gt;
&lt;br/&gt;
## jdk version and environment Infomation:&lt;br/&gt;
&lt;br/&gt;
# uname -a ; cat /etc/os-release ; free -h ; lscpu | head -n 25 ; java -version ; java -Xinternalversion&lt;br/&gt;
Linux aqa-tests 5.15.0-89-generic #99-Ubuntu SMP Mon Oct 30 20:42:41 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux&lt;br/&gt;
PRETTY_NAME=&amp;quot;Ubuntu 22.04.3 LTS&amp;quot;&lt;br/&gt;
NAME=&amp;quot;Ubuntu&amp;quot;&lt;br/&gt;
VERSION_ID=&amp;quot;22.04&amp;quot;&lt;br/&gt;
VERSION=&amp;quot;22.04.3 LTS (Jammy Jellyfish)&amp;quot;&lt;br/&gt;
VERSION_CODENAME=jammy&lt;br/&gt;
ID=ubuntu&lt;br/&gt;
ID_LIKE=debian&lt;br/&gt;
HOME_URL=&amp;quot;&lt;a href=&quot;https://www.ubuntu.com/&quot;&gt;https://www.ubuntu.com/&lt;/a&gt;&amp;quot;&lt;br/&gt;
SUPPORT_URL=&amp;quot;&lt;a href=&quot;https://help.ubuntu.com/&quot;&gt;https://help.ubuntu.com/&lt;/a&gt;&amp;quot;&lt;br/&gt;
BUG_REPORT_URL=&amp;quot;&lt;a href=&quot;https://bugs.launchpad.net/ubuntu/&quot;&gt;https://bugs.launchpad.net/ubuntu/&lt;/a&gt;&amp;quot;&lt;br/&gt;
PRIVACY_POLICY_URL=&amp;quot;&lt;a href=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;&gt;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&lt;/a&gt;&amp;quot;&lt;br/&gt;
UBUNTU_CODENAME=jammy&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;total        used        free      shared  buff/cache   available&lt;br/&gt;
Mem:           185Gi       2.9Gi        49Gi       2.0Mi       133Gi       181Gi&lt;br/&gt;
Swap:             0B          0B          0B&lt;br/&gt;
Architecture:                       x86_64&lt;br/&gt;
CPU op-mode(s):                     32-bit, 64-bit&lt;br/&gt;
Address sizes:                      46 bits physical, 48 bits virtual&lt;br/&gt;
Byte Order:                         Little Endian&lt;br/&gt;
CPU(s):                             48&lt;br/&gt;
On-line CPU(s) list:                0-47&lt;br/&gt;
Vendor ID:                          GenuineIntel&lt;br/&gt;
Model name:                         Intel(R) Xeon(R) Platinum 8369HB CPU @ 3.30GHz&lt;br/&gt;
CPU family:                         6&lt;br/&gt;
Model:                              85&lt;br/&gt;
Thread(s) per core:                 2&lt;br/&gt;
Core(s) per socket:                 24&lt;br/&gt;
Socket(s):                          1&lt;br/&gt;
Stepping:                           11&lt;br/&gt;
CPU max MHz:                        4200.0000&lt;br/&gt;
CPU min MHz:                        1200.0000&lt;br/&gt;
BogoMIPS:                           6599.99&lt;br/&gt;
Flags:                              fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid aperfmperf tsc_known_freq pni pclmulqdq monitor ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single pti fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves avx512_bf16 ida arat avx512_vnni&lt;br/&gt;
Hypervisor vendor:                  KVM&lt;br/&gt;
Virtualization type:                full&lt;br/&gt;
L1d cache:                          768 KiB (24 instances)&lt;br/&gt;
L1i cache:                          768 KiB (24 instances)&lt;br/&gt;
L2 cache:                           24 MiB (24 instances)&lt;br/&gt;
L3 cache:                           33 MiB (1 instance)&lt;br/&gt;
NUMA node(s):                       1&lt;br/&gt;
openjdk version &amp;quot;23&amp;quot; 2024-09-17&lt;br/&gt;
OpenJDK Runtime Environment (build 23)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 23, mixed mode, sharing)&lt;br/&gt;
OpenJDK 64-Bit Server VM (23) for linux-amd64 JRE (23), built on 2024-01-10T08:06:36Z by &amp;quot;yansendao&amp;quot; with gcc 11.4.0&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5118808">JDK-8323640</key>
            <summary>[TESTBUG]testMemoryFailCount in jdk/internal/platform/docker/TestDockerMemoryMetrics.java always fail because OOM killed </summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yyang">Yi Yang</assignee>
                                    <reporter username="yyang">Yi Yang</reporter>
                        <labels>
                            <label>containers</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk8u-fix-request</label>
                            <label>jdk8u-fix-yes</label>
                            <label>noreg-self</label>
                    </labels>
                <created>Thu, 11 Jan 2024 18:27:51 -0800</created>
                <updated>Wed, 25 Jun 2025 19:21:36 -0700</updated>
                            <resolved>Tue, 23 Jan 2024 05:21:51 -0800</resolved>
                                    <version>8</version>
                    <version>11</version>
                    <version>17</version>
                    <version>21</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14651277" author="sgehwolf" created="Wed, 21 Feb 2024 05:06:32 -0800"  >Test only change, no risk for product code. Approving for OpenJDK 21, 17, 11, 8.</comment>
                            <comment id="14651252" author="roboduke" created="Wed, 21 Feb 2024 04:12:07 -0800"  >[jdk8u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
</comment>
                            <comment id="14651251" author="roboduke" created="Wed, 21 Feb 2024 04:12:04 -0800"  >[jdk17u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
</comment>
                            <comment id="14651249" author="roboduke" created="Wed, 21 Feb 2024 04:11:34 -0800"  >[jdk11u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
</comment>
                            <comment id="14651248" author="roboduke" created="Wed, 21 Feb 2024 04:10:16 -0800"  >[jdk21u-fix-request] Approval Request from sendaoYan&lt;br/&gt;
</comment>
                            <comment id="14643470" author="roboduke" created="Wed, 24 Jan 2024 06:38:09 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk8u-dev/pull/426&quot;&gt;https://git.openjdk.org/jdk8u-dev/pull/426&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-24 07:22:39 +0000</comment>
                            <comment id="14643307" author="roboduke" created="Tue, 23 Jan 2024 23:18:54 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2483&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2483&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-24 07:13:33 +0000</comment>
                            <comment id="14643306" author="roboduke" created="Tue, 23 Jan 2024 23:13:38 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2171&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2171&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-24 07:09:04 +0000</comment>
                            <comment id="14643305" author="roboduke" created="Tue, 23 Jan 2024 23:13:08 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/213&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/213&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-24 07:06:29 +0000</comment>
                            <comment id="14642920" author="dukebot" created="Tue, 23 Jan 2024 05:21:49 -0800"  >Changeset: 791b427f&lt;br/&gt;
Author:    sendaoYan &amp;lt;&lt;a href=&apos;mailto:yansendao.ysd@alibaba-inc.com&apos;&gt;yansendao.ysd@alibaba-inc.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Severin Gehwolf &amp;lt;&lt;a href=&apos;mailto:sgehwolf@openjdk.org&apos;&gt;sgehwolf@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-01-23 13:19:49 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/791b427f4410057cdcdf8fd8ea0dcce71f7dc513&quot;&gt;https://git.openjdk.org/jdk/commit/791b427f4410057cdcdf8fd8ea0dcce71f7dc513&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14642223" author="roboduke" created="Mon, 22 Jan 2024 01:39:20 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17514&quot;&gt;https://git.openjdk.org/jdk/pull/17514&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-22 09:31:43 +0000</comment>
                            <comment id="14639910" author="dcubed" created="Fri, 12 Jan 2024 08:56:34 -0800"  >Moving from hotspot/test -&amp;gt; hotspot/runtime for triage.&lt;br/&gt;
&lt;br/&gt;
Bugs in tests are filed in the cat/sub-cat for the owning team.&lt;br/&gt;
In this case, docker support is owned by the Runtime team.</comment>
                            <comment id="14639696" author="roboduke" created="Thu, 11 Jan 2024 19:37:32 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17386&quot;&gt;https://git.openjdk.org/jdk/pull/17386&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-12 03:31:37 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5120875">JDK-8325368</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5120877">JDK-8325370</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5120881">JDK-8325374</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122110">JDK-8326415</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122192">JDK-8326491</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122217">JDK-8326519</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122218">JDK-8326520</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5162752">JDK-8360583</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34jkj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17335"><![CDATA[b07]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>