<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 17:51:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8304557] java/util/concurrent/CompletableFuture/CompletableFutureOrTimeoutExceptionallyTest.java times out</title>
                <link>https://bugs.openjdk.org/browse/JDK-8304557</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following new test timed out in the JDK21 CI (Tier5):&lt;br/&gt;
&lt;br/&gt;
java/util/concurrent/CompletableFuture/CompletableFutureOrTimeoutExceptionallyTest.java&lt;br/&gt;
&lt;br/&gt;
This test was recently added by the following fix:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303742&quot; title=&quot;CompletableFuture.orTimeout leaks if the future completes exceptionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303742&quot;&gt;&lt;strike&gt;JDK-8303742&lt;/strike&gt;&lt;/a&gt; CompletableFuture.orTimeout leaks if the future completes exceptionally&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a log file snippet from the windows-x64 timeout:&lt;br/&gt;
&lt;br/&gt;
#section:junit&lt;br/&gt;
----------messages:(8/372)----------&lt;br/&gt;
command: junit -Xmx128m CompletableFutureOrTimeoutExceptionallyTest&lt;br/&gt;
reason: User specified action: run junit/othervm -Xmx128m CompletableFutureOrTimeoutExceptionallyTest &lt;br/&gt;
started: Tue Mar 21 00:11:14 UTC 2023&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Tue Mar 21 00:23:28 UTC 2023&lt;br/&gt;
elapsed time (seconds): 734.55&lt;br/&gt;
----------configuration:(0/0)----------&lt;br/&gt;
----------System.out:(1/27)----------&lt;br/&gt;
Timeout refired 480 times&lt;br/&gt;
----------System.err:(3/499)----------&lt;br/&gt;
STARTED    CompletableFutureOrTimeoutExceptionallyTest::testOrTimeoutWithCompleteExceptionallyDoesNotLeak &amp;#39;testOrTimeoutWithCompleteExceptionallyDoesNotLeak()&amp;#39;&lt;br/&gt;
SUCCESSFUL CompletableFutureOrTimeoutExceptionallyTest::testOrTimeoutWithCompleteExceptionallyDoesNotLeak &amp;#39;testOrTimeoutWithCompleteExceptionallyDoesNotLeak()&amp;#39;&lt;br/&gt;
STARTED    CompletableFutureOrTimeoutExceptionallyTest::testCompleteOnTimeoutWithCompleteExceptionallyDoesNotLeak &amp;#39;testCompleteOnTimeoutWithCompleteExceptionallyDoesNotLeak()&amp;#39;&lt;br/&gt;
----------rerun:(41/6028)*----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
result: Error. Program `c:\ade\mesos\work_dir\jib-master\install\jdk-21+15-1208\windows-x64-debug.jdk\jdk-21\fastdebug\bin\java&amp;#39; timed out (timeout set to 480000ms, elapsed time including timeout handling was 734543ms).&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a log file snippet from the macosx-x64 timeout:&lt;br/&gt;
&lt;br/&gt;
#section:junit&lt;br/&gt;
----------messages:(8/365)----------&lt;br/&gt;
command: junit -Xmx128m CompletableFutureOrTimeoutExceptionallyTest&lt;br/&gt;
reason: User specified action: run junit/othervm -Xmx128m CompletableFutureOrTimeoutExceptionallyTest &lt;br/&gt;
started: Tue Mar 21 00:08:28 GMT 2023&lt;br/&gt;
Mode: othervm [/othervm specified]&lt;br/&gt;
Timeout information:&lt;br/&gt;
--- Timeout information end.&lt;br/&gt;
finished: Tue Mar 21 00:30:35 GMT 2023&lt;br/&gt;
elapsed time (seconds): 1327.12&lt;br/&gt;
----------configuration:(0/0)----------&lt;br/&gt;
----------System.out:(1/26)----------&lt;br/&gt;
Timeout refired 480 times&lt;br/&gt;
----------System.err:(3/496)----------&lt;br/&gt;
STARTED    CompletableFutureOrTimeoutExceptionallyTest::testOrTimeoutWithCompleteExceptionallyDoesNotLeak &amp;#39;testOrTimeoutWithCompleteExceptionallyDoesNotLeak()&amp;#39;&lt;br/&gt;
SUCCESSFUL CompletableFutureOrTimeoutExceptionallyTest::testOrTimeoutWithCompleteExceptionallyDoesNotLeak &amp;#39;testOrTimeoutWithCompleteExceptionallyDoesNotLeak()&amp;#39;&lt;br/&gt;
STARTED    CompletableFutureOrTimeoutExceptionallyTest::testCompleteOnTimeoutWithCompleteExceptionallyDoesNotLeak &amp;#39;testCompleteOnTimeoutWithCompleteExceptionallyDoesNotLeak()&amp;#39;&lt;br/&gt;
----------rerun:(36/6738)*----------&lt;br/&gt;
&lt;br/&gt;
&amp;lt;snip&amp;gt;&lt;br/&gt;
&lt;br/&gt;
result: Error. Program `/System/Volumes/Data/mesos/work_dir/jib-master/install/jdk-21+15-1208/macosx-x64-debug.jdk/jdk-21/fastdebug/bin/java&amp;#39; timed out (timeout set to 480000ms, elapsed time including timeout handling was 1327110ms).&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5096697">JDK-8304557</key>
            <summary>java/util/concurrent/CompletableFuture/CompletableFutureOrTimeoutExceptionallyTest.java times out</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vklang">Viktor Klang</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>tier5</label>
                            <label>tier8</label>
                            <label>ursqe-triaged</label>
                    </labels>
                <created>Mon, 20 Mar 2023 19:24:38 -0700</created>
                <updated>Mon, 11 Nov 2024 13:14:44 -0800</updated>
                            <resolved>Thu, 23 Mar 2023 13:46:32 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14718078" author="roboduke" created="Wed, 30 Oct 2024 11:38:06 -0700"  >[jdk17u-fix-request] Approval Request from Ben Taylor&lt;br/&gt;
Clean backport of this test fix alongside &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303742&quot; title=&quot;CompletableFuture.orTimeout leaks if the future completes exceptionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303742&quot;&gt;&lt;strike&gt;JDK-8303742&lt;/strike&gt;&lt;/a&gt; to prevent the included test from timing out</comment>
                            <comment id="14718062" author="roboduke" created="Wed, 30 Oct 2024 10:12:50 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/3000&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/3000&lt;/a&gt;&lt;br/&gt;
Date: 2024-10-23 22:14:19 +0000</comment>
                            <comment id="14569209" author="dcubed" created="Thu, 23 Mar 2023 15:20:58 -0700"  >The fix for this bug is integrated in jdk-21+16-1254.</comment>
                            <comment id="14569184" author="dukebot" created="Thu, 23 Mar 2023 13:46:31 -0700"  >Changeset: 6f67abd3&lt;br/&gt;
Author:    Viktor Klang &amp;lt;&lt;a href=&apos;mailto:viktor.klang@oracle.com&apos;&gt;viktor.klang@oracle.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Alan Bateman &amp;lt;&lt;a href=&apos;mailto:alanb@openjdk.org&apos;&gt;alanb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-23 20:43:45 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/6f67abd352ce9605dd93188995d42a47ee07b25e&quot;&gt;https://git.openjdk.org/jdk/commit/6f67abd352ce9605dd93188995d42a47ee07b25e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14569097" author="JIRAUSER20508" created="Thu, 23 Mar 2023 07:29:48 -0700"  >We&amp;#39;ve devised another test to verify that the fix doesn&amp;#39;t regress here: &lt;a href=&quot;https://github.com/openjdk/jdk/pull/13116/files&quot;&gt;https://github.com/openjdk/jdk/pull/13116/files&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Hoping to merge that shortly.&lt;br/&gt;
&lt;br/&gt;
Thanks for your patience,&lt;br/&gt;
&#8730;</comment>
                            <comment id="14569094" author="mbaesken" created="Thu, 23 Mar 2023 07:08:37 -0700"  >Hello , in the last  2 days we saw at least 5 timeouts in the new test  &amp;#39;java/util/concurrent/CompletableFuture/CompletableFutureOrTimeoutExceptionallyTest.java&amp;#39; in our automated tests.&lt;br/&gt;
Those automated tests use fastdebug binaries so they might be slower than product.   Timeouts were seen on multiple platforms (Windows/macOS/Linux).&lt;br/&gt;
</comment>
                            <comment id="14568748" author="roboduke" created="Wed, 22 Mar 2023 04:27:30 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13116&quot;&gt;https://git.openjdk.org/jdk/pull/13116&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-21 10:42:55 +0000</comment>
                            <comment id="14568476" author="JIRAUSER20508" created="Tue, 21 Mar 2023 03:43:32 -0700"  >[~dcubed] The timeouts are likely due to added overhead to run the tests under debug builds. I&amp;#39;ve submitted the following PR which should both reduce the load and increase the timeout to give headroom: &lt;a href=&quot;https://github.com/openjdk/jdk/pull/13116&quot;&gt;https://github.com/openjdk/jdk/pull/13116&lt;/a&gt;</comment>
                            <comment id="14568323" author="dcubed" created="Mon, 20 Mar 2023 19:30:53 -0700"  >These two Tier5 failures both occurred with fastdebug bits. The test also&lt;br/&gt;
runs in Tier1 with &amp;#39;release&amp;#39; bits and, in those runs, the test passed.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5143580">JDK-8343955</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095630">JDK-8303742</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    <customfieldvalue key="17005"><![CDATA[windows]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30tgb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17312"><![CDATA[b16]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="215"><![CDATA[java.util.concurrent]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>