<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:46:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8267140] Support closing the HttpClient by making it auto-closable</title>
                <link>https://bugs.openjdk.org/browse/JDK-8267140</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
The documentation for java.net.http.HttpClient does not explain if / when underlying resources are closed. This is causing confusion (see &lt;a href=&quot;https://stackoverflow.com/q/53919721&quot;&gt;https://stackoverflow.com/q/53919721&lt;/a&gt; ) because users are normally used to closing the client when they are done with their HTTP requests, see for example:&lt;br/&gt;
- Apache HttpClient: &lt;a href=&quot;https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html&quot;&gt;https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html&lt;/a&gt;&lt;br/&gt;
- Ktor: &lt;a href=&quot;https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client/-http-client/close.html&quot;&gt;https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client/-http-client/close.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Therefore it would be good to explain in the HttpClient documentation when resources are closed.&lt;br/&gt;
Alternatively / additionally (depending on how reliable the current implementation is), it might be good to provide a method to close the HttpClient manually (e.g. by implementing Closeable).&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5049552">JDK-8267140</key>
            <summary>Support closing the HttpClient by making it auto-closable</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dfuchs">Daniel Fuchs</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>dcsaw</label>
                            <label>httpclient</label>
                            <label>release-note=yes</label>
                            <label>reproducer-no</label>
                            <label>webbug</label>
                    </labels>
                <created>Thu, 13 May 2021 10:27:32 -0700</created>
                <updated>Wed, 13 Aug 2025 06:25:44 -0700</updated>
                            <resolved>Thu, 6 Apr 2023 03:07:25 -0700</resolved>
                                    <version>16</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                                                            <comments>
                            <comment id="14572216" author="dukebot" created="Thu, 6 Apr 2023 03:07:24 -0700"  >Changeset: 6580c4e6&lt;br/&gt;
Author:    Daniel Fuchs &amp;lt;&lt;a href=&apos;mailto:dfuchs@openjdk.org&apos;&gt;dfuchs@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-06 10:05:20 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/6580c4e6311b6f87cec7c5c5537351bec9b703db&quot;&gt;https://git.openjdk.org/jdk/commit/6580c4e6311b6f87cec7c5c5537351bec9b703db&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14566776" author="roboduke" created="Tue, 14 Mar 2023 07:55:21 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13019&quot;&gt;https://git.openjdk.org/jdk/pull/13019&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-14 14:18:49 +0000</comment>
                            <comment id="14420606" author="dfuchs" created="Fri, 14 May 2021 02:02:13 -0700"  >The HttpClient will terminate and release all its resources when:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;1. all referenced to the HttpClient are released&lt;br/&gt;
&amp;nbsp;&amp;nbsp;2. all operations are finished (all request responses have been received and relayed to calling code)&lt;br/&gt;
&lt;br/&gt;
Adding a close() method may be envisaged but the semantics and behaviour of closing a client when it is still in use and some operations are still in flight must be carefully analyzed, in particular WRT what should happen to the requests that may not have completed yet. Close might be the wrong primitive here: stop/shutdown might be preferable. The implementation of a close/stop/shutdown method that behaves correctly is not trivial.</comment>
                            <comment id="14420590" author="tongwan" created="Thu, 13 May 2021 23:51:09 -0700"  >Moved to JDK to discuss the more clarifications of closing underlying resources are closed of HttpClient.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10400">
                    <name>CSR</name>
                                            <outwardlinks description="csr for">
                                        <issuelink>
            <issuekey id="5096206">JDK-8304165</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10600">
                    <name>Causes</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="5155021">JDK-8353847</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5098222">JDK-8305847</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                                              <subtask id="5097418">JDK-8305196</subtask>
                                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2stvf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17354"><![CDATA[b18]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="193"><![CDATA[java.net]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>