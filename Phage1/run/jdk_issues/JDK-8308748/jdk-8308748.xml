<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:03:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8308748] JNU_GetStringPlatformChars may write to String&apos;s internal memory array</title>
                <link>https://bugs.openjdk.org/browse/JDK-8308748</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>When calling `JNU_GetStringPlatformChars` with UTF8 strings, the `getStringUTF8` function retrieves the internal String value array and copies its contents using `GetPrimitiveArrayCritical` and `ReleasePrimitiveArrayCritical`.&lt;br/&gt;
&lt;br/&gt;
Upon releasing the memory, the JNI_ABORT flag is not specified. If `GetPrimitiveArrayCritical` returns a copy of the array, then the call to `ReleasePrimitiveArrayCritical` copies the contents back.&lt;br/&gt;
&lt;br/&gt;
Strings in Java are considered immutable, and I think their memory should never be written to (even if the contents aren&amp;#39;t changed). In GraalVM they may be stored in a read-only memory section making this behaviour cause a segfault. Using `JNI_ABORT` also improves the performance of the application when a copy is returned.&lt;br/&gt;
&lt;br/&gt;
I will submit a patch to add the JNI_ABORT flag to both calls of `ReleasePrimitiveArrayCritical`.</description>
                <environment></environment>
        <key id="5101680">JDK-8308748</key>
            <summary>JNU_GetStringPlatformChars may write to String&apos;s internal memory array</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhorn">Rudi Horn</assignee>
                                    <reporter username="rhorn">Rudi Horn</reporter>
                        <labels>
                            <label>amazon-interest</label>
                    </labels>
                <created>Wed, 24 May 2023 00:11:58 -0700</created>
                <updated>Mon, 28 Aug 2023 10:37:10 -0700</updated>
                            <resolved>Tue, 6 Jun 2023 05:59:11 -0700</resolved>
                                    <version>17</version>
                    <version>20</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14606992" author="msheppar" created="Mon, 28 Aug 2023 10:36:05 -0700"  >This one is tricky, as there are no explicit regression tests for this change. So, it can&amp;#39;t be explicitly verified, other than the change set is integrated and there are no observed associated failures in associated component areas. &lt;br/&gt;
The change is a significant change of esoteric low level semantics for getStringUTF8,  and the change is contrary to previous perceived wisdom. So, how is it determined that there are no side effects in a JVM -- kitchen sink perhaps.&lt;br/&gt;
Of course big wigs have reviewed and accepted the changes </comment>
                            <comment id="14587314" author="dukebot" created="Tue, 6 Jun 2023 05:59:10 -0700"  >Changeset: 8f0839bc&lt;br/&gt;
Author:    Rudi Horn &amp;lt;&lt;a href=&apos;mailto:rudi.horn@oracle.com&apos;&gt;rudi.horn@oracle.com&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Alan Bateman &amp;lt;&lt;a href=&apos;mailto:alanb@openjdk.org&apos;&gt;alanb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-06 12:58:24 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8f0839bc55036a8a663a83a02d300c60e71ceb6c&quot;&gt;https://git.openjdk.org/jdk/commit/8f0839bc55036a8a663a83a02d300c60e71ceb6c&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14584940" author="roboduke" created="Fri, 26 May 2023 08:40:50 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14117&quot;&gt;https://git.openjdk.org/jdk/pull/14117&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-24 09:24:46 +0000</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31nbf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17001"><![CDATA[Not verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>