<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 10:20:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8316179] Use consistent naming for lightweight locking in MacroAssembler</title>
                <link>https://bugs.openjdk.org/browse/JDK-8316179</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Different platforms uses different names for the MacroAssembler functions that implement the lightweight fast locking/unlocking code. I propose that we use consistent naming for all platforms.&lt;br/&gt;
&lt;br/&gt;
These are the current names for the lightweight-locking functions:&lt;br/&gt;
AArch64, ppc, riscv: fast_lock&lt;br/&gt;
x86: fast_lock_impl&lt;br/&gt;
arm: fast_lock_2&lt;br/&gt;
&lt;br/&gt;
Note that x86 and arm uses different names and the likely reason for that is that the C2_MacroAssembler subclass also implements a fast_lock function in that class, on those platforms.&lt;br/&gt;
&lt;br/&gt;
The fast_lock function in C2_MacroAssembler deals with the fast locking for all LockingMode implementations (monitor, legacy, and lightweight), while the MacroAssembler::fast_lock* functions only implement the lightweight locking implementation.&lt;br/&gt;
&lt;br/&gt;
I therefore propose that we use the name MacroAssembler::lightweight_lock on all platforms.&lt;br/&gt;
&lt;br/&gt;
Note that this is a small cleanup to update the names. The reason why I&amp;#39;m looking into this is that I want to move the C2 fast locking code out of the AArch64 (and other platforms) .ad file into C++ files to make it consistent with the x64 code structure (and to get better IDE support when the code is in pure C++ files). That part will be handled as a separate PR.</description>
                <environment></environment>
        <key id="5110201">JDK-8316179</key>
            <summary>Use consistent naming for lightweight locking in MacroAssembler</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefank">Stefan Karlsson</assignee>
                                    <reporter username="stefank">Stefan Karlsson</reporter>
                        <labels>
                            <label>LM_LIGHTWEIGHT</label>
                            <label>amazon-interest</label>
                            <label>cleanup</label>
                            <label>jdk21u-fix-SQE-ok-next</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>lilliput</label>
                    </labels>
                <created>Wed, 13 Sep 2023 03:59:33 -0700</created>
                <updated>Fri, 5 Apr 2024 02:53:20 -0700</updated>
                            <resolved>Thu, 14 Sep 2023 00:03:36 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                    <version>repo-lilliput-17</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14662870" author="roboduke" created="Thu, 4 Apr 2024 05:54:38 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/lilliput-jdk17u/pull/69&quot;&gt;https://git.openjdk.org/lilliput-jdk17u/pull/69&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-04 12:48:34 +0000</comment>
                            <comment id="14629028" author="roboduke" created="Mon, 27 Nov 2023 04:07:45 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/lilliput-jdk17u/pull/66&quot;&gt;https://git.openjdk.org/lilliput-jdk17u/pull/66&lt;/a&gt;&lt;br/&gt;
Date: 2023-11-24 19:47:06 +0000</comment>
                            <comment id="14615185" author="roboduke" created="Mon, 2 Oct 2023 04:45:04 -0700"  >[jdk21u-fix-request] Approval Request from Aleksey Shipil&amp;#xEB;v&lt;br/&gt;
Provides the ground for clean backports in this area. Applies cleanly. Renames, have a minor risk of breaking the builds, easily detectable, and no reports so far.</comment>
                            <comment id="14615180" author="roboduke" created="Mon, 2 Oct 2023 04:20:24 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/220&quot;&gt;https://git.openjdk.org/jdk21u/pull/220&lt;/a&gt;&lt;br/&gt;
Date: 2023-10-02 11:09:53 +0000</comment>
                            <comment id="14611068" author="dukebot" created="Thu, 14 Sep 2023 00:03:34 -0700"  >Changeset: 639ba13c&lt;br/&gt;
Author:    Stefan Karlsson &amp;lt;&lt;a href=&apos;mailto:stefank@openjdk.org&apos;&gt;stefank@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-09-14 07:02:29 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/639ba13c4b0ada1c2ae0a46e99ed707c219b3e53&quot;&gt;https://git.openjdk.org/jdk/commit/639ba13c4b0ada1c2ae0a46e99ed707c219b3e53&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14610850" author="roboduke" created="Wed, 13 Sep 2023 04:19:09 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15709&quot;&gt;https://git.openjdk.org/jdk/pull/15709&lt;/a&gt;&lt;br/&gt;
Date: 2023-09-13 11:00:13 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5112028">JDK-8317785</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5111072">JDK-8316935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i333rn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17312"><![CDATA[b16]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>