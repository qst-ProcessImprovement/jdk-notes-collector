<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:48:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8313701] GHA: RISC-V should use the official repository for bootstrap</title>
                <link>https://bugs.openjdk.org/browse/JDK-8313701</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>RISC-V GHA fail debootstrap like:&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
I: Configuring libc-bin...&lt;br/&gt;
I: Unpacking the base system...&lt;br/&gt;
W: Failure trying to run: chroot &amp;quot;/home/runner/work/jdk/jdk/sysroot&amp;quot; dpkg --force-overwrite --force-confold --skip-same-version --install /var/cache/apt/archives/systemd-dev_254~rc3-1_all.deb /var/cache/apt/archives/dmsetup_2%3a1.02.185-2_riscv64.deb /var/cache/apt/archives/libapparmor1_3.0.8-3_riscv64.deb /var/cache/apt/archives/libargon2-1_0~20190702+dfsg-3_riscv64.deb /var/cache/apt/archives/libatomic1_13.1.0-9_riscv64.deb /var/cache/apt/archives/libcryptsetup12_2%3a2.6.1-4_riscv64.deb /var/cache/apt/archives/libdevmapper1.02.1_2%3a1.02.185-2_riscv64.deb /var/cache/apt/archives/libfdisk1_2.38.1-6_riscv64.deb /var/cache/apt/archives/libip4tc2_1.8.9-2_riscv64.deb /var/cache/apt/archives/libjson-c5_0.16-2_riscv64.deb /var/cache/apt/archives/libkmod2_30+20230519-1_riscv64.deb /var/cache/apt/archives/libseccomp2_2.5.4-1+b3_riscv64.deb /var/cache/apt/archives/libsystemd-shared_254~rc3-3_riscv64.deb /var/cache/apt/archives/systemd_254~rc3-3_riscv64.deb&lt;br/&gt;
W: See /home/runner/work/jdk/jdk/sysroot/debootstrap/debootstrap.log for details (possibly the package systemd is at fault)&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
I can reproduce it locally, and it fails with:&lt;br/&gt;
&lt;br/&gt;
```&lt;br/&gt;
dpkg: dependency problems prevent configuration of systemd:&lt;br/&gt;
&amp;nbsp;systemd depends on systemd-dev (&amp;gt;= 254~rc3-3); however:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Version of systemd-dev on system is 254~rc3-1.&lt;br/&gt;
&lt;br/&gt;
dpkg: error processing package systemd (--install):&lt;br/&gt;
&amp;nbsp;dependency problems - leaving unconfigured&lt;br/&gt;
&lt;br/&gt;
```</description>
                <environment></environment>
        <key id="5107330">JDK-8313701</key>
            <summary>GHA: RISC-V should use the official repository for bootstrap</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shade">Aleksey Shipilev</assignee>
                                    <reporter username="shade">Aleksey Shipilev</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-SQE-ok</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                    </labels>
                <created>Thu, 3 Aug 2023 08:48:59 -0700</created>
                <updated>Thu, 22 Feb 2024 17:54:37 -0800</updated>
                            <resolved>Mon, 7 Aug 2023 03:49:28 -0700</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14651429" author="roboduke" created="Wed, 21 Feb 2024 18:14:10 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/riscv-port-jdk11u/pull/6&quot;&gt;https://git.openjdk.org/riscv-port-jdk11u/pull/6&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-21 13:27:14 +0000</comment>
                            <comment id="14606399" author="shade" created="Thu, 24 Aug 2023 06:33:18 -0700"  >Fix Request (17u, 21u)&lt;br/&gt;
&lt;br/&gt;
Improves GHA reliability by switching from rotting debian-ports to official repo. 21u patch is clean. 17u patch is semi-clean, and acked by Paul. In 17u, RISC-V build would still not be clean until we get &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8314730&quot; title=&quot;GHA: Drop libfreetype6-dev transitional package in favor of libfreetype-dev&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8314730&quot;&gt;&lt;strike&gt;JDK-8314730&lt;/strike&gt;&lt;/a&gt; too.</comment>
                            <comment id="14605337" author="roboduke" created="Mon, 21 Aug 2023 07:34:52 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1680&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1680&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-21 14:28:25 +0000</comment>
                            <comment id="14605334" author="roboduke" created="Mon, 21 Aug 2023 07:28:43 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u/pull/78&quot;&gt;https://git.openjdk.org/jdk21u/pull/78&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-21 14:23:40 +0000</comment>
                            <comment id="14603715" author="shade" created="Mon, 14 Aug 2023 06:41:15 -0700"  >Yes, we should backport it to both 21u and 17u. &amp;quot;minbase&amp;quot; from &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8313707&quot; title=&quot;GHA: Bootstrap sysroots with --variant=minbase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8313707&quot;&gt;&lt;strike&gt;JDK-8313707&lt;/strike&gt;&lt;/a&gt; seem to guard us well from RISC-V build failures currently.&lt;br/&gt;
I wanted to see if official repository is stable enough to rely on, and while it seems it is, I&amp;#39;d wait a bit more. Feel free to backport this (maybe later).</comment>
                            <comment id="14603709" author="fyang" created="Mon, 14 Aug 2023 06:29:13 -0700"  >[~shade] Hi, should we backport this to jdk17u-dev repo? Please let me know if this is on your list. Thanks.</comment>
                            <comment id="14602228" author="dukebot" created="Mon, 7 Aug 2023 03:49:26 -0700"  >Changeset: 538f9557&lt;br/&gt;
Author:    Aleksey Shipilev &amp;lt;&lt;a href=&apos;mailto:shade@openjdk.org&apos;&gt;shade@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-08-07 10:48:11 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/538f9557b87f750264231f04bfbc91d15f8af8c0&quot;&gt;https://git.openjdk.org/jdk/commit/538f9557b87f750264231f04bfbc91d15f8af8c0&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14601870" author="roboduke" created="Fri, 4 Aug 2023 02:23:39 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/15149&quot;&gt;https://git.openjdk.org/jdk/pull/15149&lt;/a&gt;&lt;br/&gt;
Date: 2023-08-04 09:18:11 +0000</comment>
                            <comment id="14601711" author="shade" created="Thu, 3 Aug 2023 09:15:24 -0700"  >Leaving this issue for eventual switch to official repo.&lt;br/&gt;
Trying &amp;quot;--variant=minbase&amp;quot; for all sysroots in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8313707&quot; title=&quot;GHA: Bootstrap sysroots with --variant=minbase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8313707&quot;&gt;&lt;strike&gt;JDK-8313707&lt;/strike&gt;&lt;/a&gt;.</comment>
                            <comment id="14601709" author="shade" created="Thu, 3 Aug 2023 09:10:50 -0700"  >Bootstrap from the official repo does not work with current configs, not all dependencies are yet there. But it bootstraps fine with --variant=minbase.</comment>
                            <comment id="14601708" author="shade" created="Thu, 3 Aug 2023 09:07:34 -0700"  >RISC-V is now an official Debian architecture:&lt;br/&gt;
&lt;a href=&quot;https://lists.debian.org/debian-riscv/2023/07/msg00053.html&quot;&gt;https://lists.debian.org/debian-riscv/2023/07/msg00053.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
So we should expect to switch to main repository from debian-ports.&lt;br/&gt;
There is an upstream report about a similar failure, and as expected, debian-ports just slowly rot:&lt;br/&gt;
&lt;a href=&quot;https://lists.debian.org/debian-riscv/2023/08/msg00007.html&quot;&gt;https://lists.debian.org/debian-riscv/2023/08/msg00007.html&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
Let&amp;#39;s see if we can bootstrap from the official repo now.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5108836">JDK-8314987</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5108896">JDK-8315045</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Blocks</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="5108465">JDK-8314656</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="5107336">JDK-8313707</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5107287">JDK-8313663</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5107336">JDK-8313707</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5071246">JDK-8283929</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32m1v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17338"><![CDATA[b10]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="199"><![CDATA[build]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>