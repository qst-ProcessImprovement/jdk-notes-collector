<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:02:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8290499] new File(parent, &quot;/&quot;) breaks normalization &#8211; creates File with slash at the end</title>
                <link>https://bugs.openjdk.org/browse/JDK-8290499</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
&lt;br/&gt;
new File(parent, &amp;quot;/&amp;quot;) breaks normalization &#8211; creates File with slash at the end&lt;br/&gt;
and subsequently it may lead to File with doubled slash in path&lt;br/&gt;
&lt;br/&gt;
new File(parent, &amp;quot;/&amp;quot;) will produce the File with slash as an trailing char of the path&lt;br/&gt;
If in turn we will try to create yet another child from that File e.g. new File(new File(parent, &amp;quot;/&amp;quot;), &amp;quot;some-file&amp;quot;) - it will contain double slash in path. Please see unit-test at Source code section.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :&lt;br/&gt;
See Source code section.&lt;br/&gt;
&lt;br/&gt;
EXPECTED VERSUS ACTUAL BEHAVIOR :&lt;br/&gt;
EXPECTED -&lt;br/&gt;
File path should never contain double slashes, because it always stores normalized path.&lt;br/&gt;
ACTUAL -&lt;br/&gt;
Double slash in path.&lt;br/&gt;
&lt;br/&gt;
---------- BEGIN SOURCE ----------&lt;br/&gt;
public class FileTest {&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;@Test&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public void doubleSlash() {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;File parent = new File(&amp;quot;//some-dir//&amp;quot;);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Assert.assertEquals(&amp;quot;/some-dir&amp;quot;, parent.getAbsolutePath()); // passed&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Assert.assertEquals(&amp;quot;/some-dir/some-file&amp;quot;, new File(parent, &amp;quot;//some-file//&amp;quot;).getAbsolutePath()); // passed&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Assert.assertEquals(&amp;quot;/some-dir/some-file&amp;quot;, new File(parent, &amp;quot;some-file&amp;quot;).getAbsolutePath()); // passed&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// This assert fails, actual value contains doubled slash: /some-dir//some-file&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Assert.assertEquals(&amp;quot;/some-dir/some-file&amp;quot;, new File(new File(parent, &amp;quot;/&amp;quot;), &amp;quot;some-file&amp;quot;).getAbsolutePath());&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
---------- END SOURCE ----------&lt;br/&gt;
&lt;br/&gt;
FREQUENCY : always&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5079424">JDK-8290499</key>
            <summary>new File(parent, &quot;/&quot;) breaks normalization &#8211; creates File with slash at the end</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bpb">Brian Burkhalter</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>dcsaw</label>
                            <label>reproducer-yes</label>
                            <label>webbug</label>
                    </labels>
                <created>Mon, 18 Jul 2022 16:55:11 -0700</created>
                <updated>Tue, 23 Apr 2024 22:56:29 -0700</updated>
                            <resolved>Tue, 30 May 2023 09:18:23 -0700</resolved>
                                    <version>8</version>
                    <version>11</version>
                    <version>15</version>
                    <version>17</version>
                    <version>18</version>
                    <version>19</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14585614" author="dukebot" created="Tue, 30 May 2023 09:18:22 -0700"  >Changeset: 21af8bae&lt;br/&gt;
Author:    Brian Burkhalter &amp;lt;&lt;a href=&apos;mailto:bpb@openjdk.org&apos;&gt;bpb@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-05-30 16:16:45 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/21af8bae38dd845d5cbeb2b2770e537b5b9bad22&quot;&gt;https://git.openjdk.org/jdk/commit/21af8bae38dd845d5cbeb2b2770e537b5b9bad22&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14583945" author="roboduke" created="Tue, 23 May 2023 15:55:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14109&quot;&gt;https://git.openjdk.org/jdk/pull/14109&lt;/a&gt;&lt;br/&gt;
Date: 2023-05-23 22:49:57 +0000</comment>
                            <comment id="14582737" author="bpb" created="Thu, 18 May 2023 15:39:56 -0700"  >While having a trailing &amp;quot;/&amp;quot; is not contrary to the specification, it is inconsistent with java.nio.file.Path:&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; var f = new File(&amp;quot;/foo&amp;quot;, &amp;quot;/&amp;quot;)&lt;br/&gt;
f ==&amp;gt; /foo/&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; var p = f.toPath()&lt;br/&gt;
p ==&amp;gt; /foo&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; java.nio.file.Path.of(&amp;quot;/foo&amp;quot;, &amp;quot;/&amp;quot;)&lt;br/&gt;
$3 ==&amp;gt; /foo</comment>
                            <comment id="14511186" author="michaelm" created="Wed, 20 Jul 2022 01:05:08 -0700"  >Not clear if this is a bug. This constructor doesn&amp;#39;t define how an absolute child pathname is converted to a relative path (it is system dependent)</comment>
                            <comment id="14510673" author="tongwan" created="Mon, 18 Jul 2022 22:59:02 -0700"  >The observations on Ubnutu:&lt;br/&gt;
JDK 8: Failed, the last test failed.&lt;br/&gt;
JDK 11: Failed.&lt;br/&gt;
JDK 15: Failed.&lt;br/&gt;
JDK 17: Failed.&lt;br/&gt;
JDK 18: Failed.&lt;br/&gt;
JDK 19ea+11: Failed.&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="4349289">JDK-4730835</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="100022" name="FileTest.java" size="996" author="tongwan" created="Mon, 18 Jul 2022 22:55:43 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xw23:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17411"><![CDATA[b25]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="244"><![CDATA[java.io]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>