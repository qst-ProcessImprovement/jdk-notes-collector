<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:13:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305356] Fix ignored bad CompileCommands in tests</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305356</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Malformed CompileCommands are silently ignored in JTreg tests. This means we do not test what we think we test. We may be missing bugs this way.&lt;br/&gt;
&lt;br/&gt;
The intent of this RFE is to go through all tests and fix malformed CompileCommands. To do that we could change the warning message of bad CompileCommands into an assert and run all tests with it. An assert will also prevent future CompileCommand mistakes.&lt;br/&gt;
&lt;br/&gt;
An example of a wrong CompileCommand usage:&lt;br/&gt;
&lt;br/&gt;
open/test/hotspot/jtreg/compiler/intrinsics/bigInteger/TestShift.java&lt;br/&gt;
&lt;br/&gt;
When one runs it, you get:&lt;br/&gt;
&lt;br/&gt;
Error: Option &amp;#39;DisableIntrinsic&amp;#39; with type &amp;#39;ccstrlist&amp;#39; doesn&amp;#39;t match supplied type &amp;#39;ccstr&amp;#39;&lt;br/&gt;
Line: &amp;#39;option,compiler.intrinsics.bigInteger.TestShift::base_left_shift,ccstr,DisableIntrinsic,_bigIntegerLeftShiftWorker&amp;#39;&lt;br/&gt;
&lt;br/&gt;
Usage: &amp;#39;-XX:CompileCommand=&amp;lt;option&amp;gt;,&amp;lt;method pattern&amp;gt;&amp;#39; - to set boolean option to true&lt;br/&gt;
Usage: &amp;#39;-XX:CompileCommand=&amp;lt;option&amp;gt;,&amp;lt;method pattern&amp;gt;,&amp;lt;value&amp;gt;&amp;#39;&lt;br/&gt;
Use:   &amp;#39;-XX:CompileCommand=help&amp;#39; for more information and to list all option.&lt;br/&gt;
&lt;br/&gt;
CompileCommand: An error occurred during parsing&lt;br/&gt;
Error: Option &amp;#39;DisableIntrinsic&amp;#39; with type &amp;#39;ccstrlist&amp;#39; doesn&amp;#39;t match supplied type &amp;#39;ccstr&amp;#39;&lt;br/&gt;
Line: &amp;#39;option,compiler.intrinsics.bigInteger.TestShift::base_right_shift,ccstr,DisableIntrinsic,_bigIntegerRightShiftWorker&amp;#39;&lt;br/&gt;
&lt;br/&gt;
Usage: &amp;#39;-XX:CompileCommand=&amp;lt;option&amp;gt;,&amp;lt;method pattern&amp;gt;&amp;#39; - to set boolean option to true&lt;br/&gt;
Usage: &amp;#39;-XX:CompileCommand=&amp;lt;option&amp;gt;,&amp;lt;method pattern&amp;gt;,&amp;lt;value&amp;gt;&amp;#39;&lt;br/&gt;
Use:   &amp;#39;-XX:CompileCommand=help&amp;#39; for more information and to list all option.</description>
                <environment></environment>
        <key id="5097596">JDK-8305356</key>
            <summary>Fix ignored bad CompileCommands in tests</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tholenstein">Tobias Holenstein</assignee>
                                    <reporter username="epeter">Emanuel Peter</reporter>
                        <labels>
                            <label>c2</label>
                            <label>compilercontrol</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>oracle-interest</label>
                            <label>oracle-triage-21</label>
                            <label>starter</label>
                    </labels>
                <created>Fri, 31 Mar 2023 02:55:58 -0700</created>
                <updated>Wed, 9 Oct 2024 22:47:29 -0700</updated>
                            <resolved>Wed, 5 Apr 2023 02:38:06 -0700</resolved>
                                    <version>17</version>
                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14635676" author="roboduke" created="Wed, 20 Dec 2023 00:14:50 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2065&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2065&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-20 08:09:46 +0000</comment>
                            <comment id="14635675" author="goetz" created="Wed, 20 Dec 2023 00:09:19 -0800"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.11-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Tests pass. SAP nightly testing passed.</comment>
                            <comment id="14571933" author="dukebot" created="Wed, 5 Apr 2023 02:38:05 -0700"  >Changeset: 0e0c022b&lt;br/&gt;
Author:    Tobias Holenstein &amp;lt;&lt;a href=&apos;mailto:tholenstein@openjdk.org&apos;&gt;tholenstein@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-05 09:35:45 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/0e0c022b1f870806963789afdef9298851719498&quot;&gt;https://git.openjdk.org/jdk/commit/0e0c022b1f870806963789afdef9298851719498&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14571232" author="roboduke" created="Mon, 3 Apr 2023 05:43:31 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13297&quot;&gt;https://git.openjdk.org/jdk/pull/13297&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-03 12:31:41 +0000</comment>
                            <comment id="14571209" author="JIRAUSER19707" created="Mon, 3 Apr 2023 04:22:24 -0700"  >The following tests fail with the assert because of a wrong CompileCommand:&lt;br/&gt;
* `test/hotspot/jtreg/compiler/integerArithmetic/TestNegMultiply.java` &lt;br/&gt;
* `test/hotspot/jtreg/compiler/integerArithmetic/TestNegAnd.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/loopopts/TestPeelingRemoveDominatedTest.java` &lt;br/&gt;
* `test/hotspot/jtreg/compiler/intrinsics/bigInteger/TestMulAdd.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/intrinsics/bigInteger/TestMultiplyToLen.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/intrinsics/bigInteger/TestShift.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/intrinsics/bigInteger/TestSquareToLen.java`&lt;br/&gt;
&lt;br/&gt;
The following tests fail with the assert but it is expected:&lt;br/&gt;
* `test/hotspot/jtreg/compiler/compilercontrol/mixed/RandomCommandsTest.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/compilercontrol/commands/ControlIntrinsicTest.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/compilercontrol/commands/OptionTest.java  `&lt;br/&gt;
* `test/hotspot/jtreg/compiler/oracle/CheckCompileCommandOption.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/oracle/PrintIdealPhaseTest.java`&lt;br/&gt;
* `test/hotspot/jtreg/compiler/oracle/TestInvalidCompileCommand.java`&lt;br/&gt;
* `test/hotspot/jtreg/runtime/CommandLine/CompilerConfigFileWarning.java`&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14570933" author="chagedorn" created="Fri, 31 Mar 2023 03:22:15 -0700"  >ILW = Wrong test executions due to malformed CompileCommands (does not cause a test failure but we might miss real bugs), at least one case, no workaround = MLH = P4</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5116625">JDK-8321731</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5117741">JDK-8322684</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5069836">JDK-8282797</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30z03:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17417"><![CDATA[b17]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>