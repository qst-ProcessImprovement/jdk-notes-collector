<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 17:42:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8304164] jdk/classfile/CorpusTest.java still fails after JDK-8303910</title>
                <link>https://bugs.openjdk.org/browse/JDK-8304164</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test still fails in the JDK21 CI:&lt;br/&gt;
&lt;br/&gt;
jdk/classfile/CorpusTest.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
STARTED    CorpusTest::testReadAndTransform &amp;#39;[538] modules/java.base/java/lang/foreign/ValueLayout$OfShort.class&amp;#39;&lt;br/&gt;
SUCCESSFUL CorpusTest::testReadAndTransform &amp;#39;[468] modules/java.base/java/lang/VirtualThread.class&amp;#39;&lt;br/&gt;
STARTED    CorpusTest::testReadAndTransform &amp;#39;[539] modules/java.base/java/lang/foreign/ValueLayout.class&amp;#39;&lt;br/&gt;
SUCCESSFUL CorpusTest::testReadAndTransform &amp;#39;[518] modules/java.base/java/lang/foreign/MemoryLayout.class&amp;#39;&lt;br/&gt;
STARTED    CorpusTest::testReadAndTransform &amp;#39;[540] modules/java.base/java/lang/invoke/AbstractConstantGroup$AsIterator.class&amp;#39;&lt;br/&gt;
SUCCESSFUL CorpusTest::testReadAndTransform &amp;#39;[534] modules/java.base/java/lang/foreign/ValueLayout$OfDouble.class&amp;#39;&lt;br/&gt;
java.lang.AssertionError: [java.lang.VerifyError: Bad return type at java/lang/foreign/SegmentScope.auto()Ljava/lang/foreign/SegmentScope; @6 (java/lang/foreign/SegmentScope is not assignable from jdk/internal/foreign/MemorySessionImpl)]&lt;br/&gt;
	at helpers.TestUtil.assertEmpty(TestUtil.java:38)&lt;br/&gt;
	at CorpusTest.testReadAndTransform(CorpusTest.java:211)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)&lt;br/&gt;
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:92)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)&lt;br/&gt;
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)&lt;br/&gt;
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)&lt;br/&gt;
	at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)&lt;br/&gt;
	at java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)&lt;br/&gt;
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)&lt;br/&gt;
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)&lt;br/&gt;
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)&lt;br/&gt;
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)&lt;br/&gt;
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)&lt;br/&gt;
FAILED     CorpusTest::testReadAndTransform &amp;#39;[522] modules/java.base/java/lang/foreign/SegmentScope.class&amp;#39;&lt;br/&gt;
&lt;br/&gt;
The fix for the following bug:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303910&quot; title=&quot;jdk/classfile/CorpusTest.java failed 1 of 6754 tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303910&quot;&gt;&lt;strike&gt;JDK-8303910&lt;/strike&gt;&lt;/a&gt; jdk/classfile/CorpusTest.java failed 1 of 6754 tests&lt;br/&gt;
&lt;br/&gt;
is integrated in jdk-21+14-1129.&lt;br/&gt;
&lt;br/&gt;
This failure occurred in jdk-21+14-1137-tier1.</description>
                <environment></environment>
        <key id="5096205">JDK-8304164</key>
            <summary>jdk/classfile/CorpusTest.java still fails after JDK-8303910</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asotona">Adam Sotona</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>tier1</label>
                    </labels>
                <created>Tue, 14 Mar 2023 11:27:18 -0700</created>
                <updated>Tue, 8 Aug 2023 11:56:17 -0700</updated>
                            <resolved>Fri, 17 Mar 2023 04:48:27 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14567726" author="dukebot" created="Fri, 17 Mar 2023 04:48:26 -0700"  >Changeset: b2639e1d&lt;br/&gt;
Author:    Adam Sotona &amp;lt;&lt;a href=&apos;mailto:asotona@openjdk.org&apos;&gt;asotona@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-17 11:47:11 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/b2639e1d6246a7e1aab1d9d15add7979adf40766&quot;&gt;https://git.openjdk.org/jdk/commit/b2639e1d6246a7e1aab1d9d15add7979adf40766&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14567177" author="dcubed" created="Wed, 15 Mar 2023 09:57:41 -0700"  >[~asotona] - Thanks for the analysis. I&amp;#39;m glad that we have such&lt;br/&gt;
stressful tests to shake out bugs.The only reason that I linked this&lt;br/&gt;
bug to &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303910&quot; title=&quot;jdk/classfile/CorpusTest.java failed 1 of 6754 tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303910&quot;&gt;&lt;strike&gt;JDK-8303910&lt;/strike&gt;&lt;/a&gt; is that they occur in the same test file.</comment>
                            <comment id="14567042" author="roboduke" created="Wed, 15 Mar 2023 02:18:46 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13037&quot;&gt;https://git.openjdk.org/jdk/pull/13037&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-15 08:44:34 +0000</comment>
                            <comment id="14567039" author="asotona" created="Wed, 15 Mar 2023 02:01:46 -0700"  >BTW: &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8303910&quot; title=&quot;jdk/classfile/CorpusTest.java failed 1 of 6754 tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8303910&quot;&gt;&lt;strike&gt;JDK-8303910&lt;/strike&gt;&lt;/a&gt; and this bug are unrelated. They commonly manifest by occasional failure of one of several thousands of CorpusTest tests. Individual executions of the tests didn&amp;#39;t revealed these rare race conditions. Thank you for understanding. </comment>
                            <comment id="14567016" author="asotona" created="Wed, 15 Mar 2023 00:38:20 -0700"  >I&amp;#39;ve identified a race condition in ClassHierarchyImpl.CachedClassHierarchyResolver::getClassInfo&lt;br/&gt;
&lt;br/&gt;
Heavy parallel junit tests can rarely skip calculation of the ClassHierarchyInfo due to this race condition bug.&lt;br/&gt;
&lt;br/&gt;
In this specific case it caused SegmentScope not being identified as an interface and verify error on assignability between declared method return type and actual returned type has been emitted by the test.</comment>
                            <comment id="14566844" author="dcubed" created="Tue, 14 Mar 2023 11:28:10 -0700"  >[~asotona] - Please take a look. The CorpusTest.java still fails.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5095880">JDK-8303910</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17017"><![CDATA[os_x]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30qez:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17352"><![CDATA[b15]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="190"><![CDATA[java.lang]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>