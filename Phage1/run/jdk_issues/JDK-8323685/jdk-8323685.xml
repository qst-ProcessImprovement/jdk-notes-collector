<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:58:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8323685] PrintSystemDictionaryAtExit has mutex rank assert</title>
                <link>https://bugs.openjdk.org/browse/JDK-8323685</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The change for &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8317440&quot; title=&quot;Lock rank checking fails when code root set is modified with the Servicelock held after JDK-8315503&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8317440&quot;&gt;&lt;strike&gt;JDK-8317440&lt;/strike&gt;&lt;/a&gt; lowered the rank of the ConcurrentHashtableResize_lock, but now it&amp;#39;s lower than tty.  This makes PrintSystemDictionaryAtExit assert with:&lt;br/&gt;
&lt;br/&gt;
#  Internal Error (/scratch/cphillim/hg/jdk-linkage/open/src/hotspot/share/runtime/mutex.cpp:447), pid=2821830, tid=2821831&lt;br/&gt;
#  assert(false) failed: Attempting to acquire lock tty_lock/tty out of order with lock ConcurrentHashTableResize_lock/service-1 -- possible deadlock&lt;br/&gt;
&lt;br/&gt;
At the time of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8317440&quot; title=&quot;Lock rank checking fails when code root set is modified with the Servicelock held after JDK-8315503&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8317440&quot;&gt;&lt;strike&gt;JDK-8317440&lt;/strike&gt;&lt;/a&gt; we discussed having each CHT have their own resize lock ranking specified on construction.  We should have done that.</description>
                <environment></environment>
        <key id="5118871">JDK-8323685</key>
            <summary>PrintSystemDictionaryAtExit has mutex rank assert</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coleenp">Coleen Phillimore</assignee>
                                    <reporter username="coleenp">Coleen Phillimore</reporter>
                        <labels>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>utils</label>
                    </labels>
                <created>Fri, 12 Jan 2024 12:46:40 -0800</created>
                <updated>Tue, 30 Apr 2024 02:53:18 -0700</updated>
                            <resolved>Fri, 19 Jan 2024 08:55:55 -0800</resolved>
                                    <version>22</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14667390" author="tschatzl" created="Tue, 23 Apr 2024 04:33:41 -0700"  >jdk22u fix request:&lt;br/&gt;
&lt;br/&gt;
Reason: this fixes a rare lock rank checker failure with the code root remembered set lock and the tty locker.&lt;br/&gt;
Risk: low, change applies cleanly, running in mainline for some time now, and the JDK 21 backport also did not give any issue. There is a regression test.</comment>
                            <comment id="14667372" author="roboduke" created="Tue, 23 Apr 2024 04:10:22 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/162&quot;&gt;https://git.openjdk.org/jdk22u/pull/162&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-23 11:04:10 +0000</comment>
                            <comment id="14667360" author="tschatzl" created="Tue, 23 Apr 2024 03:49:35 -0700"  >Okay, will do.</comment>
                            <comment id="14667349" author="coffeys" created="Tue, 23 Apr 2024 03:24:28 -0700"  >[~tschatzl] - can a jdk22u port also be completed ?</comment>
                            <comment id="14664247" author="goetz" created="Tue, 9 Apr 2024 23:18:22 -0700"  >Fix request [21u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 21.0.4-oracle.&lt;br/&gt;
Required follow-up of &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8315503&quot; title=&quot;G1: Code root scan causes long GC pauses due to imbalanced iteration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8315503&quot;&gt;&lt;strike&gt;JDK-8315503&lt;/strike&gt;&lt;/a&gt;/&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8317440&quot; title=&quot;Lock rank checking fails when code root set is modified with the Servicelock held after JDK-8315503&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8317440&quot;&gt;&lt;strike&gt;JDK-8317440&lt;/strike&gt;&lt;/a&gt;.&lt;br/&gt;
Clean backport.&lt;br/&gt;
SAP nightly testing passed.</comment>
                            <comment id="14663726" author="roboduke" created="Mon, 8 Apr 2024 13:41:29 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/477&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/477&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-08 20:36:49 +0000</comment>
                            <comment id="14641933" author="dukebot" created="Fri, 19 Jan 2024 08:55:54 -0800"  >Changeset: 2865afe7&lt;br/&gt;
Author:    Coleen Phillimore &amp;lt;&lt;a href=&apos;mailto:coleenp@openjdk.org&apos;&gt;coleenp@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-01-19 16:54:03 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/2865afe759fd5362abd0947fd4c1f5c8d3519ca3&quot;&gt;https://git.openjdk.org/jdk/commit/2865afe759fd5362abd0947fd4c1f5c8d3519ca3&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14641332" author="roboduke" created="Wed, 17 Jan 2024 15:00:19 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17471&quot;&gt;https://git.openjdk.org/jdk/pull/17471&lt;/a&gt;&lt;br/&gt;
Date: 2024-01-17 22:55:30 +0000</comment>
                            <comment id="14639971" author="coleenp" created="Fri, 12 Jan 2024 12:49:06 -0800"  >[~tschatzl] you wouldn&amp;#39;t still have the alternate CHT mutex ranking patch, would you?  edit: I found it.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5126033">JDK-8329543</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5127370">JDK-8330657</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128332">JDK-8331403</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5111641">JDK-8317440</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34jyj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17335"><![CDATA[b07]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>