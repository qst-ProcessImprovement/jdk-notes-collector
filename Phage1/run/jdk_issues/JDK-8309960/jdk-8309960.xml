<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:24:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8309960] ParallelGC young collections very slow in DelayInducer</title>
                <link>https://bugs.openjdk.org/browse/JDK-8309960</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>In the benchmark DelayInducer from &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8062128&quot; title=&quot;Dramatic difference between UseConcMarkSweepGC and UseG1GC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8062128&quot;&gt;&lt;strike&gt;JDK-8062128&lt;/strike&gt;&lt;/a&gt; Parallel GC young collections are extremely slow compared to G1.&lt;br/&gt;
&lt;br/&gt;
I.e. with -Xmn1g -Xms3g -Xmx3g on both collectors, G1 takes 130-360ms for young collections, Parallel GC young collections take 666-8863(!)ms.&lt;br/&gt;
&lt;br/&gt;
There seems to be a problem with the work queue/task stealing. See the attached logs showing task queue statistics; just compare the steal statistics (prefixed with &amp;quot;st-&amp;quot;) where parallel gc looks extremely bad.</description>
                <environment></environment>
        <key id="5103084">JDK-8309960</key>
            <summary>ParallelGC young collections very slow in DelayInducer</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ayang">Albert Yang</assignee>
                                    <reporter username="tschatzl">Thomas Schatzl</reporter>
                        <labels>
                            <label>gc-parallel</label>
                            <label>gc-pending-review</label>
                            <label>performance</label>
                    </labels>
                <created>Tue, 13 Jun 2023 11:16:49 -0700</created>
                <updated>Mon, 26 Aug 2024 16:48:50 -0700</updated>
                            <resolved>Mon, 19 Jun 2023 04:10:19 -0700</resolved>
                                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14596982" author="enikitin" created="Tue, 18 Jul 2023 11:45:57 -0700"  >Verified manually and in CI. The effect, it should be noted, is intermittent - some runs show very little or negligible difference between fixed and flawed ParallelGC. But many show 2-4x difference. </comment>
                            <comment id="14590227" author="dukebot" created="Mon, 19 Jun 2023 04:10:18 -0700"  >Changeset: 4d81b899&lt;br/&gt;
Author:    Albert Mingkun Yang &amp;lt;&lt;a href=&apos;mailto:ayang@openjdk.org&apos;&gt;ayang@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-19 11:09:04 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk21/commit/4d81b8998ae2e5c02a47264496bb87cc0c18808c&quot;&gt;https://git.openjdk.org/jdk21/commit/4d81b8998ae2e5c02a47264496bb87cc0c18808c&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14589605" author="roboduke" created="Thu, 15 Jun 2023 05:20:58 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21/pull/22&quot;&gt;https://git.openjdk.org/jdk21/pull/22&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-15 12:12:23 +0000</comment>
                            <comment id="14589302" author="roboduke" created="Wed, 14 Jun 2023 07:15:10 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14469&quot;&gt;https://git.openjdk.org/jdk/pull/14469&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-14 14:09:07 +0000</comment>
                            <comment id="14589062" author="tschatzl" created="Tue, 13 Jun 2023 11:51:19 -0700"  >Fwiw, the initial change in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8300447&quot; title=&quot;Parallel: Refactor PSPromotionManager::drain_stacks_depth&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8300447&quot;&gt;&lt;strike&gt;JDK-8300447&lt;/strike&gt;&lt;/a&gt; is good.</comment>
                            <comment id="14589059" author="tschatzl" created="Tue, 13 Jun 2023 11:44:55 -0700"  >The regression has been introduced with &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8300447&quot; title=&quot;Parallel: Refactor PSPromotionManager::drain_stacks_depth&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8300447&quot;&gt;&lt;strike&gt;JDK-8300447&lt;/strike&gt;&lt;/a&gt;. The performance is still very bad compared to G1 though after backing it out, but it&amp;#39;s not a regression any more.</comment>
                            <comment id="14589053" author="tschatzl" created="Tue, 13 Jun 2023 11:26:54 -0700"  >Seems to be particularly bad with 21/22, the second young gc with parallel gc is twice as slow than 20 or earlier releases (see attached pause times in delayinducer-parallel-jdk20.txt).&lt;br/&gt;
&lt;br/&gt;
I.e. looks like a regression in 21.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5103300">JDK-8310136</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5103655">JDK-8310434</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5091722">JDK-8300447</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5103173">JDK-8310031</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5137537">JDK-8339028</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5104458">JDK-8311163</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5113668">JDK-8319205</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="104282" name="delayinducer-g1.txt" size="16158" author="tschatzl" created="Tue, 13 Jun 2023 11:16:37 -0700"/>
                            <attachment id="104283" name="delayinducer-parallel-jdk20.txt" size="981" author="tschatzl" created="Tue, 13 Jun 2023 11:25:48 -0700"/>
                            <attachment id="104284" name="delayinducer-parallel-jdk21.txt" size="983" author="tschatzl" created="Tue, 13 Jun 2023 11:29:41 -0700"/>
                            <attachment id="104281" name="delayinducer-parallel.txt" size="24817" author="tschatzl" created="Tue, 13 Jun 2023 11:16:38 -0700"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31vyr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17423"><![CDATA[b28]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="209"><![CDATA[gc]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>