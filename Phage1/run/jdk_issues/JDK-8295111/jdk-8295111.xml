<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:28:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8295111] dpkg appears to have problems resolving symbolically linked native libraries</title>
                <link>https://bugs.openjdk.org/browse/JDK-8295111</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>ADDITIONAL SYSTEM INFORMATION :&lt;br/&gt;
Raspberry Pi 4 &lt;br/&gt;
Debian GNU/Linux 11 (bullseye)&lt;br/&gt;
java version &amp;quot;19&amp;quot; 2022-09-20&lt;br/&gt;
Java(TM) SE Runtime Environment (build 19+36-2238)&lt;br/&gt;
&lt;br/&gt;
A DESCRIPTION OF THE PROBLEM :&lt;br/&gt;
Verbose invocations of jpackage show a number of errors along the lines of...&lt;br/&gt;
&lt;br/&gt;
[01:50:56.499] Running dpkg&lt;br/&gt;
[01:50:56.679] Command [PID: 9246]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg -S /lib/aarch64-linux-gnu/libmd.so.0&lt;br/&gt;
[01:50:56.679] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg-query: no path found matching pattern /lib/aarch64-linux-gnu/libmd.so.0&lt;br/&gt;
[01:50:56.679] Returned: 1&lt;br/&gt;
&lt;br/&gt;
[01:50:56.680] java.io.IOException: Command [dpkg, -S, /lib/aarch64-linux-gnu/libmd.so.0] exited with 1 code&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.Executor.executeExpectSuccess(Executor.java:90)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LinuxDebBundler.lambda$initLibProvidersLookup$14(LinuxDebBundler.java:250)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LibProvidersLookup.lambda$execute$1(LibProvidersLookup.java:73)&lt;br/&gt;
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)&lt;br/&gt;
	at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1715)&lt;br/&gt;
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)&lt;br/&gt;
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)&lt;br/&gt;
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:575)&lt;br/&gt;
	at java.base/java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)&lt;br/&gt;
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:616)&lt;br/&gt;
	at java.base/java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:622)&lt;br/&gt;
	at java.base/java.util.stream.ReferencePipeline.toList(ReferencePipeline.java:627)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LibProvidersLookup.execute(LibProvidersLookup.java:84)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LinuxPackageBundler.getListOfNeededPackages(LinuxPackageBundler.java:195)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LinuxPackageBundler.createDefaultReplacementData(LinuxPackageBundler.java:222)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LinuxPackageBundler.execute(LinuxPackageBundler.java:155)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:700)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.Arguments.processArguments(Arguments.java:565)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.main.Main.execute(Main.java:91)&lt;br/&gt;
&lt;br/&gt;
There appears to be a symbolic link...&lt;br/&gt;
~/First $ ls -l /lib/aarch64-linux-gnu/libmd.so.0&lt;br/&gt;
lrwxrwxrwx 1 root root 14 Feb  8  2021 /lib/aarch64-linux-gnu/libmd.so.0 -&amp;gt; libmd.so.0.0.4&lt;br/&gt;
&lt;br/&gt;
if the dpkg query command is issued against the linked file it appears to work...&lt;br/&gt;
~/First $ dpkg -S libmd.so.0.0.4&lt;br/&gt;
libmd0:arm64: /usr/lib/aarch64-linux-gnu/libmd.so.0.0.4&lt;br/&gt;
&lt;br/&gt;
although that is also pointing to a different file?&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
STEPS TO FOLLOW TO REPRODUCE THE PROBLEM :&lt;br/&gt;
The original invocation was&lt;br/&gt;
&lt;br/&gt;
~/First $ jpackage --input . --linux-shortcut --name First --main-class Main --module-path ../javafx-sdk-19/lib --add-modules javafx.base,javafx.graphics,javafx.controls --verbose --main-jar first.jar&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
EXPECTED VERSUS ACTUAL BEHAVIOR :&lt;br/&gt;
EXPECTED -&lt;br/&gt;
a successful run&lt;br/&gt;
ACTUAL -&lt;br/&gt;
errors as shown&lt;br/&gt;
&lt;br/&gt;
---------- BEGIN SOURCE ----------&lt;br/&gt;
It was a simple javafx example class. The source doesn&amp;#39;t seem to be the problem.&lt;br/&gt;
---------- END SOURCE ----------&lt;br/&gt;
&lt;br/&gt;
CUSTOMER SUBMITTED WORKAROUND :&lt;br/&gt;
None at this time.&lt;br/&gt;
&lt;br/&gt;
FREQUENCY : always&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5084964">JDK-8295111</key>
            <summary>dpkg appears to have problems resolving symbolically linked native libraries</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="6" iconUrl="https://bugs.openjdk.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asemenyuk">Alexey Semenyuk</assignee>
                                    <reporter username="webbuggrp">Webbug Group</reporter>
                        <labels>
                            <label>17-bp</label>
                            <label>21-bp</label>
                            <label>additional-information-received</label>
                            <label>dcsad</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>release-note=yes</label>
                            <label>reproducer-yes</label>
                            <label>sn_130</label>
                            <label>sn_132</label>
                            <label>sn_140</label>
                            <label>sn_141</label>
                            <label>sn_167</label>
                            <label>webbug</label>
                    </labels>
                <created>Sat, 8 Oct 2022 19:13:41 -0700</created>
                <updated>Sat, 9 Nov 2024 14:57:39 -0800</updated>
                            <resolved>Thu, 18 Apr 2024 15:11:21 -0700</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>23</fixVersion>
                                    <component>tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                                                                                                            <comments>
                            <comment id="14676940" author="JIRAUSER20910" created="Tue, 28 May 2024 13:41:07 -0700"  >[jdk17u-fix-request] &lt;br/&gt;
This change fixes an issue caused by usrmerge on Debian-based systems - dpkg -S does not return a package containing a symlinked shared library in /lib, e.g.&lt;br/&gt;
```&lt;br/&gt;
dpkg -S /lib/x86_64-linux-gnu/libmd.so.0&lt;br/&gt;
# dpkg-query: no path found matching pattern /lib/x86_64-linux-gnu/libmd.so.0&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
The fix calls toRealPath() to resolve an actual path to the file before dpkg call and falls back to the old behaviour if the dpkg call fails.&lt;br/&gt;
&lt;br/&gt;
The change is tested by jpackage set of jtreg tests and should be low risk.</comment>
                            <comment id="14676939" author="roboduke" created="Tue, 28 May 2024 13:39:40 -0700"  >[jdk17u-fix-request] Approval Request from Vladimir Petko&lt;br/&gt;
</comment>
                            <comment id="14676938" author="roboduke" created="Tue, 28 May 2024 13:38:59 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2501&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2501&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-28 05:17:56 +0000</comment>
                            <comment id="14676186" author="roboduke" created="Sun, 26 May 2024 15:08:26 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/601&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/601&lt;/a&gt;&lt;br/&gt;
Date: 2024-05-24 03:41:09 +0000</comment>
                            <comment id="14676185" author="JIRAUSER20910" created="Sun, 26 May 2024 15:07:07 -0700"  >[jdk21u-fix-request] &lt;br/&gt;
This change fixes an issue caused by usrmerge on Debian-based systems - dpkg -S does not return a package containing a symlinked shared library in /lib, e.g. &lt;br/&gt;
```&lt;br/&gt;
dpkg -S /lib/x86_64-linux-gnu/libmd.so.0&lt;br/&gt;
# dpkg-query: no path found matching pattern /lib/x86_64-linux-gnu/libmd.so.0&lt;br/&gt;
```&lt;br/&gt;
&lt;br/&gt;
The fix calls toRealPath() to resolve an actual path to the file before dpkg call and falls back to the old behaviour if the dpkg call fails.&lt;br/&gt;
&lt;br/&gt;
The change is tested by jpackage set of jtreg tests and should be low risk. </comment>
                            <comment id="14676184" author="roboduke" created="Sun, 26 May 2024 15:06:29 -0700"  >[jdk21u-fix-request] Approval Request from Vladimir Petko&lt;br/&gt;
</comment>
                            <comment id="14667799" author="asemenyuk" created="Wed, 24 Apr 2024 12:12:28 -0700"  >The issue affects the list of required packages added to .deb installer. &lt;br/&gt;
If they run jpackage on Ubuntu 24.04 the list will be empty, on older versions of Ubuntu it will not be empty. &lt;br/&gt;
They can manually specify the list of required packages on jpackage command line as a workaround.</comment>
                            <comment id="14667792" author="vdyakov" created="Wed, 24 Apr 2024 11:46:14 -0700"  >&amp;nbsp;if a jpackaged app is built on Ubuntu 23.10 (e.g.), it will run on 24.04&lt;br/&gt;
so this issue is only building using package on 24.04</comment>
                            <comment id="14666577" author="roboduke" created="Fri, 19 Apr 2024 07:16:38 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/156&quot;&gt;https://git.openjdk.org/jdk22u/pull/156&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-19 14:12:36 +0000</comment>
                            <comment id="14666576" author="roboduke" created="Fri, 19 Apr 2024 07:14:59 -0700"  >[jdk22u-fix-request] Approval Request from Aleksei Semeniuk&lt;br/&gt;
</comment>
                            <comment id="14666361" author="dukebot" created="Thu, 18 Apr 2024 15:11:20 -0700"  >Changeset: 32946e18&lt;br/&gt;
Author:    Alexey Semenyuk &amp;lt;&lt;a href=&apos;mailto:asemenyuk@openjdk.org&apos;&gt;asemenyuk@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-04-18 22:09:32 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/32946e1882e9b22c983cbba3c6bda3cc7295946a&quot;&gt;https://git.openjdk.org/jdk/commit/32946e1882e9b22c983cbba3c6bda3cc7295946a&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14666329" author="roboduke" created="Thu, 18 Apr 2024 13:01:00 -0700"  >A pull request was submitted for review.&lt;br/&gt;
Branch: master&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18844&quot;&gt;https://git.openjdk.org/jdk/pull/18844&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-18 19:56:43 +0000</comment>
                            <comment id="14666300" author="asemenyuk" created="Thu, 18 Apr 2024 10:29:38 -0700"  >The issue is Debian-specific. RPM command looking up for packages providing a file can handle symlinks:&lt;br/&gt;
---&lt;br/&gt;
[~]$ rpm -q --whatprovides /lib/ld-2.17.so&lt;br/&gt;
glibc-2.17-326.0.3.el7_9.i686&lt;br/&gt;
[~]$ rpm -q --whatprovides /usr/lib/ld-2.17.so&lt;br/&gt;
glibc-2.17-326.0.3.el7_9.i686&lt;br/&gt;
[~]$ ls -al /lib&lt;br/&gt;
lrwxrwxrwx. 1 root root 7 Jul 30  2019 /lib -&amp;gt; usr/lib&lt;br/&gt;
---</comment>
                            <comment id="14666279" author="vdyakov" created="Thu, 18 Apr 2024 08:48:01 -0700"  >[~asemenyuk] please file RN Sub-Task to document the fix</comment>
                            <comment id="14665719" author="asemenyuk" created="Tue, 16 Apr 2024 11:48:04 -0700"  >On Ubuntu 24.04 it got worse, jpackage tests started failing (&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8330306&quot; title=&quot;broken &amp;quot;dpkg&amp;quot; command on Ubuntu 24.04&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8330306&quot;&gt;&lt;strike&gt;JDK-8330306&lt;/strike&gt;&lt;/a&gt;), hence raising the priority</comment>
                            <comment id="14571032" author="asemenyuk" created="Fri, 31 Mar 2023 09:29:37 -0700"  >Calling file.toRealPath() fixes broken but also breaks working &amp;quot;dpkg -S&amp;quot; calls.&lt;br/&gt;
&lt;br/&gt;
zlib works without file.toRealPath() and doesn&amp;#39;t with:&lt;br/&gt;
---&lt;br/&gt;
[16:32:26.662] Running ldd&lt;br/&gt;
[16:32:26.827] Command [PID: 3745503]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ldd /tmp/jdk.jpackage11719518352975301508/images/opt/simplepackagetest/lib/runtime/lib/libjli.so&lt;br/&gt;
[16:32:26.827] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	...&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	libz.so.1 =&amp;gt; /lib/x86_64-linux-gnu/libz.so.1 (0x00007f130f0e8000)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	...&lt;br/&gt;
[16:32:26.827] Returned: 0&lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
Without file.toRealPath() patch:&lt;br/&gt;
---&lt;br/&gt;
[16:32:30.624] Running dpkg&lt;br/&gt;
[16:32:30.857] Command [PID: 3745734]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg -S /lib/x86_64-linux-gnu/libz.so.1&lt;br/&gt;
[16:32:30.857] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;zlib1g:amd64: /lib/x86_64-linux-gnu/libz.so.1&lt;br/&gt;
[16:32:30.858] Returned: 0&lt;br/&gt;
&lt;br/&gt;
[16:32:30.865] /lib/x86_64-linux-gnu/libz.so.1 is provided by [zlib1g]&lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
With file.toRealPath() patch:&lt;br/&gt;
---&lt;br/&gt;
[17:33:43.139] Running dpkg&lt;br/&gt;
[17:33:43.227] Command [PID: 1266560]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg -S /usr/lib/x86_64-linux-gnu/libz.so.1.2.11&lt;br/&gt;
[17:33:43.227] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg-query: no path found matching pattern /usr/lib/x86_64-linux-gnu/libz.so.1.2.11&lt;br/&gt;
[17:33:43.227] Returned: 1&lt;br/&gt;
&lt;br/&gt;
[17:33:43.227] java.io.IOException: Command [dpkg, -S, /usr/lib/x86_64-linux-gnu/libz.so.1.2.11] exited with 1 code&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.Executor.executeExpectSuccess(Executor.java:90)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LinuxDebBundler.lambda$initLibProvidersLookup$14(LinuxDebBundler.java:250)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LibProvidersLookup.lambda$execute$2(LibProvidersLookup.java:81)&lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
X11 doesn&amp;#39;t work without file.toRealPath() and works with:&lt;br/&gt;
---&lt;br/&gt;
[17:33:42.958] Running ldd&lt;br/&gt;
[17:33:42.964] Command [PID: 1266040]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;ldd /tmp/jdk.jpackage11251284135766712933/images/opt/quickbrownfox2/lib/runtime/lib/libawt_xawt.so&lt;br/&gt;
[17:33:42.964] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	...&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	libX11.so.6 =&amp;gt; /lib/x86_64-linux-gnu/libX11.so.6 (0x00007f4820156000)&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;	...&lt;br/&gt;
[17:33:42.965] Returned: 0&lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
Without file.toRealPath() patch:&lt;br/&gt;
---&lt;br/&gt;
[16:32:31.139] Running dpkg&lt;br/&gt;
[16:32:31.256] Command [PID: 3745737]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg -S /lib/x86_64-linux-gnu/libX11.so.6&lt;br/&gt;
[16:32:31.256] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg-query: no path found matching pattern /lib/x86_64-linux-gnu/libX11.so.6&lt;br/&gt;
[16:32:31.256] Returned: 1&lt;br/&gt;
&lt;br/&gt;
[16:32:31.256] java.io.IOException: Command [dpkg, -S, /lib/x86_64-linux-gnu/libX11.so.6] exited with 1 code&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.Executor.executeExpectSuccess(Executor.java:90)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LinuxDebBundler.lambda$initLibProvidersLookup$14(LinuxDebBundler.java:250)&lt;br/&gt;
	at jdk.jpackage/jdk.jpackage.internal.LibProvidersLookup.lambda$execute$1(LibProvidersLookup.java:73)&lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
With file.toRealPath() patch:&lt;br/&gt;
---&lt;br/&gt;
[17:33:43.497] Command [PID: 1266588]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;dpkg -S /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0&lt;br/&gt;
[17:33:43.497] Output:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;libx11-6:amd64: /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0&lt;br/&gt;
[17:33:43.497] Returned: 0&lt;br/&gt;
&lt;br/&gt;
[17:33:43.497] /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0 is provided by [libx11-6]&lt;br/&gt;
---&lt;br/&gt;
&lt;br/&gt;
The fix should try calling &amp;quot;dpkg -S&amp;quot; twice in the case file.toRealPath() returns a different path and the first call to &amp;quot;dpkg -S&amp;quot; fails. Also, it would be good to suppress stack output if &amp;quot;dpkg -S&amp;quot; fails with &amp;quot;dpkg-query: no path found matching pattern&amp;quot; message as it clutters the log and doesn&amp;#39;t add valueable information.</comment>
                            <comment id="14570471" author="asemenyuk" created="Wed, 29 Mar 2023 09:24:00 -0700"  >&lt;a href=&quot;https://github.com/openjdk/jdk/blob/0deb648985b018653ccdaf193dc13b3cf21c088a/src/jdk.jpackage/linux/native/applauncher/LinuxPackage.c#L274&quot;&gt;https://github.com/openjdk/jdk/blob/0deb648985b018653ccdaf193dc13b3cf21c088a/src/jdk.jpackage/linux/native/applauncher/LinuxPackage.c#L274&lt;/a&gt; referenced in another bug report is not the cause of the issue. The stack trace is caused by &lt;a href=&quot;https://github.com/openjdk/jdk/blob/0deb648985b018653ccdaf193dc13b3cf21c088a/src/jdk.jpackage/linux/classes/jdk/jpackage/internal/LinuxDebBundler.java#L249&quot;&gt;https://github.com/openjdk/jdk/blob/0deb648985b018653ccdaf193dc13b3cf21c088a/src/jdk.jpackage/linux/classes/jdk/jpackage/internal/LinuxDebBundler.java#L249&lt;/a&gt;.&lt;br/&gt;
&lt;br/&gt;
If the problem is that dpkg can&amp;#39;t resolve symlinks, it can be fixed by adding file.toRealPath() call.</comment>
                            <comment id="14568151" author="wkemper" created="Mon, 20 Mar 2023 11:23:31 -0700"  >There&amp;#39;s been [another report of this](&lt;a href=&quot;https://github.com/corretto/corretto-19/issues/13&quot;&gt;https://github.com/corretto/corretto-19/issues/13&lt;/a&gt;) with a detailed analysis and a reproducer. Also reported against 19.</comment>
                            <comment id="14530156" author="pnarayanaswa" created="Sun, 16 Oct 2022 21:24:51 -0700"  >Additional Information from submitter:&lt;br/&gt;
=============================&lt;br/&gt;
For some reason, possibly my error, the cpu shows as x86_64 while it should be arch64. &lt;br/&gt;
For some other reason I can&amp;#39;t get into VirtualBox right now to test Ubuntu myself. I saw there is nos Multipass that allows running Ubuntu images apparently. That shows...&lt;br/&gt;
multipass exec foo -- ls /lib/aarch64-linux-gnu          &lt;br/&gt;
ls: cannot access &amp;#39;/lib/aarch64-linux-gnu&amp;#39;: No such file or directory&lt;br/&gt;
The same file as indicated in the bug report isn&amp;#39;t even there. So exactly reproducing would not be possible?&lt;br/&gt;
Again this was a aarch64 Raspberry Pi 4 running Debian. &lt;br/&gt;
Although my concern would be that if the problem is actually the apparent symbolic link involved that it could happen anywhere. Any system that chooses to make use of a symbolic link. &lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</comment>
                            <comment id="14528988" author="adev" created="Mon, 10 Oct 2022 22:38:28 -0700"  >I could not reproduce the problem. I tried it on Ubuntu 20 with a simple JAVAFX application but could not reproduce it. (simple reproducer attached)&lt;br/&gt;
Used below commands to reproduce:&lt;br/&gt;
$ jdk-19_linux-x64_bin/jdk-19/bin/javac --module-path openjfx-19_linux-x64_bin-sdk/javafx-sdk-19/lib/ --add-modules javafx.controls,javafx.fxml HelloWorld.java&lt;br/&gt;
$ jar -cefv HelloWorld.jar HelloWorld *.class&lt;br/&gt;
$ jdk-19_linux-x64_bin/jdk-19/bin/jpackage --input o --linux-shortcut --name Hello --main-class HelloWorld --module-path openjfx-19_linux-x64_bin-sdk/javafx-sdk-19/lib/ --add-modules javafx.base,javafx.graphics,javafx.controls --verbose --main-jar HelloWorld.jar</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5130406">JDK-8333011</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5130659">JDK-8333243</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5127622">JDK-8330870</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10002">
                    <name>Duplicate</name>
                                                                <inwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="5126863">JDK-8330306</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5127778">JDK-8331019</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="101023" name="HelloWorld.java" size="1033" author="adev" created="Mon, 10 Oct 2022 22:39:10 -0700"/>
                    </attachments>
                <subtasks>
                                              <subtask id="5127453">JDK-8330732</subtask>
                                                              <subtask id="5127953">JDK-8331144</subtask>
                                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17048"><![CDATA[linux_ubuntu]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ytxn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17351"><![CDATA[b20]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="2192"><![CDATA[jpackage]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10100" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Verification</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17000"><![CDATA[Verified]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>