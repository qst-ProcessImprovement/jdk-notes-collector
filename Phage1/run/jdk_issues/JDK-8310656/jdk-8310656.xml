<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 09:29:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8310656] RISC-V: __builtin___clear_cache can fail silently.</title>
                <link>https://bugs.openjdk.org/browse/JDK-8310656</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>If __builtin___clear_cache fails (e.g. EPERM) it is unnoticed.&lt;br/&gt;
That can cause the VM to crash on what seems like a perfectly fine instruction with SIGILL ILL_ILLOPC.&lt;br/&gt;
If you don&amp;#39;t know that this syscall is critical it&amp;#39;s very hard to debug.&lt;br/&gt;
&lt;br/&gt;
In JDK 19 the VM emits the syscall itself, but never checks the return value. Same issue.</description>
                <environment></environment>
        <key id="5103893">JDK-8310656</key>
            <summary>RISC-V: __builtin___clear_cache can fail silently.</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://bugs.openjdk.org/images/jbsImages/p2.png">P2</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rehn">Robbin Ehn</assignee>
                                    <reporter username="rehn">Robbin Ehn</reporter>
                        <labels>
                            <label>hgupdate-sync</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>oraclejdk-na</label>
                    </labels>
                <created>Thu, 22 Jun 2023 07:48:05 -0700</created>
                <updated>Thu, 28 Mar 2024 18:14:05 -0700</updated>
                            <resolved>Sun, 2 Jul 2023 09:17:16 -0700</resolved>
                                    <version>17</version>
                    <version>19</version>
                    <version>20</version>
                    <version>21</version>
                    <version>22</version>
                                    <fixVersion>22</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14660746" author="roboduke" created="Wed, 27 Mar 2024 02:04:48 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/riscv-port-jdk11u/pull/16&quot;&gt;https://git.openjdk.org/riscv-port-jdk11u/pull/16&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-26 08:35:05 +0000</comment>
                            <comment id="14627241" author="roboduke" created="Fri, 17 Nov 2023 07:07:58 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1968&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1968&lt;/a&gt;&lt;br/&gt;
Date: 2023-11-17 15:01:22 +0000</comment>
                            <comment id="14627240" author="roboduke" created="Fri, 17 Nov 2023 07:06:28 -0800"  >[jdk17u-fix-request] Approval Request from Ludovic Henry&lt;br/&gt;
That fix is required for Java to not crash randomly on non instruction/data cache coherent systems when running inside a container on an older version of Docker. The issue with Docker is that it blocks the `riscv_icache_flush` syscall by default, leading to the __builtin_clear_cache failing silently. That leads to the i-cache not being flushed, leading to random failures. With this patch, instead of failing randomly, it fails at startup logging an informative message, allowing the user to go and fix their configuration.</comment>
                            <comment id="14627050" author="fyang" created="Thu, 16 Nov 2023 16:39:36 -0800"  >Hello, I think we should also fix this issue for 17u LTS version. Any plan for a 17u backport? Thanks.</comment>
                            <comment id="14593261" author="roboduke" created="Sun, 2 Jul 2023 11:41:03 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21/pull/90&quot;&gt;https://git.openjdk.org/jdk21/pull/90&lt;/a&gt;&lt;br/&gt;
Date: 2023-07-02 18:35:30 +0000</comment>
                            <comment id="14593257" author="dukebot" created="Sun, 2 Jul 2023 09:17:15 -0700"  >Changeset: faf1b822&lt;br/&gt;
Author:    Robbin Ehn &amp;lt;&lt;a href=&apos;mailto:rehn@openjdk.org&apos;&gt;rehn@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-07-02 16:15:28 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/faf1b822d03b726413d77a2b247dfbbf4db7d57e&quot;&gt;https://git.openjdk.org/jdk/commit/faf1b822d03b726413d77a2b247dfbbf4db7d57e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14592210" author="roboduke" created="Tue, 27 Jun 2023 01:26:41 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14670&quot;&gt;https://git.openjdk.org/jdk/pull/14670&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-27 08:19:47 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5105398">JDK-8312010</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5106414">JDK-8312908</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5115258">JDK-8320576</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="20300"><![CDATA[riscv]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i320yb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17315"><![CDATA[b05]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>