<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 14:10:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8294402] Add diagnostic logging to VMProps.checkDockerSupport</title>
                <link>https://bugs.openjdk.org/browse/JDK-8294402</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>This method is used by &amp;quot;@ requires&amp;quot; to check whether a host environment has container support enabled.&lt;br/&gt;
Once in a while this check fails. It would be good to have diagnostic info logged in case of failure, in particular the output of the &amp;#39;container ps&amp;#39; process and the exit value.</description>
                <environment></environment>
        <key id="5084175">JDK-8294402</key>
            <summary>Add diagnostic logging to VMProps.checkDockerSupport</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mseledtsov">Mikhailo Seledtsov</assignee>
                                    <reporter username="mseledtsov">Mikhailo Seledtsov</reporter>
                        <labels>
                            <label>containers</label>
                            <label>jdk11u-fix-request</label>
                            <label>jdk11u-fix-yes</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                            <label>tier5</label>
                    </labels>
                <created>Mon, 26 Sep 2022 16:34:52 -0700</created>
                <updated>Tue, 15 Apr 2025 00:58:03 -0700</updated>
                            <resolved>Fri, 17 Feb 2023 11:39:42 -0800</resolved>
                                    <version>20</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="14635225" author="roboduke" created="Mon, 18 Dec 2023 14:49:36 -0800"  >[jdk11u-fix-request] Approval Request from Amos&lt;br/&gt;
&#8220;Backporting for parity with jdk 11.0.23-oracle. No risk, test fix. Clean backport. SAP nightlies passed on 2023-12-19&#8221;</comment>
                            <comment id="14634520" author="roboduke" created="Thu, 14 Dec 2023 21:12:14 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk11u-dev/pull/2390&quot;&gt;https://git.openjdk.org/jdk11u-dev/pull/2390&lt;/a&gt;&lt;br/&gt;
Date: 2023-12-15 05:07:19 +0000</comment>
                            <comment id="14627198" author="goetz" created="Fri, 17 Nov 2023 05:04:02 -0800"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.11-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport. SAP nightly testing passed.&lt;br/&gt;
</comment>
                            <comment id="14627188" author="roboduke" created="Fri, 17 Nov 2023 03:47:31 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1965&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1965&lt;/a&gt;&lt;br/&gt;
Date: 2023-11-17 11:41:49 +0000</comment>
                            <comment id="14561130" author="dukebot" created="Fri, 17 Feb 2023 11:39:41 -0800"  >Changeset: 03d613bb&lt;br/&gt;
Author:    Mikhailo Seledtsov &amp;lt;&lt;a href=&apos;mailto:mseledtsov@openjdk.org&apos;&gt;mseledtsov@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-02-17 19:37:02 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/03d613bbab99dd84dfc5115a5034c60f4e510259&quot;&gt;https://git.openjdk.org/jdk/commit/03d613bbab99dd84dfc5115a5034c60f4e510259&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14555754" author="roboduke" created="Mon, 30 Jan 2023 15:56:36 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/12239&quot;&gt;https://git.openjdk.org/jdk/pull/12239&lt;/a&gt;&lt;br/&gt;
Date: 2023-01-26 23:23:16 +0000</comment>
                            <comment id="14555746" author="mseledtsov" created="Mon, 30 Jan 2023 15:26:51 -0800"  >Thanks David and Jon.&lt;br/&gt;
I tried it out, and I am able to see the log in the jtreg.log.</comment>
                            <comment id="14555278" author="dholmes" created="Sun, 29 Jan 2023 16:52:29 -0800"  >Per slack discussion logging to System.err should work</comment>
                            <comment id="14554839" author="mseledtsov" created="Thu, 26 Jan 2023 15:30:20 -0800"  >Draft PR: &lt;a href=&quot;https://github.com/openjdk/jdk/pull/12239/files&quot;&gt;https://github.com/openjdk/jdk/pull/12239/files&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
-----------Testing:&lt;br/&gt;
- basic/sanity:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;jtreg -Djtreg.log.vmprops=true -v1 open/test/hotspot/jtreg/sanity&lt;br/&gt;
&amp;nbsp;&amp;nbsp;- log produced - PASS&lt;br/&gt;
&amp;nbsp;&amp;nbsp;jtreg -v1 open/test/hotspot/jtreg/sanity&lt;br/&gt;
&amp;nbsp;&amp;nbsp;- no log produced - PASS&lt;br/&gt;
- concurrent: &lt;br/&gt;
&amp;nbsp;&amp;nbsp;jtreg -conc:4 -Djtreg.log.vmprops=true -v1 open/test/hotspot/jtreg/runtime/cds/appcds/cacheObject&lt;br/&gt;
&amp;nbsp;&amp;nbsp;Log produced as expected - PASS&lt;br/&gt;
&lt;br/&gt;
- container with child process IO redirect to file:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;jtreg -v1 -Djtreg.log.vmprops=true open/test/hotspot/jtreg/containers/docker/&lt;br/&gt;
&amp;nbsp;&amp;nbsp;PASS&lt;br/&gt;
&lt;br/&gt;
- automated cluster run of container tests via make:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;log produced, PASS&lt;br/&gt;
&lt;br/&gt;
</comment>
                            <comment id="14554203" author="mseledtsov" created="Tue, 24 Jan 2023 19:54:54 -0800"  >Tried instrumenting &amp;quot;@requires&amp;quot; code in open/test/jtreg-ext/requires/VMProps.java with&lt;br/&gt;
System.out.println() statements in call() which is a main entry for jtreg, as well as&lt;br/&gt;
container support methods, but the output is not visible. It is neither in stdout nor in any&lt;br/&gt;
jtreg log files. Ran with &amp;quot;-va&amp;quot;, a verbose mode.&lt;br/&gt;
&lt;br/&gt;
Since stdout prints do not work will log into a file specified by a user-provided property:&lt;br/&gt;
&amp;quot;jtreg.ext.at.requires.logfile&amp;quot; for instance.&lt;br/&gt;
&lt;br/&gt;
jtreg -Djtreg.ext.at.requires.logfile=&amp;quot;/tmp/jtreg-at-requires.log&amp;quot; -nr -va open/test/hotspot/jtreg/containers/docker/DockerBasicTest.java&lt;br/&gt;
&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5114774">JDK-8320136</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5114775">JDK-8320137</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5115052">JDK-8320387</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5118281">JDK-8323165</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5155512">JDK-8354301</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Blocks</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="4930915">JDK-8181592</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="4970133">CODETOOLS-7902279</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yp2b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17311"><![CDATA[b11]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>