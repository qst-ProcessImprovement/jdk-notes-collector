<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:27:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305781] compiler/c2/irTests/TestVectorizationMultiInvar.java failed with &quot;IRViolationException: There were one or multiple IR rule failures.&quot;</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305781</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The following test failed in the JDK21 CI:&lt;br/&gt;
&lt;br/&gt;
compiler/c2/irTests/TestVectorizationMultiInvar.java&lt;br/&gt;
&lt;br/&gt;
Here&amp;#39;s a snippet from the log file:&lt;br/&gt;
&lt;br/&gt;
----------System.err:(47/5471)*----------&lt;br/&gt;
&lt;br/&gt;
Command Line:&lt;br/&gt;
/opt/mach5/mesos/work_dir/jib-master/install/jdk-21+18-1444/linux-x64-debug.jdk/jdk-21/fastdebug/bin/java -DReproduce=true -cp /opt/mach5/mesos/work_dir/slaves/741e9afd-8c02-45c3-b2e2-9db1450d0832-S14094/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/2a167a5f-1023-4da0-947b-b96cf21464b2/runs/5ed7569c-06de-44cc-a292-4d3bdaef543d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_vector_1/classes/2/compiler/c2/irTests/TestVectorizationMultiInvar.d:/opt/mach5/mesos/work_dir/jib-master/install/jdk-21+18-1444/src.full/open/test/hotspot/jtreg/compiler/c2/irTests:/opt/mach5/mesos/work_dir/slaves/741e9afd-8c02-45c3-b2e2-9db1450d0832-S14094/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/2a167a5f-1023-4da0-947b-b96cf21464b2/runs/5ed7569c-06de-44cc-a292-4d3bdaef543d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_vector_1/classes/2/test/lib:/opt/mach5/mesos/work_dir/slaves/741e9afd-8c02-45c3-b2e2-9db1450d0832-S14094/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/2a167a5f-1023-4da0-947b-b96cf21464b2/runs/5ed7569c-06de-44cc-a292-4d3bdaef543d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_vector_1/classes/2:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.1.1/1/bundles/jtreg-7.1.1+1.zip/jtreg/lib/jtreg.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.1.1/1/bundles/jtreg-7.1.1+1.zip/jtreg/lib/junit-platform-console-standalone-1.8.2.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.1.1/1/bundles/jtreg-7.1.1+1.zip/jtreg/lib/testng-7.3.0.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.1.1/1/bundles/jtreg-7.1.1+1.zip/jtreg/lib/jcommander-1.78.jar:/opt/mach5/mesos/work_dir/jib-master/install/jtreg/7.1.1/1/bundles/jtreg-7.1.1+1.zip/jtreg/lib/guice-4.2.3.jar -Djava.library.path=/opt/mach5/mesos/work_dir/jib-master/install/jdk-21+18-1444/linux-x64-debug.test/hotspot/jtreg/native -Xbootclasspath/a:. -XX:+UnlockDiagnosticVMOptions -XX:+WhiteBoxAPI -XX:MaxRAMPercentage=4.16667 -Dtest.boot.jdk=/opt/mach5/mesos/work_dir/jib-master/install/jdk/19/36/bundles/linux-x64/jdk-19_linux-x64_bin.tar.gz/jdk-19 -Djava.io.tmpdir=/opt/mach5/mesos/work_dir/slaves/741e9afd-8c02-45c3-b2e2-9db1450d0832-S14094/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/executors/2a167a5f-1023-4da0-947b-b96cf21464b2/runs/5ed7569c-06de-44cc-a292-4d3bdaef543d/testoutput/test-support/jtreg_open_test_hotspot_jtreg_hotspot_vector_1/tmp -XX:UseAVX=0 -XX:UseSSE=3 -Dir.framework.server.port=35395 --add-modules java.base --add-exports java.base/jdk.internal.misc=ALL-UNNAMED -XX:+PrintCompilation -XX:+UnlockDiagnosticVMOptions -XX:+LogCompilation -XX:CompilerDirectivesFile=test-vm-compile-commands-pid-19310.log -XX:CompilerDirectivesLimit=31 -XX:-OmitStackTraceInFastThrow -DShouldDoIRVerification=true -XX:-BackgroundCompilation -XX:CompileCommand=quiet compiler.lib.ir_framework.test.TestVM compiler.c2.irTests.TestVectorizationMultiInvar&lt;br/&gt;
&lt;br/&gt;
One or more @IR rules failed:&lt;br/&gt;
&lt;br/&gt;
Failed IR Rules (1) of Methods (1)&lt;br/&gt;
----------------------------------&lt;br/&gt;
1) Method &amp;quot;public static void compiler.c2.irTests.TestVectorizationMultiInvar.testByteLong1(byte[],long[])&amp;quot; - [Failed IR rules: 1]:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;* @IR rule 1: &amp;quot;@compiler.lib.ir_framework.IR(applyIfCPUFeatureAnd={}, phase={DEFAULT}, applyIf={}, applyIfCPUFeatureOr={}, applyIfCPUFeature={}, counts={&amp;quot;_#LOAD_VECTOR#_&amp;quot;, &amp;quot;&amp;gt;=1&amp;quot;, &amp;quot;_#STORE_VECTOR#_&amp;quot;, &amp;quot;&amp;gt;=1&amp;quot;}, failOn={}, applyIfAnd={}, applyIfOr={}, applyIfNot={})&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;gt; Phase &amp;quot;PrintIdeal&amp;quot;:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- counts: Graph contains wrong number of nodes:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Constraint 1: &amp;quot;(\\d+(\\s){2}(LoadVector.*)+(\\s){2}===.*)&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Failed comparison: [found] 0 &amp;gt;= 1 [given]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- No nodes matched!&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;* Constraint 2: &amp;quot;(\\d+(\\s){2}(StoreVector.*)+(\\s){2}===.*)&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- Failed comparison: [found] 0 &amp;gt;= 1 [given]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;- No nodes matched!&lt;br/&gt;
&lt;br/&gt;
&amp;gt;&amp;gt;&amp;gt; Check stdout for compilation output of the failed methods&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;#############################################################&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;- To only run the failed tests use -DTest, -DExclude,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;and/or -DScenarios.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;- To also get the standard output of the test VM run with&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-DReportStdout=true or for even more fine-grained logging&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;use -DVerbose=true.&lt;br/&gt;
&amp;nbsp;&amp;nbsp;#############################################################&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
compiler.lib.ir_framework.driver.irmatching.IRViolationException: There were one or multiple IR rule failures. Please check stderr for more information.&lt;br/&gt;
	at compiler.lib.ir_framework.driver.irmatching.IRMatcher.reportFailures(IRMatcher.java:61)&lt;br/&gt;
	at compiler.lib.ir_framework.driver.irmatching.IRMatcher.match(IRMatcher.java:49)&lt;br/&gt;
	at compiler.lib.ir_framework.TestFramework.runTestVM(TestFramework.java:754)&lt;br/&gt;
	at compiler.lib.ir_framework.TestFramework.start(TestFramework.java:719)&lt;br/&gt;
	at compiler.lib.ir_framework.TestFramework.start(TestFramework.java:339)&lt;br/&gt;
	at compiler.lib.ir_framework.TestFramework.runWithFlags(TestFramework.java:245)&lt;br/&gt;
	at compiler.c2.irTests.TestVectorizationMultiInvar.main(TestVectorizationMultiInvar.java:46)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainActionHelper$AgentVMRunnable.run(MainActionHelper.java:312)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1630)&lt;br/&gt;
&lt;br/&gt;
JavaTest Message: Test threw exception: compiler.lib.ir_framework.driver.irmatching.IRViolationException&lt;br/&gt;
JavaTest Message: shutting down test&lt;br/&gt;
&lt;br/&gt;
result: Failed. Execution failed: `main&amp;#39; threw exception: compiler.lib.ir_framework.driver.irmatching.IRViolationException: There were one or multiple IR rule failures. Please check stderr for more information.</description>
                <environment></environment>
        <key id="5098136">JDK-8305781</key>
            <summary>compiler/c2/irTests/TestVectorizationMultiInvar.java failed with &quot;IRViolationException: There were one or multiple IR rule failures.&quot;</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roland">Roland Westrelin</assignee>
                                    <reporter username="dcubed">Daniel Daugherty</reporter>
                        <labels>
                            <label>intermittent</label>
                            <label>noreg-self</label>
                            <label>oracle-triage-21</label>
                            <label>tier2</label>
                    </labels>
                <created>Sat, 8 Apr 2023 19:33:48 -0700</created>
                <updated>Mon, 24 Apr 2023 11:30:18 -0700</updated>
                            <resolved>Tue, 18 Apr 2023 01:56:59 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14574579" author="dukebot" created="Tue, 18 Apr 2023 01:56:59 -0700"  >Changeset: 8ecb5dfa&lt;br/&gt;
Author:    Roland Westrelin &amp;lt;&lt;a href=&apos;mailto:roland@openjdk.org&apos;&gt;roland@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-18 08:54:55 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8ecb5dfa34ebd2ef7717994522fbb4bd7a14e0c9&quot;&gt;https://git.openjdk.org/jdk/commit/8ecb5dfa34ebd2ef7717994522fbb4bd7a14e0c9&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14574122" author="roboduke" created="Mon, 17 Apr 2023 04:35:28 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13492&quot;&gt;https://git.openjdk.org/jdk/pull/13492&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-17 11:26:47 +0000</comment>
                            <comment id="14572984" author="thartmann" created="Tue, 11 Apr 2023 01:19:20 -0700"  >ILW = Test fails due to missing C2 optimization (probably test bug), single test at tier2, no workaround = MMH = P3</comment>
                            <comment id="14572611" author="dcubed" created="Sun, 9 Apr 2023 06:02:56 -0700"  >[~roland] - The test that you added recently via:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8300257&quot; title=&quot;C2: vectorization fails on some simple Memory Segment loops&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8300257&quot;&gt;&lt;strike&gt;JDK-8300257&lt;/strike&gt;&lt;/a&gt; C2: vectorization fails on some simple Memory Segment loops:&lt;br/&gt;
&lt;br/&gt;
is failing in Mach5 Tier2. So far we have failures in 3 Tier2&lt;br/&gt;
build-IDs in a row: jdk-21+18-144[4-6]-tier2. The latest build-ID&lt;br/&gt;
has two failures (so far) so there is something of an intermittent&lt;br/&gt;
component to the these failures.&lt;br/&gt;
&lt;br/&gt;
jdk-21+18-1444-tier2: -XX:UseAVX=0 -XX:UseSSE=3&lt;br/&gt;
jdk-21+18-1445-tier2: -XX:UseAVX=0 -XX:UseSSE=2&lt;br/&gt;
jdk-21+18-1446-tier2: -XX:UseAVX=0 -XX:UseSSE=3&lt;br/&gt;
jdk-21+18-1446-tier2: -XX:UseAVX=0 -XX:UseSSE=2</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5091522">JDK-8300257</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17023"><![CDATA[linux]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3121n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17414"><![CDATA[b19]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>