<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 15:02:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8299018] java/net/httpclient/HttpsTunnelAuthTest.java fails with java.io.IOException: HTTP/1.1 header parser received no bytes</title>
                <link>https://bugs.openjdk.org/browse/JDK-8299018</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>This is due to the ProxyServer abruptly closing the connection. The exception seems to be caused by a debug statement trying to printf a string has a number (%d and passing a string argument)&lt;br/&gt;
&lt;br/&gt;
Testing HTTP_2, http, /foo/http2&lt;br/&gt;
Proxy is: [HTTP @ /127.0.0.1:51144]&lt;br/&gt;
&lt;br/&gt;
Posting to HTTP_1_1 server at: &lt;a href=&quot;http://localhost:51028/foo/http2&quot;&gt;http://localhost:51028/foo/http2&lt;/a&gt; POST&lt;br/&gt;
Proxy: accepted new connection: Proxy connection 3, client sock:java.nio.channels.SocketChannel[connected local=/127.0.0.1:51144 remote=/127.0.0.1:51218]&lt;br/&gt;
POST &lt;a href=&quot;http://localhost:51028/foo/http2&quot;&gt;http://localhost:51028/foo/http2&lt;/a&gt; HTTP/1.1&lt;br/&gt;
Content-Length: 316&lt;br/&gt;
Host: localhost:51028&lt;br/&gt;
User-Agent: Java-http-client/21-internal&lt;br/&gt;
&lt;br/&gt;
Proxy: unauthorized; 407 sent (112/112), linger: 2, nodelay: true&lt;br/&gt;
Proxy: content-length: Proxy: bad content-length, closing connection&lt;br/&gt;
Proxy: 	content-length: 316&lt;br/&gt;
Proxy: 	java.util.IllegalFormatConversionException: d != java.lang.String&lt;br/&gt;
Proxy: closing connection id=3, linger: 2, nodelay: true&lt;br/&gt;
Checking response: (POST &lt;a href=&quot;http://localhost:51028/foo/http2)&quot;&gt;http://localhost:51028/foo/http2)&lt;/a&gt; 407&lt;br/&gt;
&lt;br/&gt;
Posting with Proxy-Authorization to HTTP_1_1 server at: &lt;a href=&quot;http://localhost:51028/foo/http2&quot;&gt;http://localhost:51028/foo/http2&lt;/a&gt; POST&lt;br/&gt;
Proxy: drained: 316&lt;br/&gt;
Unexpected exception: exiting: java.io.IOException: HTTP/1.1 header parser received no bytes&lt;br/&gt;
java.io.IOException: HTTP/1.1 header parser received no bytes&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:909)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:133)&lt;br/&gt;
	at HttpsTunnelAuthTest.test(HttpsTunnelAuthTest.java:280)&lt;br/&gt;
	at HttpsTunnelAuthTest.main(HttpsTunnelAuthTest.java:194)&lt;br/&gt;
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)&lt;br/&gt;
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)&lt;br/&gt;
	at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:125)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Thread.java:1623)&lt;br/&gt;
Caused by: java.io.IOException: HTTP/1.1 header parser received no bytes&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.Utils.wrapWithExtraDetail(Utils.java:348)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.onReadError(Http1Response.java:574)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(Http1AsyncReceiver.java:302)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:268)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)&lt;br/&gt;
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)&lt;br/&gt;
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)&lt;br/&gt;
	... 1 more&lt;br/&gt;
Caused by: java.io.IOException: connection closed locally&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube.signalClosed(SocketTube.java:159)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.close(PlainHttpConnection.java:405)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.ConnectionPool.cleanup(ConnectionPool.java:501)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.ConnectionPool$CleanupTrigger.triggerCleanup(ConnectionPool.java:524)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.ConnectionPool$CleanupTrigger.onComplete(ConnectionPool.java:537)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadSubscription.signalCompletion(SocketTube.java:648)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.read(SocketTube.java:853)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowTask.run(SocketTube.java:181)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:303)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:256)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.signalReadable(SocketTube.java:782)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadEvent.signalEvent(SocketTube.java:965)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowEvent.handle(SocketTube.java:253)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:1390)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:1335)&lt;br/&gt;
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:1335)&lt;br/&gt;
Http1TestServer: stop&lt;br/&gt;
Http1TestServer: stop&lt;br/&gt;
Http2TestServerImpl: stop&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5090021">JDK-8299018</key>
            <summary>java/net/httpclient/HttpsTunnelAuthTest.java fails with java.io.IOException: HTTP/1.1 header parser received no bytes</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dfuchs">Daniel Fuchs</assignee>
                                    <reporter username="dfuchs">Daniel Fuchs</reporter>
                        <labels>
                            <label>httpclient</label>
                            <label>intermittent</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>noreg-self</label>
                    </labels>
                <created>Mon, 19 Dec 2022 01:39:31 -0800</created>
                <updated>Mon, 13 Feb 2023 06:46:34 -0800</updated>
                            <resolved>Tue, 20 Dec 2022 03:09:36 -0800</resolved>
                                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14559043" author="roboduke" created="Thu, 9 Feb 2023 23:58:22 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/1162&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/1162&lt;/a&gt;&lt;br/&gt;
Date: 2023-02-10 07:51:34 +0000</comment>
                            <comment id="14559036" author="goetz" created="Thu, 9 Feb 2023 23:47:46 -0800"  >Fix request [17u]&lt;br/&gt;
&lt;br/&gt;
I backport this for parity with 17.0.7-oracle.&lt;br/&gt;
No risk, only a test change.&lt;br/&gt;
Clean backport.&lt;br/&gt;
Mentioned test passes. SAP nightly testing passed.</comment>
                            <comment id="14546780" author="dukebot" created="Tue, 20 Dec 2022 03:09:35 -0800"  >Changeset: e5edb10d&lt;br/&gt;
Author:    Daniel Fuchs &amp;lt;&lt;a href=&apos;mailto:dfuchs@openjdk.org&apos;&gt;dfuchs@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2022-12-20 11:06:36 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/e5edb10dc56d9edac8e050e0f8e6c116743975d6&quot;&gt;https://git.openjdk.org/jdk/commit/e5edb10dc56d9edac8e050e0f8e6c116743975d6&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14546387" author="roboduke" created="Mon, 19 Dec 2022 02:32:01 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11717&quot;&gt;https://git.openjdk.org/jdk/pull/11717&lt;/a&gt;&lt;br/&gt;
Date: 2022-12-19 10:24:39 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5090300">JDK-8299267</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5093981">JDK-8302334</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zoc3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17305"><![CDATA[b03]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="193"><![CDATA[java.net]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>