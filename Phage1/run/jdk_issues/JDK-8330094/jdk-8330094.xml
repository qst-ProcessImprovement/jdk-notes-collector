<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:17:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8330094] RISC-V: Save and restore FRM in the call stub</title>
                <link>https://bugs.openjdk.org/browse/JDK-8330094</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>As discussed at &lt;a href=&quot;https://github.com/openjdk/jdk/pull/17745#discussion_r1558783467,&quot;&gt;https://github.com/openjdk/jdk/pull/17745#discussion_r1558783467,&lt;/a&gt; we should do the similar thing as &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8319973&quot; title=&quot;AArch64: Save and restore FPCR in the call stub&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8319973&quot;&gt;&lt;strike&gt;JDK-8319973&lt;/strike&gt;&lt;/a&gt; on aarch64, difference is that we only need to save/restore frm rather than other bits in fcsr.</description>
                <environment></environment>
        <key id="5126679">JDK-8330094</key>
            <summary>RISC-V: Save and restore FRM in the call stub</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mli">Hamlin Li</assignee>
                                    <reporter username="mli">Hamlin Li</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>oraclejdk-na</label>
                    </labels>
                <created>Thu, 11 Apr 2024 03:53:36 -0700</created>
                <updated>Sat, 4 May 2024 21:32:39 -0700</updated>
                            <resolved>Thu, 18 Apr 2024 04:14:24 -0700</resolved>
                                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14669482" author="JIRAUSER20521" created="Tue, 30 Apr 2024 19:59:55 -0700"  >Fix Request (22u):&lt;br/&gt;
Hi, The same issue also exists in jdk22u. So I would like to backport &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8330094&quot; title=&quot;RISC-V: Save and restore FRM in the call stub&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8330094&quot;&gt;&lt;strike&gt;JDK-8330094&lt;/strike&gt;&lt;/a&gt; to jdk22u. With this change, we save and restore the default floating-point control state when we enter and leave Java code, ensuring that we are still Java compatible if we&amp;#39;re called via the JNI invocation interface with a weird FP control state. RISC-V specific change, risk is low.</comment>
                            <comment id="14669481" author="JIRAUSER20521" created="Tue, 30 Apr 2024 19:59:16 -0700"  >Fix Request (21u):&lt;br/&gt;
Hi, The same issue also exists in JDK21u. So I would like to backport &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8330094&quot; title=&quot;RISC-V: Save and restore FRM in the call stub&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8330094&quot;&gt;&lt;strike&gt;JDK-8330094&lt;/strike&gt;&lt;/a&gt; to jdk21u-dev. With this change, we save and restore the default floating-point control state when we enter and leave Java code, ensuring that we are still Java compatible if we&amp;#39;re called via the JNI invocation interface with a weird FP control state. RISC-V specific change, risk is low.</comment>
                            <comment id="14669480" author="JIRAUSER20521" created="Tue, 30 Apr 2024 19:58:45 -0700"  >Fix Request (17u):&lt;br/&gt;
Hi, The same issue also exists in JDK17u. So I would like to backport &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8330094&quot; title=&quot;RISC-V: Save and restore FRM in the call stub&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8330094&quot;&gt;&lt;strike&gt;JDK-8330094&lt;/strike&gt;&lt;/a&gt; to jdk17u-dev. With this change, we save and restore the default floating-point control state when we enter and leave Java code, ensuring that we are still Java compatible if we&amp;#39;re called via the JNI invocation interface with a weird FP control state. RISC-V specific change, risk is low.</comment>
                            <comment id="14669353" author="roboduke" created="Tue, 30 Apr 2024 06:29:19 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/174&quot;&gt;https://git.openjdk.org/jdk22u/pull/174&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-30 13:25:35 +0000</comment>
                            <comment id="14669350" author="roboduke" created="Tue, 30 Apr 2024 06:14:20 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2442&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2442&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-30 13:10:18 +0000</comment>
                            <comment id="14669349" author="roboduke" created="Tue, 30 Apr 2024 06:14:05 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/545&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/545&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-30 13:08:50 +0000</comment>
                            <comment id="14666209" author="dukebot" created="Thu, 18 Apr 2024 04:14:22 -0700"  >Changeset: b0496096&lt;br/&gt;
Author:    Hamlin Li &amp;lt;&lt;a href=&apos;mailto:mli@openjdk.org&apos;&gt;mli@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-04-18 11:13:10 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/b0496096dc8d7dc7acf28aa006141a3ecea446de&quot;&gt;https://git.openjdk.org/jdk/commit/b0496096dc8d7dc7acf28aa006141a3ecea446de&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14664911" author="roboduke" created="Fri, 12 Apr 2024 05:22:35 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18758&quot;&gt;https://git.openjdk.org/jdk/pull/18758&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-12 12:16:44 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5128693">JDK-8331688</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128694">JDK-8331689</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5128695">JDK-8331690</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5115745">JDK-8321010</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5114597">JDK-8319973</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5126895">JDK-8330266</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="20300"><![CDATA[riscv]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35vdv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17351"><![CDATA[b20]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>