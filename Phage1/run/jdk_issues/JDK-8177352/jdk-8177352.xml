<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:36:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8177352] Calendar.getDisplayName(s) in non-lenient mode inconsistent, does not match spec</title>
                <link>https://bugs.openjdk.org/browse/JDK-8177352</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>Consider the program below.  The spec strongly suggests that IllegalArgumentException should be thrown by getDisplayName and getDisplayNames whenever the calendar is in non-lenient mode and has invalid fields.  But only one of the 4 cases below does so.  Furthermore, when an exception is thrown, it is misleading - the passed in field is not invalid, it&amp;#39;s the internal state.  IllegalStateException would have been better, but it&amp;#39;s 20 years too late...  Probably the spec should be updated to better reflect actual behavior.&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;$ cat GetDisplayName.java; echo ---; java GetDisplayName&lt;br/&gt;
import java.util.Calendar;&lt;br/&gt;
import java.util.Locale;&lt;br/&gt;
import static java.util.Calendar.*;&lt;br/&gt;
&lt;br/&gt;
public class GetDisplayName {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;public static void main(String[] args) throws Throwable {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Calendar c = Calendar.getInstance(Locale.US);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c.setLenient(false);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;c.set(SECOND, 9999);    // invalid!&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for (int field : new int[] { SECOND, MONTH }) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;try {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(c.getDisplayName(field, SHORT, Locale.US));&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;} catch (Throwable t) { t.printStackTrace(); }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;try {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;System.out.println(c.getDisplayNames(field, SHORT, Locale.US));&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;} catch (Throwable t) { t.printStackTrace(); }&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
}&lt;br/&gt;
---&lt;br/&gt;
null&lt;br/&gt;
null&lt;br/&gt;
java.lang.IllegalArgumentException: SECOND&lt;br/&gt;
	at java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2644)&lt;br/&gt;
	at java.base/java.util.Calendar.updateTime(Calendar.java:3395)&lt;br/&gt;
	at java.base/java.util.Calendar.complete(Calendar.java:2267)&lt;br/&gt;
	at java.base/java.util.Calendar.get(Calendar.java:1826)&lt;br/&gt;
	at java.base/java.util.Calendar.getDisplayName(Calendar.java:2087)&lt;br/&gt;
	at GetDisplayName.main(GetDisplayName.java:12)</description>
                <environment></environment>
        <key id="4919249">JDK-8177352</key>
            <summary>Calendar.getDisplayName(s) in non-lenient mode inconsistent, does not match spec</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jlu">Justin Lu</assignee>
                                    <reporter username="martin">Martin Buchholz</reporter>
                        <labels>
                            <label>noreg-doc</label>
                    </labels>
                <created>Tue, 21 Mar 2017 13:42:25 -0700</created>
                <updated>Mon, 3 Apr 2023 12:08:55 -0700</updated>
                            <resolved>Mon, 27 Mar 2023 14:38:14 -0700</resolved>
                                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14569820" author="dukebot" created="Mon, 27 Mar 2023 14:38:13 -0700"  >Changeset: f8e8fc7e&lt;br/&gt;
Author:    Justin Lu &amp;lt;&lt;a href=&apos;mailto:jlu@openjdk.org&apos;&gt;jlu@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Naoto Sato &amp;lt;&lt;a href=&apos;mailto:naoto@openjdk.org&apos;&gt;naoto@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-03-27 21:36:14 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/f8e8fc7e29f9b27bc6031804f916c34b8ef5a83e&quot;&gt;https://git.openjdk.org/jdk/commit/f8e8fc7e29f9b27bc6031804f916c34b8ef5a83e&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14569473" author="roboduke" created="Fri, 24 Mar 2023 13:43:36 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13083&quot;&gt;https://git.openjdk.org/jdk/pull/13083&lt;/a&gt;&lt;br/&gt;
Date: 2023-03-17 18:22:17 +0000</comment>
                            <comment id="14567272" author="JIRAUSER20507" created="Wed, 15 Mar 2023 16:02:08 -0700"  >This behavior is a result of the implementation difference between getDisplayNames() and getDisplayName(). &lt;br/&gt;
&lt;br/&gt;
Since getDisplayNames() does not need to grab any individual value (as it is returning the map of all possible values), it will not call get() (which eventually handles if an IAE should be thrown).&lt;br/&gt;
&lt;br/&gt;
getDisplayName() which does need to grab a specific value, does call get(). However, only the fields: era, month, day_of_week, and am_pm are supported. If the previously set field is not one of the mentioned fields, null is returned before an IAE can be thrown.</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10400">
                    <name>CSR</name>
                                            <outwardlinks description="csr for">
                                        <issuelink>
            <issuekey id="5096457">JDK-8304371</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26wzv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17312"><![CDATA[b16]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="239"><![CDATA[java.util:i18n]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>