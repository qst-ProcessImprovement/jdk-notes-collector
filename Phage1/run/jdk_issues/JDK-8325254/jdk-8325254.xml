<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 11:24:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8325254] CKA_TOKEN private and secret keys are not necessarily sensitive</title>
                <link>https://bugs.openjdk.org/browse/JDK-8325254</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>&lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8271566&quot; title=&quot;DSA signature length value is not accurate in P11Signature&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8271566&quot;&gt;&lt;strike&gt;JDK-8271566&lt;/strike&gt;&lt;/a&gt; introduced a change in how sensitive PKCS #11 keys are identified. In addition to CKA_SENSITIVE = TRUE and CKA_EXTRACTABLE = FALSE, CKA_TOKEN = TRUE is used as a sufficient indicator of a private key being opaque. This change was motivated by the NSS Software Token but is non-standard and does not represent all PKCS #11 tokens.&lt;br/&gt;
&lt;br/&gt;
For a token that has a private key with attributes CKA_TOKEN = TRUE, CKA_SENSITIVE = FALSE and CKA_EXTRACTABLE = TRUE, &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8271566&quot; title=&quot;DSA signature length value is not accurate in P11Signature&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8271566&quot;&gt;&lt;strike&gt;JDK-8271566&lt;/strike&gt;&lt;/a&gt; introduced an observable &#8212;and unintended&#8212; API change in KeyStore::getKey: a key object implementing the PrivateKey interface is returned (instance of P11RSAPrivateKeyInternal/P11DSAPrivateKeyInternal/Etc.) when one implementing the public interface RSAPrivateKey/DSAPrivateKey/Etc. should have been returned (instance of P11RSAPrivateKey/P11DSAPrivateKey/Etc).&lt;br/&gt;
&lt;br/&gt;
The NSS Software Token considers private and secret keys with CKA_TOKEN = TRUE as sensitive, regardless of the CKA_SENSITIVE and CKA_EXTRACTABLE attributes. See NSC_GetAttributeValue [1], nsc_GetTokenAttributeValue [2]  and sftk_isSensitive [3]. When keys have CKA_TOKEN = FALSE, CKA_SENSITIVE has to be TRUE for a private or secret key to be sensitive. See here [4] and here [5].&lt;br/&gt;
&lt;br/&gt;
Update: the token where the regression was observed uses the ICSF PKCS #11 library.&lt;br/&gt;
&lt;br/&gt;
--&lt;br/&gt;
[1] - &lt;a href=&quot;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4838&quot;&gt;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4838&lt;/a&gt;&lt;br/&gt;
[2] - &lt;a href=&quot;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4789&quot;&gt;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4789&lt;/a&gt;&lt;br/&gt;
[3] -  &lt;a href=&quot;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11u.c#L802&quot;&gt;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11u.c#L802&lt;/a&gt;&lt;br/&gt;
[4] - &lt;a href=&quot;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4864&quot;&gt;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4864&lt;/a&gt;&lt;br/&gt;
[5] - &lt;a href=&quot;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4867&quot;&gt;https://github.com/nss-dev/nss/blob/NSS_3_90_RTM/lib/softoken/pkcs11.c#L4867&lt;/a&gt;</description>
                <environment></environment>
        <key id="5120729">JDK-8325254</key>
            <summary>CKA_TOKEN private and secret keys are not necessarily sensitive</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbalao">Martin Balao Alonso</assignee>
                                    <reporter username="mbalao">Martin Balao Alonso</reporter>
                        <labels>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>noreg-trivial</label>
                    </labels>
                <created>Mon, 5 Feb 2024 08:51:03 -0800</created>
                <updated>Sun, 15 Jun 2025 23:41:25 -0700</updated>
                            <resolved>Tue, 6 Feb 2024 11:51:34 -0800</resolved>
                                    <version>17</version>
                    <version>21</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>security-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14657525" author="roboduke" created="Thu, 14 Mar 2024 13:09:22 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2299&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2299&lt;/a&gt;&lt;br/&gt;
Date: 2024-03-14 20:05:23 +0000</comment>
                            <comment id="14652310" author="roboduke" created="Mon, 26 Feb 2024 10:02:17 -0800"  >[jdk17u-fix-request] Approval Request from Martin Balao Alonso&lt;br/&gt;
17u is affected by this bug because it has 8271566 that introduced it. Risk is minimal.</comment>
                            <comment id="14651792" author="roboduke" created="Thu, 22 Feb 2024 23:53:23 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2223&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2223&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-23 07:48:59 +0000</comment>
                            <comment id="14651648" author="roboduke" created="Thu, 22 Feb 2024 09:38:04 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/283&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/283&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-22 17:33:00 +0000</comment>
                            <comment id="14651647" author="roboduke" created="Thu, 22 Feb 2024 09:37:29 -0800"  >[jdk21u-fix-request] Approval Request from Martin Balao Alonso&lt;br/&gt;
21u is affected by this bug because it has 8271566 that introduced it. Risk is minimal.</comment>
                            <comment id="14647131" author="dukebot" created="Tue, 6 Feb 2024 11:51:33 -0800"  >Changeset: 0f5f3c9b&lt;br/&gt;
Author:    Martin Balao &amp;lt;&lt;a href=&apos;mailto:mbalao@openjdk.org&apos;&gt;mbalao@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-02-06 19:49:30 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/0f5f3c9b9718c610406088327401210486447462&quot;&gt;https://git.openjdk.org/jdk/commit/0f5f3c9b9718c610406088327401210486447462&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14646701" author="roboduke" created="Mon, 5 Feb 2024 10:27:03 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/17712&quot;&gt;https://git.openjdk.org/jdk/pull/17712&lt;/a&gt;&lt;br/&gt;
Date: 2024-02-05 18:23:30 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5122262">JDK-8326554</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5122651">JDK-8326880</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10600">
                    <name>Causes</name>
                                                                <inwardlinks description="caused by">
                                        <issuelink>
            <issuekey id="5055518">JDK-8271566</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5122717">JDK-8326942</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17008"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34vc3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17336"><![CDATA[b09]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="249"><![CDATA[javax.crypto:pkcs11]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>