<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 08:49:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8301721] lookup.findSpecial fails on Object method call from interface</title>
                <link>https://bugs.openjdk.org/browse/JDK-8301721</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>|  Welcome to JShell -- Version 19&lt;br/&gt;
|  For an introduction type: /help intro&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; import java.lang.invoke.*;&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; class C { static void test() throws Throwable {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;         MethodHandles.Lookup lookup = MethodHandles.lookup();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;         MethodHandle mh = lookup.findSpecial(Object.class, &amp;quot;toString&amp;quot;, MethodType.methodType(String.class), C.class);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;         System.out.println(mh.invoke(new C()));&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;     }}&lt;br/&gt;
|  created class C&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; C.test()&lt;br/&gt;
REPL.$JShell$17$&lt;a href=&apos;mailto:C@b1bc7ed&apos;&gt;C@b1bc7ed&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; interface I { static void test() throws Throwable {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;         MethodHandles.Lookup lookup = MethodHandles.lookup();&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;         MethodHandle mh = lookup.findSpecial(Object.class, &amp;quot;toString&amp;quot;, MethodType.methodType(String.class), I.class);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;         System.out.println(mh.invoke(new I(){}));&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;...&amp;gt;     }}&lt;br/&gt;
|  created interface I&lt;br/&gt;
&lt;br/&gt;
jshell&amp;gt; I.test()&lt;br/&gt;
|  Exception java.lang.IllegalArgumentException: nothing to resolve&lt;br/&gt;
|        at MethodHandleNatives.resolve (Native Method)&lt;br/&gt;
|        at MemberName$Factory.resolve (MemberName.java:1085)&lt;br/&gt;
|        at MemberName$Factory.resolveOrNull (MemberName.java:1129)&lt;br/&gt;
|        at MethodHandles$Lookup.getDirectMethodCommon (MethodHandles.java:4010)&lt;br/&gt;
|        at MethodHandles$Lookup.getDirectMethod (MethodHandles.java:3963)&lt;br/&gt;
|        at MethodHandles$Lookup.findSpecial (MethodHandles.java:3012)&lt;br/&gt;
|        at I.test (#4:3)&lt;br/&gt;
|        at (#5:1)&lt;br/&gt;
&lt;br/&gt;
There&amp;#39;s no particular reason that an interface shouldn&amp;#39;t be able to make the same &amp;#39;findSpecial&amp;#39; request as a class. I believe this &amp;#39;findSpecial&amp;#39; call should succeed.</description>
                <environment></environment>
        <key id="5093278">JDK-8301721</key>
            <summary>lookup.findSpecial fails on Object method call from interface</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mchung">Mandy Chung</assignee>
                                    <reporter username="dlsmith">Dan Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Feb 2023 16:20:03 -0800</created>
                <updated>Mon, 12 Jun 2023 20:49:35 -0700</updated>
                            <resolved>Tue, 6 Jun 2023 09:21:39 -0700</resolved>
                                    <version>19</version>
                                    <fixVersion>21</fixVersion>
                                    <component>core-libs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14587384" author="dukebot" created="Tue, 6 Jun 2023 09:21:37 -0700"  >Changeset: 74dc50b7&lt;br/&gt;
Author:    Mandy Chung &amp;lt;&lt;a href=&apos;mailto:mchung@openjdk.org&apos;&gt;mchung@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-06-06 16:19:46 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/74dc50b7f0b0b9440746ff329fc3324c477ae421&quot;&gt;https://git.openjdk.org/jdk/commit/74dc50b7f0b0b9440746ff329fc3324c477ae421&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14587170" author="roboduke" created="Mon, 5 Jun 2023 12:42:09 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/14319&quot;&gt;https://git.openjdk.org/jdk/pull/14319&lt;/a&gt;&lt;br/&gt;
Date: 2023-06-05 19:33:48 +0000</comment>
                            <comment id="14557255" author="mchung" created="Fri, 3 Feb 2023 11:02:48 -0800"  >The implementation for looking up the method from its super class assumes the lookup class always has a super class.   It needs to handle when the lookup class is an interface where I.class.getSuperclass() returns null.</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i308cr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17357"><![CDATA[b26]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="213"><![CDATA[java.lang.invoke]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>