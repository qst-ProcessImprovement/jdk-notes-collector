<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 12:56:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8330611] AES-CTR vector intrinsic may read out of bounds (x86_64, AVX-512)</title>
                <link>https://bugs.openjdk.org/browse/JDK-8330611</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>The AES-CTR vector intrinsic may read the Java heap out of bounds in x86_64 with AVX-512 instructions (extensions avx512bw, avx512vl and vaes are required). This happens when the input&amp;#39;s size is not multiple of the block size (16 bytes) or, in other words, when there is a tail of plaintext/ciphertext to process. While the extra data spuriously read is intentionally discarded &#8212;and there is no risk of leaking or corrupting data&#8212;, this could be a problem if the array containing the input is located at the end of the Java heap. In this extreme case, it&amp;#39;s possible to read an unmapped memory region or a region with non-read permissions, which would trigger a segmentation fault and a JVM crash. This bug is not easy to reproduce or likely to happen but there has been a report providing evidence of a real occurence.</description>
                <environment></environment>
        <key id="5127318">JDK-8330611</key>
            <summary>AES-CTR vector intrinsic may read out of bounds (x86_64, AVX-512)</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://bugs.openjdk.org/images/jbsImages/p3.png">P3</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbalao">Martin Balao Alonso</assignee>
                                    <reporter username="mbalao">Martin Balao Alonso</reporter>
                        <labels>
                            <label>amazon-interest</label>
                            <label>intrinsic</label>
                            <label>jdk17u-fix-request</label>
                            <label>jdk17u-fix-yes</label>
                            <label>jdk21u-fix-request</label>
                            <label>jdk21u-fix-yes</label>
                            <label>jdk22u-fix-SQE-ok</label>
                            <label>jdk22u-fix-request</label>
                            <label>jdk22u-fix-yes</label>
                            <label>noreg-hard</label>
                            <label>oracle-triage-23</label>
                    </labels>
                <created>Thu, 18 Apr 2024 16:16:45 -0700</created>
                <updated>Tue, 29 Oct 2024 08:17:00 -0700</updated>
                            <resolved>Wed, 24 Apr 2024 13:25:45 -0700</resolved>
                                    <version>11.0.9</version>
                    <version>17</version>
                    <version>21</version>
                    <version>22</version>
                    <version>23</version>
                                    <fixVersion>23</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14684304" author="JIRAUSER19713" created="Mon, 24 Jun 2024 14:36:32 -0700"  >[jdk17u-fix-request] Approval Request from Scott Gibbons&lt;br/&gt;
Please consider this bug fix for jdk17u, as this release is affected. The JDK main line patch applies cleanly. This bug fix has been backported to jdk22u and jdk21u. The scope of the change is limited to the AES-CTR intrinsic for x86_64 AVX-512. I ran all the same testing as for JDK main line, no regressions were observed in hotspot/jtreg/compiler/codegen/aes and I manually verified that the bug was fixed. Ran tier1 and tier2 tests manually.</comment>
                            <comment id="14684303" author="roboduke" created="Mon, 24 Jun 2024 14:33:55 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk17u-dev/pull/2634&quot;&gt;https://git.openjdk.org/jdk17u-dev/pull/2634&lt;/a&gt;&lt;br/&gt;
Date: 2024-06-24 20:53:37 +0000</comment>
                            <comment id="14680872" author="roboduke" created="Wed, 12 Jun 2024 03:59:49 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/702&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/702&lt;/a&gt;&lt;br/&gt;
Date: 2024-06-12 10:53:49 +0000</comment>
                            <comment id="14668516" author="roboduke" created="Fri, 26 Apr 2024 23:39:47 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk22u/pull/171&quot;&gt;https://git.openjdk.org/jdk22u/pull/171&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-27 06:35:15 +0000</comment>
                            <comment id="14668515" author="roboduke" created="Fri, 26 Apr 2024 23:39:15 -0700"  >[jdk22u-fix-request] Approval Request from Martin Balao Alonso&lt;br/&gt;
Please consider this bug fix for jdk22u, as this release is affected. The JDK main line patch applies cleanly. The scope of the change is limited to the AES-CTR intrinsic for x86_64 AVX-512. I ran all the same testing as for JDK main line, no regressions were observed in hotspot/jtreg/compiler/codegen/aes and I manually verified that the bug was fixed.</comment>
                            <comment id="14667847" author="roboduke" created="Wed, 24 Apr 2024 22:31:32 -0700"  >[jdk21u-fix-request] Approval Request from Martin Balao Alonso&lt;br/&gt;
Please consider this bug fix for jdk21u, as this release is affected. The JDK main line patch applies cleanly. This bug fix has been backported to jdk22u. The scope of the change is limited to the AES-CTR intrinsic for x86_64 AVX-512. I ran all the same testing as for JDK main line, no regressions were observed in hotspot/jtreg/compiler/codegen/aes and I manually verified that the bug was fixed.</comment>
                            <comment id="14667837" author="roboduke" created="Wed, 24 Apr 2024 21:06:40 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk21u-dev/pull/531&quot;&gt;https://git.openjdk.org/jdk21u-dev/pull/531&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-25 04:02:32 +0000</comment>
                            <comment id="14667807" author="dukebot" created="Wed, 24 Apr 2024 13:25:44 -0700"  >Changeset: 8a8d9288&lt;br/&gt;
Author:    Martin Balao &amp;lt;&lt;a href=&apos;mailto:mbalao@openjdk.org&apos;&gt;mbalao@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2024-04-24 20:23:25 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8a8d9288980513db459f7d6b36554b65844951ca&quot;&gt;https://git.openjdk.org/jdk/commit/8a8d9288980513db459f7d6b36554b65844951ca&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14666540" author="chagedorn" created="Fri, 19 Apr 2024 05:11:48 -0700"  >ILW = Out-of-bounds read with AES-CTR intrinsic, rare, disable instrinsic with -XX:-UseAESCTRIntrinsics = HLM = P3</comment>
                            <comment id="14666511" author="shade" created="Fri, 19 Apr 2024 04:01:39 -0700"  >AFAICS, this stretches all the way back to &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8233741&quot; title=&quot;AES Countermode (CTR) optimization using AVX512 + VAES instructions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8233741&quot;&gt;&lt;strike&gt;JDK-8233741&lt;/strike&gt;&lt;/a&gt;.</comment>
                            <comment id="14666371" author="roboduke" created="Thu, 18 Apr 2024 17:10:06 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/18849&quot;&gt;https://git.openjdk.org/jdk/pull/18849&lt;/a&gt;&lt;br/&gt;
Date: 2024-04-19 00:04:41 +0000</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10200">
                    <name>Backport</name>
                                            <outwardlinks description="backported by">
                                        <issuelink>
            <issuekey id="5131628">JDK-8334062</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131724">JDK-8334148</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5133500">JDK-8335724</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="5131717">JDK-8334142</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5003857">JDK-8233741</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5142610">JDK-8343389</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>CPU</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="19000"><![CDATA[x86_64]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_10005" key="com.atlassian.jira.plugin.system.customfieldtypes:multiselect">
                        <customfieldname>OS</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17010"><![CDATA[generic]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35zbn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17351"><![CDATA[b20]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="208"><![CDATA[compiler]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>