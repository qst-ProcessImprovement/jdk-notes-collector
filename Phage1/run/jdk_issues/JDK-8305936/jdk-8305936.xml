<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 18:31:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8305936] JavaThread::create_system_thread_object has unused is_visible argument</title>
                <link>https://bugs.openjdk.org/browse/JDK-8305936</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>JavaThread::create_system_thread_object has an is_visible argument, which is supposed to control whether the thread is visible to external suspension.&lt;br/&gt;
&lt;br/&gt;
However, &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8284161&quot; title=&quot;Implementation of Virtual Threads (Preview)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8284161&quot;&gt;&lt;strike&gt;JDK-8284161&lt;/strike&gt;&lt;/a&gt; eliminated the use of that argument.&lt;br/&gt;
&lt;br/&gt;
The functionality of whether the thread is externally visible is provided by the virtual function Thread::is_hidden_from_external_view().</description>
                <environment></environment>
        <key id="5098334">JDK-8305936</key>
            <summary>JavaThread::create_system_thread_object has unused is_visible argument</summary>
                <type id="1" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14703&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dholmes">David Holmes</assignee>
                                    <reporter username="kbarrett">Kim Barrett</reporter>
                        <labels>
                            <label>noreg-cleanup</label>
                            <label>threads</label>
                    </labels>
                <created>Wed, 12 Apr 2023 16:25:58 -0700</created>
                <updated>Wed, 19 Apr 2023 23:42:18 -0700</updated>
                            <resolved>Thu, 13 Apr 2023 16:11:40 -0700</resolved>
                                    <version>21</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14573706" author="dukebot" created="Thu, 13 Apr 2023 16:11:39 -0700"  >Changeset: 8a1639d4&lt;br/&gt;
Author:    David Holmes &amp;lt;&lt;a href=&apos;mailto:dholmes@openjdk.org&apos;&gt;dholmes@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-04-13 23:10:18 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/8a1639d49b4adc45501fe77cedfef3ca5f42c7f5&quot;&gt;https://git.openjdk.org/jdk/commit/8a1639d49b4adc45501fe77cedfef3ca5f42c7f5&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14573480" author="roboduke" created="Wed, 12 Apr 2023 22:48:56 -0700"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/13455&quot;&gt;https://git.openjdk.org/jdk/pull/13455&lt;/a&gt;&lt;br/&gt;
Date: 2023-04-13 05:41:31 +0000</comment>
                            <comment id="14573449" author="dholmes" created="Wed, 12 Apr 2023 18:03:00 -0700"  >[~kbarrett] I was just about to add this comment ...&lt;br/&gt;
&lt;br/&gt;
Before Loom, Threads were explicitly added to their ThreadGroup, first as an unstarted thread during Thread construction, and then as a live thread once the thread was started. For system threads we would call tg.add(t) depending on whether the thread needed to be visible or not (adding makes it visible).&lt;br/&gt;
&lt;br/&gt;
After Loom, ThreadGroups no longer track the threads that are in them, instead the Java logic calls into the VM to getAllThreads() and then filters based on groups. The VM code uses the ThreadsListEnumerator with all false arguments, to get the set of live threads. Whether or not a system thread is returned depends on the result of jt-&amp;gt;is_hidden_from_external_view(). The method is overloaded to return true for the following threads:&lt;br/&gt;
&lt;br/&gt;
- compiler threads&lt;br/&gt;
- serviceThread&lt;br/&gt;
- monitorDeflationThread&lt;br/&gt;
&lt;br/&gt;
This is the same set of threads which set is_visible to false when calling create_system_thread_object.&lt;br/&gt;
&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5071507">JDK-8284161</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3139n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17414"><![CDATA[b19]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>