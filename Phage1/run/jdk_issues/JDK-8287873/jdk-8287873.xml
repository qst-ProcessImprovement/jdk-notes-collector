<!-- 
RSS generated by JIRA (9.12.27#9120027-sha1:edc4490121e366e9e7bd2213d532dbe7e028fc5d) at Tue Sep 30 13:58:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>Java Bug System</title>
    <link>https://bugs.openjdk.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>9.12.27</version>
        <build-number>9120027</build-number>
        <build-date>02-09-2025</build-date>
    </build-info>


<item>
            <title>[JDK-8287873] Add test for using -XX:+AutoCreateSharedArchive with different JDK versions</title>
                <link>https://bugs.openjdk.org/browse/JDK-8287873</link>
                <project id="10100" key="JDK">JDK</project>
                    <description>This is an enhancement of  the test case in &lt;a href=&quot;https://bugs.openjdk.org/browse/JDK-8296754&quot; title=&quot;AutoCreateSharedArchive in JDK 20 is not compatible with JDK 19&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JDK-8296754&quot;&gt;&lt;strike&gt;JDK-8296754&lt;/strike&gt;&lt;/a&gt;, which tests against an archive created by the &amp;quot;boot JDK&amp;quot;, which is usually set as the previous official JDK release when building the JDK repo. See:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;https://github.com/openjdk/jdk/blob/a249a52501f3cd7d4fbe5293d14ac8d0d6ffcc69/test/hotspot/jtreg/runtime/cds/appcds/dynamicArchive/TestAutoCreateSharedArchiveUpgrade.java&quot;&gt;https://github.com/openjdk/jdk/blob/a249a52501f3cd7d4fbe5293d14ac8d0d6ffcc69/test/hotspot/jtreg/runtime/cds/appcds/dynamicArchive/TestAutoCreateSharedArchiveUpgrade.java&lt;/a&gt;&lt;br/&gt;
&lt;br/&gt;
To be more comprehensive, we should enhance  so that &lt;br/&gt;
&lt;br/&gt;
[1] If it&amp;#39;s able to acquire previous valid JDK releases:&lt;br/&gt;
- Download and install previous JDK versions (19 through N)&lt;br/&gt;
where N == java.lang.Runtime.version&#8203;().major() - 1&lt;br/&gt;
- Test the interaction of the current JDK versus each of the previous releases&lt;br/&gt;
&lt;br/&gt;
[2] If it&amp;#39;s not able to find the previous releases revert to the existing logic in TestAutoCreateSharedArchiveUpgrade.java (use the test.boot.jdk or test.previous.jdk properties).&lt;br/&gt;
&lt;br/&gt;
************************&lt;br/&gt;
We need to add some extra properties to be passed to test/lib/jdk/test/lib/artifacts/JibArtifactManager.java (more details will be added here ....)&lt;br/&gt;
</description>
                <environment></environment>
        <key id="5076306">JDK-8287873</key>
            <summary>Add test for using -XX:+AutoCreateSharedArchive with different JDK versions</summary>
                <type id="7" iconUrl="https://bugs.openjdk.org/secure/viewavatar?size=xsmall&amp;avatarId=14707&amp;avatarType=issuetype">Enhancement</type>
                                            <priority id="4" iconUrl="https://bugs.openjdk.org/images/jbsImages/p4.png">P4</priority>
                        <status id="5" iconUrl="https://bugs.openjdk.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="success"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="matsaave">Matias Saavedra Silva</assignee>
                                    <reporter username="iklam">Ioi Lam</reporter>
                        <labels>
                            <label>cds</label>
                    </labels>
                <created>Mon, 6 Jun 2022 15:37:52 -0700</created>
                <updated>Wed, 25 Jan 2023 22:57:29 -0800</updated>
                            <resolved>Thu, 19 Jan 2023 16:57:17 -0800</resolved>
                                    <version>19</version>
                                    <fixVersion>21</fixVersion>
                                    <component>hotspot</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14552917" author="dukebot" created="Thu, 19 Jan 2023 16:57:16 -0800"  >Changeset: 77f2d20e&lt;br/&gt;
Author:    Matias Saavedra Silva &amp;lt;&lt;a href=&apos;mailto:matsaave@openjdk.org&apos;&gt;matsaave@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Committer: Ioi Lam &amp;lt;&lt;a href=&apos;mailto:iklam@openjdk.org&apos;&gt;iklam@openjdk.org&lt;/a&gt;&amp;gt;&lt;br/&gt;
Date:      2023-01-20 00:55:28 +0000&lt;br/&gt;
URL:       &lt;a href=&quot;https://git.openjdk.org/jdk/commit/77f2d20e96712de725abffd9db5f28b1a48153b4&quot;&gt;https://git.openjdk.org/jdk/commit/77f2d20e96712de725abffd9db5f28b1a48153b4&lt;/a&gt;&lt;br/&gt;
</comment>
                            <comment id="14548824" author="roboduke" created="Wed, 4 Jan 2023 18:24:18 -0800"  >A pull request was submitted for review.&lt;br/&gt;
URL: &lt;a href=&quot;https://git.openjdk.org/jdk/pull/11852&quot;&gt;https://git.openjdk.org/jdk/pull/11852&lt;/a&gt;&lt;br/&gt;
Date: 2023-01-04 20:07:48 +0000</comment>
                            <comment id="14541335" author="iklam" created="Tue, 29 Nov 2022 11:51:28 -0800"  >According to [~erikj]&lt;br/&gt;
&lt;br/&gt;
To get this to work, &lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/artifacts/ArtifactResolver.java&quot;&gt;https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/artifacts/ArtifactResolver.java&lt;/a&gt; needs to supply properties like this in the map it sends to the ArtifactManager:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;server: &amp;quot;jpg&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;product: &amp;quot;jdk&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: common.boot_jdk_version,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;build_number: common.boot_jdk_build_number,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;file: &amp;quot;bundles/&amp;quot; + boot_jdk_platform + &amp;quot;/jdk-&amp;quot; + common.boot_jdk_version + &amp;quot;_&amp;quot;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;+ boot_jdk_platform + &amp;quot;_bin&amp;quot; + boot_jdk_ext,&lt;br/&gt;
&lt;br/&gt;
(The above are from &lt;a href=&quot;https://github.com/openjdk/jdk/blob/7af6b4b54cc2ead4f5dbd6bfa7fd343b84c1d8b5/make/conf/jib-profiles.js#L1070-L1079&quot;&gt;https://github.com/openjdk/jdk/blob/7af6b4b54cc2ead4f5dbd6bfa7fd343b84c1d8b5/make/conf/jib-profiles.js#L1070-L1079&lt;/a&gt; , where it specifies the boot jdk)&lt;br/&gt;
&lt;br/&gt;
Resolving those values for linux-x64 would look something like this:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;server: &amp;quot;jpg&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;product: &amp;quot;jdk&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: &amp;quot;19&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;build_number: &amp;quot;36&amp;quot;,&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;file: &amp;quot;bundles/linux-x64/jdk-19_linux-x64_bin.tar.gz&amp;quot;&lt;br/&gt;
&lt;br/&gt;
This means we should add a few extra fields to &lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/artifacts/Artifact.java:&quot;&gt;https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/artifacts/Artifact.java:&lt;/a&gt;&lt;br/&gt;
- server&lt;br/&gt;
- product&lt;br/&gt;
- version&lt;br/&gt;
- build_number&lt;br/&gt;
- file&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
(For an example of using ArtifactResolver, see &lt;a href=&quot;https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/security/OpensslArtifactFetcher.java&quot;&gt;https://github.com/openjdk/jdk/blob/master/test/lib/jdk/test/lib/security/OpensslArtifactFetcher.java&lt;/a&gt; )&lt;br/&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10003">
                    <name>Relates</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5087239">JDK-8296754</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="5076302">JDK-8287869</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_11700" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10600" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-fixedBackportedCustomfield">
                        <customfieldname>Fixed</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_11100" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xcx7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_11004" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10006" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Resolved In Build</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="17335"><![CDATA[b07]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10008" key="com.oracle.jira.jira-subcomponent-plugin:oracle-subComponentField">
                        <customfieldname>Subcomponent</customfieldname>
                        <customfieldvalues>
                             <customfieldvalue key="192"><![CDATA[runtime]]></customfieldvalue> 
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10601" key="com.oracle.jira.javabugsystem-jira-plugin:jbs-targetBackportedCustomfield">
                        <customfieldname>Targeted</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>